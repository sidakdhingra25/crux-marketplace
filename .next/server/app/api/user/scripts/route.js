/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/user/scripts/route";
exports.ids = ["app/api/user/scripts/route"];
exports.modules = {

/***/ "(rsc)/./app/api/user/scripts/route.ts":
/*!***************************************!*\
  !*** ./app/api/user/scripts/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/auth */ \"(rsc)/./auth.ts\");\n/* harmony import */ var _lib_database_new__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/database-new */ \"(rsc)/./lib/database-new.ts\");\n\n\n\n\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Check if user has permission to view scripts (founder, admin, verified_creator)\n        const user = session.user;\n        if (!user.roles || !(0,_lib_database_new__WEBPACK_IMPORTED_MODULE_3__.hasAnyRole)(user.roles, [\n            'founder',\n            'admin',\n            'verified_creator'\n        ])) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"You need founder, admin, or verified creator access to view scripts.\"\n            }, {\n                status: 403\n            });\n        }\n        const userId = session.user.id;\n        const userEmail = session.user.email;\n        console.log(\"User scripts API - User:\", {\n            id: userId,\n            email: userEmail\n        });\n        // Fetch scripts from all tables where the user is the seller\n        let pending = [];\n        let approved = [];\n        let rejected = [];\n        try {\n            [pending, approved, rejected] = await Promise.all([\n                (0,_lib_database_new__WEBPACK_IMPORTED_MODULE_3__.getPendingScripts)(1000),\n                (0,_lib_database_new__WEBPACK_IMPORTED_MODULE_3__.getApprovedScripts)(1000),\n                (0,_lib_database_new__WEBPACK_IMPORTED_MODULE_3__.getRejectedScripts)(1000)\n            ]);\n        } catch (error) {\n            console.log(\"Approval tables don't exist yet, falling back to main scripts table\");\n            // Fallback to main scripts table if approval tables don't exist\n            const { getScripts } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/database-new */ \"(rsc)/./lib/database-new.ts\"));\n            const allScripts = await getScripts({\n                limit: 1000\n            });\n            approved = allScripts; // Treat all scripts as approved for now\n        }\n        // Filter scripts by user email\n        const userPending = pending.filter((s)=>s.seller_email === userEmail);\n        const userApproved = approved.filter((s)=>s.seller_email === userEmail);\n        const userRejected = rejected.filter((s)=>s.seller_email === userEmail);\n        console.log(\"User scripts API - Found scripts:\", {\n            total: pending.length + approved.length + rejected.length,\n            userPending: userPending.length,\n            userApproved: userApproved.length,\n            userRejected: userRejected.length\n        });\n        // Combine and format the scripts\n        const allScripts = [\n            ...userPending.map((s)=>({\n                    ...s,\n                    status: 'pending',\n                    seller_id: userId,\n                    created_at: s.createdAt || s.submittedAt,\n                    updated_at: s.updatedAt\n                })),\n            ...userApproved.map((s)=>({\n                    ...s,\n                    status: 'approved',\n                    seller_id: userId,\n                    created_at: s.createdAt || s.approvedAt,\n                    updated_at: s.updatedAt\n                })),\n            ...userRejected.map((s)=>({\n                    ...s,\n                    status: 'rejected',\n                    seller_id: userId,\n                    created_at: s.createdAt || s.rejectedAt,\n                    updated_at: s.updatedAt\n                }))\n        ];\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            scripts: allScripts\n        });\n    } catch (error) {\n        console.error('Error fetching user scripts:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Allow users to create scripts using the existing database function\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const userId = session.user.id;\n        const userEmail = session.user.email;\n        const body = await request.json();\n        // Use the existing createScript function from database-new.ts\n        const { createScript } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/database-new */ \"(rsc)/./lib/database-new.ts\"));\n        const scriptData = {\n            title: body.title,\n            description: body.description,\n            price: body.price,\n            original_price: body.original_price,\n            category: body.category,\n            framework: body.framework,\n            seller_name: body.seller_name || session.user.name || 'Unknown Seller',\n            seller_email: userEmail,\n            tags: body.tags || [],\n            features: body.features || [],\n            requirements: body.requirements || [],\n            images: body.images || [],\n            videos: body.videos || [],\n            screenshots: body.screenshots || [],\n            cover_image: body.cover_image,\n            demo_url: body.demo_url,\n            documentation_url: body.documentation_url,\n            support_url: body.support_url,\n            version: body.version || '1.0.0',\n            featured: body.featured || false\n        };\n        const scriptId = await createScript(scriptData);\n        if (scriptId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                scriptId: scriptId,\n                message: \"Script created successfully\"\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to create script\"\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error('Error creating user script:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Allow users to update their scripts\nasync function PATCH(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const userEmail = session.user.email;\n        const body = await request.json();\n        const { scriptId, ...updateData } = body;\n        if (!scriptId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Script ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Ownership check would require fetching from pending/approved by seller_email\n        const { updateScript } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/database-new */ \"(rsc)/./lib/database-new.ts\"));\n        const updated = await updateScript(Number(scriptId), updateData);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: !!updated\n        });\n    } catch (error) {\n        console.error('Error updating user script:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Allow users to delete their scripts\nasync function DELETE(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const userEmail = session.user.email;\n        const { searchParams } = new URL(request.url);\n        const scriptId = searchParams.get('id');\n        if (!scriptId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Script ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        const { deleteScript } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/database-new */ \"(rsc)/./lib/database-new.ts\"));\n        const ok = await deleteScript(Number(scriptId));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: ok\n        });\n    } catch (error) {\n        console.error('Error deleting user script:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDWixVQUFVO1lBQ2IsT0FBT3ZFLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBd0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzdFO1FBRUEsTUFBTSxFQUFFdUUsWUFBWSxFQUFFLEdBQUcsTUFBTSw2SUFBNEI7UUFDM0QsTUFBTUMsS0FBSyxNQUFNRCxhQUFhTixPQUFPUDtRQUNyQyxPQUFPdkUscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFNkQsU0FBU2E7UUFBRztJQUN6QyxFQUFFLE9BQU96RSxPQUFPO1FBQ2RPLFFBQVFQLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9aLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXERlbGxcXERlc2t0b3BcXGNydXgtbWFya2V0cGxhY2VcXGNydXgtbWFya2V0cGxhY2VcXGFwcFxcYXBpXFx1c2VyXFxzY3JpcHRzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2F1dGgnO1xyXG5pbXBvcnQgeyBcclxuICBnZXRQZW5kaW5nU2NyaXB0cywgXHJcbiAgZ2V0QXBwcm92ZWRTY3JpcHRzLCBcclxuICBnZXRSZWplY3RlZFNjcmlwdHMsXHJcbiAgaGFzUm9sZSxcclxuICBoYXNBbnlSb2xlXHJcbn0gZnJvbSAnQC9saWIvZGF0YWJhc2UtbmV3JztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG4gICAgXHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHZpZXcgc2NyaXB0cyAoZm91bmRlciwgYWRtaW4sIHZlcmlmaWVkX2NyZWF0b3IpXHJcbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbi51c2VyIGFzIGFueVxyXG4gICAgaWYgKCF1c2VyLnJvbGVzIHx8ICFoYXNBbnlSb2xlKHVzZXIucm9sZXMsIFsnZm91bmRlcicsICdhZG1pbicsICd2ZXJpZmllZF9jcmVhdG9yJ10pKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgIGVycm9yOiBcIllvdSBuZWVkIGZvdW5kZXIsIGFkbWluLCBvciB2ZXJpZmllZCBjcmVhdG9yIGFjY2VzcyB0byB2aWV3IHNjcmlwdHMuXCIgXHJcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXNlcklkID0gc2Vzc2lvbi51c2VyLmlkO1xyXG4gICAgY29uc3QgdXNlckVtYWlsID0gc2Vzc2lvbi51c2VyLmVtYWlsO1xyXG4gICAgY29uc29sZS5sb2coXCJVc2VyIHNjcmlwdHMgQVBJIC0gVXNlcjpcIiwgeyBpZDogdXNlcklkLCBlbWFpbDogdXNlckVtYWlsIH0pO1xyXG5cclxuICAgIC8vIEZldGNoIHNjcmlwdHMgZnJvbSBhbGwgdGFibGVzIHdoZXJlIHRoZSB1c2VyIGlzIHRoZSBzZWxsZXJcclxuICAgIGxldCBwZW5kaW5nOiBhbnlbXSA9IFtdO1xyXG4gICAgbGV0IGFwcHJvdmVkOiBhbnlbXSA9IFtdO1xyXG4gICAgbGV0IHJlamVjdGVkOiBhbnlbXSA9IFtdO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBbcGVuZGluZywgYXBwcm92ZWQsIHJlamVjdGVkXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICBnZXRQZW5kaW5nU2NyaXB0cygxMDAwKSxcclxuICAgICAgICBnZXRBcHByb3ZlZFNjcmlwdHMoMTAwMCksXHJcbiAgICAgICAgZ2V0UmVqZWN0ZWRTY3JpcHRzKDEwMDApXHJcbiAgICAgIF0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJBcHByb3ZhbCB0YWJsZXMgZG9uJ3QgZXhpc3QgeWV0LCBmYWxsaW5nIGJhY2sgdG8gbWFpbiBzY3JpcHRzIHRhYmxlXCIpO1xyXG4gICAgICAvLyBGYWxsYmFjayB0byBtYWluIHNjcmlwdHMgdGFibGUgaWYgYXBwcm92YWwgdGFibGVzIGRvbid0IGV4aXN0XHJcbiAgICAgIGNvbnN0IHsgZ2V0U2NyaXB0cyB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9kYXRhYmFzZS1uZXcnKTtcclxuICAgICAgY29uc3QgYWxsU2NyaXB0cyA9IGF3YWl0IGdldFNjcmlwdHMoeyBsaW1pdDogMTAwMCB9KTtcclxuICAgICAgYXBwcm92ZWQgPSBhbGxTY3JpcHRzOyAvLyBUcmVhdCBhbGwgc2NyaXB0cyBhcyBhcHByb3ZlZCBmb3Igbm93XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmlsdGVyIHNjcmlwdHMgYnkgdXNlciBlbWFpbFxyXG4gICAgY29uc3QgdXNlclBlbmRpbmcgPSBwZW5kaW5nLmZpbHRlcihzID0+IHMuc2VsbGVyX2VtYWlsID09PSB1c2VyRW1haWwpO1xyXG4gICAgY29uc3QgdXNlckFwcHJvdmVkID0gYXBwcm92ZWQuZmlsdGVyKHMgPT4gcy5zZWxsZXJfZW1haWwgPT09IHVzZXJFbWFpbCk7XHJcbiAgICBjb25zdCB1c2VyUmVqZWN0ZWQgPSByZWplY3RlZC5maWx0ZXIocyA9PiBzLnNlbGxlcl9lbWFpbCA9PT0gdXNlckVtYWlsKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlVzZXIgc2NyaXB0cyBBUEkgLSBGb3VuZCBzY3JpcHRzOlwiLCB7IFxyXG4gICAgICB0b3RhbDogcGVuZGluZy5sZW5ndGggKyBhcHByb3ZlZC5sZW5ndGggKyByZWplY3RlZC5sZW5ndGgsXHJcbiAgICAgIHVzZXJQZW5kaW5nOiB1c2VyUGVuZGluZy5sZW5ndGgsIFxyXG4gICAgICB1c2VyQXBwcm92ZWQ6IHVzZXJBcHByb3ZlZC5sZW5ndGgsIFxyXG4gICAgICB1c2VyUmVqZWN0ZWQ6IHVzZXJSZWplY3RlZC5sZW5ndGggXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb21iaW5lIGFuZCBmb3JtYXQgdGhlIHNjcmlwdHNcclxuICAgIGNvbnN0IGFsbFNjcmlwdHMgPSBbXHJcbiAgICAgIC4uLnVzZXJQZW5kaW5nLm1hcChzID0+ICh7IFxyXG4gICAgICAgIC4uLnMsIFxyXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxyXG4gICAgICAgIHNlbGxlcl9pZDogdXNlcklkLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHMuY3JlYXRlZEF0IHx8IHMuc3VibWl0dGVkQXQsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogcy51cGRhdGVkQXRcclxuICAgICAgfSkpLFxyXG4gICAgICAuLi51c2VyQXBwcm92ZWQubWFwKHMgPT4gKHsgXHJcbiAgICAgICAgLi4ucywgXHJcbiAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4gICAgICAgIHNlbGxlcl9pZDogdXNlcklkLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHMuY3JlYXRlZEF0IHx8IHMuYXBwcm92ZWRBdCxcclxuICAgICAgICB1cGRhdGVkX2F0OiBzLnVwZGF0ZWRBdFxyXG4gICAgICB9KSksXHJcbiAgICAgIC4uLnVzZXJSZWplY3RlZC5tYXAocyA9PiAoeyBcclxuICAgICAgICAuLi5zLCBcclxuICAgICAgICBzdGF0dXM6ICdyZWplY3RlZCcsXHJcbiAgICAgICAgc2VsbGVyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcy5jcmVhdGVkQXQgfHwgcy5yZWplY3RlZEF0LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHMudXBkYXRlZEF0XHJcbiAgICAgIH0pKVxyXG4gICAgXTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzY3JpcHRzOiBhbGxTY3JpcHRzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHNjcmlwdHM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEFsbG93IHVzZXJzIHRvIGNyZWF0ZSBzY3JpcHRzIHVzaW5nIHRoZSBleGlzdGluZyBkYXRhYmFzZSBmdW5jdGlvblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXJJZCA9IHNlc3Npb24udXNlci5pZDtcclxuICAgIGNvbnN0IHVzZXJFbWFpbCA9IHNlc3Npb24udXNlci5lbWFpbDtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIGNyZWF0ZVNjcmlwdCBmdW5jdGlvbiBmcm9tIGRhdGFiYXNlLW5ldy50c1xyXG4gICAgY29uc3QgeyBjcmVhdGVTY3JpcHQgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvZGF0YWJhc2UtbmV3Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHNjcmlwdERhdGEgPSB7XHJcbiAgICAgIHRpdGxlOiBib2R5LnRpdGxlLFxyXG4gICAgICBkZXNjcmlwdGlvbjogYm9keS5kZXNjcmlwdGlvbixcclxuICAgICAgcHJpY2U6IGJvZHkucHJpY2UsXHJcbiAgICAgIG9yaWdpbmFsX3ByaWNlOiBib2R5Lm9yaWdpbmFsX3ByaWNlLFxyXG4gICAgICBjYXRlZ29yeTogYm9keS5jYXRlZ29yeSxcclxuICAgICAgZnJhbWV3b3JrOiBib2R5LmZyYW1ld29yayxcclxuICAgICAgc2VsbGVyX25hbWU6IGJvZHkuc2VsbGVyX25hbWUgfHwgc2Vzc2lvbi51c2VyLm5hbWUgfHwgJ1Vua25vd24gU2VsbGVyJyxcclxuICAgICAgc2VsbGVyX2VtYWlsOiB1c2VyRW1haWwsXHJcbiAgICAgIHRhZ3M6IGJvZHkudGFncyB8fCBbXSxcclxuICAgICAgZmVhdHVyZXM6IGJvZHkuZmVhdHVyZXMgfHwgW10sXHJcbiAgICAgIHJlcXVpcmVtZW50czogYm9keS5yZXF1aXJlbWVudHMgfHwgW10sXHJcbiAgICAgIGltYWdlczogYm9keS5pbWFnZXMgfHwgW10sXHJcbiAgICAgIHZpZGVvczogYm9keS52aWRlb3MgfHwgW10sXHJcbiAgICAgIHNjcmVlbnNob3RzOiBib2R5LnNjcmVlbnNob3RzIHx8IFtdLFxyXG4gICAgICBjb3Zlcl9pbWFnZTogYm9keS5jb3Zlcl9pbWFnZSxcclxuICAgICAgZGVtb191cmw6IGJvZHkuZGVtb191cmwsXHJcbiAgICAgIGRvY3VtZW50YXRpb25fdXJsOiBib2R5LmRvY3VtZW50YXRpb25fdXJsLFxyXG4gICAgICBzdXBwb3J0X3VybDogYm9keS5zdXBwb3J0X3VybCxcclxuICAgICAgdmVyc2lvbjogYm9keS52ZXJzaW9uIHx8ICcxLjAuMCcsXHJcbiAgICAgIGZlYXR1cmVkOiBib2R5LmZlYXR1cmVkIHx8IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHNjcmlwdElkID0gYXdhaXQgY3JlYXRlU2NyaXB0KHNjcmlwdERhdGEpO1xyXG5cclxuICAgIGlmIChzY3JpcHRJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLCBcclxuICAgICAgICBzY3JpcHRJZDogc2NyaXB0SWQsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTY3JpcHQgY3JlYXRlZCBzdWNjZXNzZnVsbHlcIlxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgc2NyaXB0XCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlciBzY3JpcHQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEFsbG93IHVzZXJzIHRvIHVwZGF0ZSB0aGVpciBzY3JpcHRzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXJFbWFpbCA9IHNlc3Npb24udXNlci5lbWFpbDtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgc2NyaXB0SWQsIC4uLnVwZGF0ZURhdGEgfSA9IGJvZHk7XHJcblxyXG4gICAgaWYgKCFzY3JpcHRJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJTY3JpcHQgSUQgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE93bmVyc2hpcCBjaGVjayB3b3VsZCByZXF1aXJlIGZldGNoaW5nIGZyb20gcGVuZGluZy9hcHByb3ZlZCBieSBzZWxsZXJfZW1haWxcclxuICAgIGNvbnN0IHsgdXBkYXRlU2NyaXB0IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2RhdGFiYXNlLW5ldycpO1xyXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHVwZGF0ZVNjcmlwdChOdW1iZXIoc2NyaXB0SWQpLCB1cGRhdGVEYXRhKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6ICEhdXBkYXRlZCB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBzY3JpcHQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEFsbG93IHVzZXJzIHRvIGRlbGV0ZSB0aGVpciBzY3JpcHRzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG4gICAgXHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VyRW1haWwgPSBzZXNzaW9uLnVzZXIuZW1haWw7XHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCBzY3JpcHRJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2lkJyk7XHJcblxyXG4gICAgaWYgKCFzY3JpcHRJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJTY3JpcHQgSUQgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGVsZXRlU2NyaXB0IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2RhdGFiYXNlLW5ldycpO1xyXG4gICAgY29uc3Qgb2sgPSBhd2FpdCBkZWxldGVTY3JpcHQoTnVtYmVyKHNjcmlwdElkKSk7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBvayB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgdXNlciBzY3JpcHQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImdldFBlbmRpbmdTY3JpcHRzIiwiZ2V0QXBwcm92ZWRTY3JpcHRzIiwiZ2V0UmVqZWN0ZWRTY3JpcHRzIiwiaGFzQW55Um9sZSIsIkdFVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwidXNlciIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInJvbGVzIiwidXNlcklkIiwiaWQiLCJ1c2VyRW1haWwiLCJlbWFpbCIsImNvbnNvbGUiLCJsb2ciLCJwZW5kaW5nIiwiYXBwcm92ZWQiLCJyZWplY3RlZCIsIlByb21pc2UiLCJhbGwiLCJnZXRTY3JpcHRzIiwiYWxsU2NyaXB0cyIsImxpbWl0IiwidXNlclBlbmRpbmciLCJmaWx0ZXIiLCJzIiwic2VsbGVyX2VtYWlsIiwidXNlckFwcHJvdmVkIiwidXNlclJlamVjdGVkIiwidG90YWwiLCJsZW5ndGgiLCJtYXAiLCJzZWxsZXJfaWQiLCJjcmVhdGVkX2F0IiwiY3JlYXRlZEF0Iiwic3VibWl0dGVkQXQiLCJ1cGRhdGVkX2F0IiwidXBkYXRlZEF0IiwiYXBwcm92ZWRBdCIsInJlamVjdGVkQXQiLCJzY3JpcHRzIiwiUE9TVCIsImJvZHkiLCJjcmVhdGVTY3JpcHQiLCJzY3JpcHREYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwib3JpZ2luYWxfcHJpY2UiLCJjYXRlZ29yeSIsImZyYW1ld29yayIsInNlbGxlcl9uYW1lIiwibmFtZSIsInRhZ3MiLCJmZWF0dXJlcyIsInJlcXVpcmVtZW50cyIsImltYWdlcyIsInZpZGVvcyIsInNjcmVlbnNob3RzIiwiY292ZXJfaW1hZ2UiLCJkZW1vX3VybCIsImRvY3VtZW50YXRpb25fdXJsIiwic3VwcG9ydF91cmwiLCJ2ZXJzaW9uIiwiZmVhdHVyZWQiLCJzY3JpcHRJZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiUEFUQ0giLCJ1cGRhdGVEYXRhIiwidXBkYXRlU2NyaXB0IiwidXBkYXRlZCIsIk51bWJlciIsIkRFTEVURSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsImRlbGV0ZVNjcmlwdCIsIm9rIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/user/scripts/route.ts\n");

/***/ }),

/***/ "(rsc)/./auth.ts":
/*!*****************!*\
  !*** ./auth.ts ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_discord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/discord */ \"(rsc)/./node_modules/next-auth/providers/discord.js\");\n/* harmony import */ var _lib_database_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database-new */ \"(rsc)/./lib/database-new.ts\");\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_discord__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            clientId: process.env.DISCORD_CLIENT_ID,\n            clientSecret: process.env.DISCORD_CLIENT_SECRET\n        })\n    ],\n    callbacks: {\n        async signIn ({ user, profile }) {\n            try {\n                const username = profile?.username || user.name || null;\n                await (0,_lib_database_new__WEBPACK_IMPORTED_MODULE_1__.upsertUser)({\n                    id: String(user.id || user.sub || profile?.id || \"\"),\n                    name: user.name || null,\n                    email: user.email || null,\n                    image: user.image || null,\n                    username: username ? String(username) : null,\n                    forceAdminIfUsername: \"sidakftw\"\n                });\n                return true;\n            } catch (e) {\n                console.error(\"signIn upsert error\", e);\n                return false;\n            }\n        },\n        async session ({ session, token }) {\n            if (session?.user && token?.sub) {\n                ;\n                session.user.id = token.sub;\n                try {\n                    const dbUser = await (0,_lib_database_new__WEBPACK_IMPORTED_MODULE_1__.getUserById)(token.sub);\n                    if (dbUser) {\n                        ;\n                        session.user.roles = dbUser.roles;\n                        session.user.username = dbUser.username;\n                    }\n                } catch (e) {\n                // ignore\n                }\n            }\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUNpRDtBQUNXO0FBRXJELE1BQU1HLGNBQStCO0lBQzNDQyxXQUFXO1FBQ1ZKLHVFQUFPQSxDQUFDO1lBQ1BLLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsaUJBQWlCO1lBQ3ZDQyxjQUFjSCxRQUFRQyxHQUFHLENBQUNHLHFCQUFxQjtRQUNoRDtLQUNBO0lBQ0RDLFdBQVc7UUFDVixNQUFNQyxRQUFPLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFO1lBQzdCLElBQUk7Z0JBQ0gsTUFBTUMsV0FBVyxTQUFrQkEsWUFBWUYsS0FBS0csSUFBSSxJQUFJO2dCQUM1RCxNQUFNZiw2REFBVUEsQ0FBQztvQkFDaEJnQixJQUFJQyxPQUFPLEtBQWNELEVBQUUsSUFBSSxLQUFjRSxHQUFHLElBQUtMLFNBQWlCRyxNQUFNO29CQUM1RUQsTUFBTUgsS0FBS0csSUFBSSxJQUFJO29CQUNuQkksT0FBT1AsS0FBS08sS0FBSyxJQUFJO29CQUNyQkMsT0FBT1IsS0FBS1EsS0FBSyxJQUFJO29CQUNyQk4sVUFBVUEsV0FBV0csT0FBT0gsWUFBWTtvQkFDeENPLHNCQUFzQjtnQkFDdkI7Z0JBQ0EsT0FBTztZQUNSLEVBQUUsT0FBT0MsR0FBRztnQkFDWEMsUUFBUUMsS0FBSyxDQUFDLHVCQUF1QkY7Z0JBQ3JDLE9BQU87WUFDUjtRQUNEO1FBQ0EsTUFBTUcsU0FBUSxFQUFFQSxPQUFPLEVBQUVDLEtBQUssRUFBRTtZQUMvQixJQUFJRCxTQUFTYixRQUFRYyxPQUFPUixLQUFLOztnQkFDOUJPLFFBQVFiLElBQUksQ0FBU0ksRUFBRSxHQUFHVSxNQUFNUixHQUFHO2dCQUNyQyxJQUFJO29CQUNILE1BQU1TLFNBQVMsTUFBTTFCLDhEQUFXQSxDQUFDeUIsTUFBTVIsR0FBRztvQkFDMUMsSUFBSVMsUUFBUTs7d0JBQ1RGLFFBQVFiLElBQUksQ0FBU2dCLEtBQUssR0FBR0QsT0FBT0MsS0FBSzt3QkFDekNILFFBQVFiLElBQUksQ0FBU0UsUUFBUSxHQUFHYSxPQUFPYixRQUFRO29CQUNsRDtnQkFDRCxFQUFFLE9BQU9RLEdBQUc7Z0JBQ1gsU0FBUztnQkFDVjtZQUNEO1lBQ0EsT0FBT0c7UUFDUjtJQUNEO0lBQ0FJLFFBQVF4QixRQUFRQyxHQUFHLENBQUN3QixlQUFlO0FBQ3BDLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRGVsbFxcRGVza3RvcFxcY3J1eC1tYXJrZXRwbGFjZVxcY3J1eC1tYXJrZXRwbGFjZVxcYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIlxyXG5pbXBvcnQgRGlzY29yZCBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9kaXNjb3JkXCJcclxuaW1wb3J0IHsgdXBzZXJ0VXNlciwgZ2V0VXNlckJ5SWQgfSBmcm9tIFwiQC9saWIvZGF0YWJhc2UtbmV3XCJcclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG5cdHByb3ZpZGVyczogW1xyXG5cdFx0RGlzY29yZCh7XHJcblx0XHRcdGNsaWVudElkOiBwcm9jZXNzLmVudi5ESVNDT1JEX0NMSUVOVF9JRCBhcyBzdHJpbmcsXHJcblx0XHRcdGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRElTQ09SRF9DTElFTlRfU0VDUkVUIGFzIHN0cmluZyxcclxuXHRcdH0pLFxyXG5cdF0sXHJcblx0Y2FsbGJhY2tzOiB7XHJcblx0XHRhc3luYyBzaWduSW4oeyB1c2VyLCBwcm9maWxlIH0pIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCB1c2VybmFtZSA9IChwcm9maWxlIGFzIGFueSk/LnVzZXJuYW1lIHx8IHVzZXIubmFtZSB8fCBudWxsXHJcblx0XHRcdFx0YXdhaXQgdXBzZXJ0VXNlcih7XHJcblx0XHRcdFx0XHRpZDogU3RyaW5nKCh1c2VyIGFzIGFueSkuaWQgfHwgKHVzZXIgYXMgYW55KS5zdWIgfHwgKHByb2ZpbGUgYXMgYW55KT8uaWQgfHwgXCJcIiksXHJcblx0XHRcdFx0XHRuYW1lOiB1c2VyLm5hbWUgfHwgbnVsbCxcclxuXHRcdFx0XHRcdGVtYWlsOiB1c2VyLmVtYWlsIHx8IG51bGwsXHJcblx0XHRcdFx0XHRpbWFnZTogdXNlci5pbWFnZSB8fCBudWxsLFxyXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lID8gU3RyaW5nKHVzZXJuYW1lKSA6IG51bGwsXHJcblx0XHRcdFx0XHRmb3JjZUFkbWluSWZVc2VybmFtZTogXCJzaWRha2Z0d1wiLFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJzaWduSW4gdXBzZXJ0IGVycm9yXCIsIGUpXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG5cdFx0XHRpZiAoc2Vzc2lvbj8udXNlciAmJiB0b2tlbj8uc3ViKSB7XHJcblx0XHRcdFx0OyhzZXNzaW9uLnVzZXIgYXMgYW55KS5pZCA9IHRva2VuLnN1YlxyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBkYlVzZXIgPSBhd2FpdCBnZXRVc2VyQnlJZCh0b2tlbi5zdWIpXHJcblx0XHRcdFx0XHRpZiAoZGJVc2VyKSB7XHJcblx0XHRcdFx0XHRcdDsoc2Vzc2lvbi51c2VyIGFzIGFueSkucm9sZXMgPSBkYlVzZXIucm9sZXNcclxuXHRcdFx0XHRcdFx0OyhzZXNzaW9uLnVzZXIgYXMgYW55KS51c2VybmFtZSA9IGRiVXNlci51c2VybmFtZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdC8vIGlnbm9yZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblxyXG5cdFx0fSxcclxuXHR9LFxyXG5cdHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiRGlzY29yZCIsInVwc2VydFVzZXIiLCJnZXRVc2VyQnlJZCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiRElTQ09SRF9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJESVNDT1JEX0NMSUVOVF9TRUNSRVQiLCJjYWxsYmFja3MiLCJzaWduSW4iLCJ1c2VyIiwicHJvZmlsZSIsInVzZXJuYW1lIiwibmFtZSIsImlkIiwiU3RyaW5nIiwic3ViIiwiZW1haWwiLCJpbWFnZSIsImZvcmNlQWRtaW5JZlVzZXJuYW1lIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsInNlc3Npb24iLCJ0b2tlbiIsImRiVXNlciIsInJvbGVzIiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/constants.ts":
/*!**************************!*\
  !*** ./lib/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FRAMEWORK_LABELS: () => (/* binding */ FRAMEWORK_LABELS),\n/* harmony export */   FRAMEWORK_OPTIONS: () => (/* binding */ FRAMEWORK_OPTIONS),\n/* harmony export */   VALID_FRAMEWORKS: () => (/* binding */ VALID_FRAMEWORKS),\n/* harmony export */   isValidFramework: () => (/* binding */ isValidFramework),\n/* harmony export */   validateFrameworks: () => (/* binding */ validateFrameworks)\n/* harmony export */ });\n// Framework constants for the marketplace\nconst VALID_FRAMEWORKS = [\n    'qbcore',\n    'qbox',\n    'esx',\n    'ox',\n    'standalone'\n];\n// Framework display names\nconst FRAMEWORK_LABELS = {\n    qbcore: 'QBCore',\n    qbox: 'Qbox',\n    esx: 'ESX',\n    ox: 'OX',\n    standalone: 'Standalone'\n};\n// Helper function to validate frameworks\nfunction validateFrameworks(frameworks) {\n    return frameworks.filter((framework)=>VALID_FRAMEWORKS.includes(framework));\n}\n// Helper function to check if framework is valid\nfunction isValidFramework(framework) {\n    return VALID_FRAMEWORKS.includes(framework);\n}\n// Get all frameworks for forms\nconst FRAMEWORK_OPTIONS = VALID_FRAMEWORKS.map((framework)=>({\n        value: framework,\n        label: FRAMEWORK_LABELS[framework]\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsMENBQTBDO0FBQ25DLE1BQU1BLG1CQUFtQjtJQUFDO0lBQVU7SUFBUTtJQUFPO0lBQU07Q0FBYSxDQUFVO0FBR3ZGLDBCQUEwQjtBQUNuQixNQUFNQyxtQkFBbUQ7SUFDOURDLFFBQVE7SUFDUkMsTUFBTTtJQUNOQyxLQUFLO0lBQ0xDLElBQUk7SUFDSkMsWUFBWTtBQUNkLEVBQUU7QUFFRix5Q0FBeUM7QUFDbEMsU0FBU0MsbUJBQW1CQyxVQUFvQjtJQUNyRCxPQUFPQSxXQUFXQyxNQUFNLENBQUNDLENBQUFBLFlBQ3ZCVixpQkFBaUJXLFFBQVEsQ0FBQ0Q7QUFFOUI7QUFFQSxpREFBaUQ7QUFDMUMsU0FBU0UsaUJBQWlCRixTQUFpQjtJQUNoRCxPQUFPVixpQkFBaUJXLFFBQVEsQ0FBQ0Q7QUFDbkM7QUFFQSwrQkFBK0I7QUFDeEIsTUFBTUcsb0JBQW9CYixpQkFBaUJjLEdBQUcsQ0FBQ0osQ0FBQUEsWUFBYztRQUNsRUssT0FBT0w7UUFDUE0sT0FBT2YsZ0JBQWdCLENBQUNTLFVBQVU7SUFDcEMsSUFBSSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxEZWxsXFxEZXNrdG9wXFxjcnV4LW1hcmtldHBsYWNlXFxjcnV4LW1hcmtldHBsYWNlXFxsaWJcXGNvbnN0YW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGcmFtZXdvcmsgY29uc3RhbnRzIGZvciB0aGUgbWFya2V0cGxhY2VcclxuZXhwb3J0IGNvbnN0IFZBTElEX0ZSQU1FV09SS1MgPSBbJ3FiY29yZScsICdxYm94JywgJ2VzeCcsICdveCcsICdzdGFuZGFsb25lJ10gYXMgY29uc3Q7XHJcbmV4cG9ydCB0eXBlIFZhbGlkRnJhbWV3b3JrID0gdHlwZW9mIFZBTElEX0ZSQU1FV09SS1NbbnVtYmVyXTtcclxuXHJcbi8vIEZyYW1ld29yayBkaXNwbGF5IG5hbWVzXHJcbmV4cG9ydCBjb25zdCBGUkFNRVdPUktfTEFCRUxTOiBSZWNvcmQ8VmFsaWRGcmFtZXdvcmssIHN0cmluZz4gPSB7XHJcbiAgcWJjb3JlOiAnUUJDb3JlJyxcclxuICBxYm94OiAnUWJveCcsIFxyXG4gIGVzeDogJ0VTWCcsXHJcbiAgb3g6ICdPWCcsXHJcbiAgc3RhbmRhbG9uZTogJ1N0YW5kYWxvbmUnXHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdmFsaWRhdGUgZnJhbWV3b3Jrc1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGcmFtZXdvcmtzKGZyYW1ld29ya3M6IHN0cmluZ1tdKTogVmFsaWRGcmFtZXdvcmtbXSB7XHJcbiAgcmV0dXJuIGZyYW1ld29ya3MuZmlsdGVyKGZyYW1ld29yayA9PiBcclxuICAgIFZBTElEX0ZSQU1FV09SS1MuaW5jbHVkZXMoZnJhbWV3b3JrIGFzIFZhbGlkRnJhbWV3b3JrKVxyXG4gICkgYXMgVmFsaWRGcmFtZXdvcmtbXTtcclxufVxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGZyYW1ld29yayBpcyB2YWxpZFxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEZyYW1ld29yayhmcmFtZXdvcms6IHN0cmluZyk6IGZyYW1ld29yayBpcyBWYWxpZEZyYW1ld29yayB7XHJcbiAgcmV0dXJuIFZBTElEX0ZSQU1FV09SS1MuaW5jbHVkZXMoZnJhbWV3b3JrIGFzIFZhbGlkRnJhbWV3b3JrKTtcclxufVxyXG5cclxuLy8gR2V0IGFsbCBmcmFtZXdvcmtzIGZvciBmb3Jtc1xyXG5leHBvcnQgY29uc3QgRlJBTUVXT1JLX09QVElPTlMgPSBWQUxJRF9GUkFNRVdPUktTLm1hcChmcmFtZXdvcmsgPT4gKHtcclxuICB2YWx1ZTogZnJhbWV3b3JrLFxyXG4gIGxhYmVsOiBGUkFNRVdPUktfTEFCRUxTW2ZyYW1ld29ya11cclxufSkpO1xyXG4iXSwibmFtZXMiOlsiVkFMSURfRlJBTUVXT1JLUyIsIkZSQU1FV09SS19MQUJFTFMiLCJxYmNvcmUiLCJxYm94IiwiZXN4Iiwib3giLCJzdGFuZGFsb25lIiwidmFsaWRhdGVGcmFtZXdvcmtzIiwiZnJhbWV3b3JrcyIsImZpbHRlciIsImZyYW1ld29yayIsImluY2x1ZGVzIiwiaXNWYWxpZEZyYW1ld29yayIsIkZSQU1FV09SS19PUFRJT05TIiwibWFwIiwidmFsdWUiLCJsYWJlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/constants.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database-new.ts":
/*!*****************************!*\
  !*** ./lib/database-new.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VALID_ROLES: () => (/* binding */ VALID_ROLES),\n/* harmony export */   approveAd: () => (/* binding */ approveAd),\n/* harmony export */   approveGiveaway: () => (/* binding */ approveGiveaway),\n/* harmony export */   approveScript: () => (/* binding */ approveScript),\n/* harmony export */   createAd: () => (/* binding */ createAd),\n/* harmony export */   createGiveaway: () => (/* binding */ createGiveaway),\n/* harmony export */   createGiveawayEntry: () => (/* binding */ createGiveawayEntry),\n/* harmony export */   createGiveawayPrize: () => (/* binding */ createGiveawayPrize),\n/* harmony export */   createGiveawayRequirement: () => (/* binding */ createGiveawayRequirement),\n/* harmony export */   createGiveawayReview: () => (/* binding */ createGiveawayReview),\n/* harmony export */   createPendingAd: () => (/* binding */ createPendingAd),\n/* harmony export */   createScript: () => (/* binding */ createScript),\n/* harmony export */   createScriptReview: () => (/* binding */ createScriptReview),\n/* harmony export */   deleteAd: () => (/* binding */ deleteAd),\n/* harmony export */   deleteGiveaway: () => (/* binding */ deleteGiveaway),\n/* harmony export */   deleteScript: () => (/* binding */ deleteScript),\n/* harmony export */   getAdById: () => (/* binding */ getAdById),\n/* harmony export */   getAds: () => (/* binding */ getAds),\n/* harmony export */   getAdsForPage: () => (/* binding */ getAdsForPage),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getApprovedAds: () => (/* binding */ getApprovedAds),\n/* harmony export */   getApprovedGiveaways: () => (/* binding */ getApprovedGiveaways),\n/* harmony export */   getApprovedScripts: () => (/* binding */ getApprovedScripts),\n/* harmony export */   getGiveawayById: () => (/* binding */ getGiveawayById),\n/* harmony export */   getGiveawayEntries: () => (/* binding */ getGiveawayEntries),\n/* harmony export */   getGiveawayReviews: () => (/* binding */ getGiveawayReviews),\n/* harmony export */   getGiveaways: () => (/* binding */ getGiveaways),\n/* harmony export */   getPendingAds: () => (/* binding */ getPendingAds),\n/* harmony export */   getPendingGiveaways: () => (/* binding */ getPendingGiveaways),\n/* harmony export */   getPendingScripts: () => (/* binding */ getPendingScripts),\n/* harmony export */   getRejectedAds: () => (/* binding */ getRejectedAds),\n/* harmony export */   getRejectedGiveaways: () => (/* binding */ getRejectedGiveaways),\n/* harmony export */   getRejectedScripts: () => (/* binding */ getRejectedScripts),\n/* harmony export */   getScriptById: () => (/* binding */ getScriptById),\n/* harmony export */   getScriptReviews: () => (/* binding */ getScriptReviews),\n/* harmony export */   getScripts: () => (/* binding */ getScripts),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserGiveawayEntries: () => (/* binding */ getUserGiveawayEntries),\n/* harmony export */   getUserGiveawayEntry: () => (/* binding */ getUserGiveawayEntry),\n/* harmony export */   getUserGiveawayReview: () => (/* binding */ getUserGiveawayReview),\n/* harmony export */   getUserScriptReview: () => (/* binding */ getUserScriptReview),\n/* harmony export */   hasAllRoles: () => (/* binding */ hasAllRoles),\n/* harmony export */   hasAnyRole: () => (/* binding */ hasAnyRole),\n/* harmony export */   hasRole: () => (/* binding */ hasRole),\n/* harmony export */   rejectAd: () => (/* binding */ rejectAd),\n/* harmony export */   rejectGiveaway: () => (/* binding */ rejectGiveaway),\n/* harmony export */   rejectScript: () => (/* binding */ rejectScript),\n/* harmony export */   updateAd: () => (/* binding */ updateAd),\n/* harmony export */   updateGiveaway: () => (/* binding */ updateGiveaway),\n/* harmony export */   updateScript: () => (/* binding */ updateScript),\n/* harmony export */   updateUserRole: () => (/* binding */ updateUserRole),\n/* harmony export */   upsertUser: () => (/* binding */ upsertUser),\n/* harmony export */   validateRoles: () => (/* binding */ validateRoles)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/select.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/utils.js\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./lib/schema.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"(rsc)/./lib/constants.ts\");\n\n\n\n\n// Valid roles in the system\nconst VALID_ROLES = [\n    'founder',\n    'verified_creator',\n    'crew',\n    'admin',\n    'moderator',\n    'user'\n];\n// Helper function to validate roles\nfunction validateRoles(roles) {\n    return roles.filter((role)=>VALID_ROLES.includes(role));\n}\n// Helper function to check if user has a specific role\nfunction hasRole(userRoles, requiredRole) {\n    return userRoles.includes(requiredRole);\n}\n// Helper function to check if user has any of the required roles\nfunction hasAnyRole(userRoles, requiredRoles) {\n    return requiredRoles.some((role)=>userRoles.includes(role));\n}\n// Helper function to check if user has all required roles\nfunction hasAllRoles(userRoles, requiredRoles) {\n    return requiredRoles.every((role)=>userRoles.includes(role));\n}\n// User functions\nasync function upsertUser(user) {\n    // Check if user already exists\n    const existingUser = await getUserById(user.id);\n    // Determine roles based on user status\n    let userRoles;\n    if (existingUser) {\n        // Existing user: Keep their current roles (don't overwrite)\n        userRoles = validateRoles(existingUser.roles || [\n            'user'\n        ]);\n    } else {\n        // New user: Assign default roles\n        if (user.forceAdminIfUsername && user.username === user.forceAdminIfUsername) {\n            userRoles = [\n                'founder'\n            ]; // Give founder role to special user\n        } else {\n            userRoles = [\n                'user'\n            ]; // Default role for new users\n        }\n    }\n    await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.users).values({\n        id: user.id,\n        name: user.name ?? null,\n        email: user.email ?? null,\n        image: user.image ?? null,\n        username: user.username ?? null,\n        roles: userRoles\n    }).onConflictDoUpdate({\n        target: _schema__WEBPACK_IMPORTED_MODULE_1__.users.id,\n        set: {\n            name: user.name ?? null,\n            email: user.email ?? null,\n            image: user.image ?? null,\n            username: user.username ?? null,\n            // Don't overwrite roles for existing users\n            roles: existingUser ? existingUser.roles : userRoles,\n            updatedAt: new Date()\n        }\n    });\n}\nasync function getUserById(id) {\n    const user = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.users.id, id)).limit(1);\n    return user[0] ?? null;\n}\nasync function getAllUsers(limit) {\n    const defaultLimit = limit || 100;\n    const userList = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.users).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.users.createdAt)).limit(defaultLimit);\n    return userList;\n}\nasync function updateUserRole(userId, roles) {\n    console.log(`Updating user ${userId} roles to:`, roles);\n    // Validate and filter roles to only include valid ones\n    const validRoles = validateRoles(roles);\n    if (validRoles.length === 0) {\n        throw new Error('No valid roles provided. Valid roles are: ' + VALID_ROLES.join(', '));\n    }\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.update(_schema__WEBPACK_IMPORTED_MODULE_1__.users).set({\n        roles: validRoles,\n        updatedAt: new Date()\n    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.users.id, userId)).returning();\n    console.log(`User ${userId} roles updated successfully:`, result[0]?.roles);\n    return result[0] ?? null;\n}\n// Script functions\nasync function createScript(scriptData) {\n    const timestamp = Math.floor(Date.now() / 1000);\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    const frameworkArray = Array.isArray(scriptData.framework) ? scriptData.framework : typeof scriptData.framework === 'string' && scriptData.framework ? [\n        String(scriptData.framework)\n    ] : [];\n    // Validate and filter frameworks\n    const validatedFrameworks = (0,_constants__WEBPACK_IMPORTED_MODULE_2__.validateFrameworks)(frameworkArray);\n    const scriptWithDefaults = {\n        ...scriptData,\n        id,\n        seller_name: scriptData.seller_name || 'Unknown Seller',\n        seller_email: scriptData.seller_email || 'unknown@example.com',\n        featured: scriptData.featured ?? false,\n        images: scriptData.images || [],\n        videos: scriptData.videos || [],\n        screenshots: scriptData.screenshots || [],\n        tags: scriptData.tags || [],\n        features: scriptData.features || [],\n        requirements: scriptData.requirements || [],\n        // Normalize framework as text[] for DB with validation\n        framework: validatedFrameworks\n    };\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).values(scriptWithDefaults).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.id\n    });\n    return result[0]?.id ?? 0;\n}\nasync function getScripts(filters) {\n    const limit = filters?.limit || 100;\n    const offset = filters?.offset || 0;\n    try {\n        let baseQuery = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts);\n        // Build conditions array for WHERE clause\n        const conditions = [];\n        if (filters?.category) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.category, filters.category));\n        }\n        if (filters?.framework) {\n            const frameworks = Array.isArray(filters.framework) ? filters.framework : [\n                filters.framework\n            ];\n            // approvedScripts.framework is text[] now; use SQL ANY/overlap\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.sql)`(${_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.framework}) && ${frameworks}`);\n        }\n        if (filters?.featured) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.featured, true));\n        }\n        const query = conditions.length > 0 ? baseQuery.where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.and)(...conditions)) : baseQuery;\n        // Execute query with sorting and pagination\n        const results = await query.orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.createdAt)).limit(limit).offset(offset);\n        return results;\n    } catch (error) {\n        console.error('Error fetching scripts:', error);\n        throw error;\n    }\n}\nasync function getScriptById(id) {\n    try {\n        // First check approved_scripts (most common case)\n        const approvedScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.id, id)).limit(1);\n        if (approvedScript.length > 0) {\n            return {\n                ...approvedScript[0],\n                status: 'approved'\n            };\n        }\n        // Check pending_scripts\n        const pendingScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.id, id)).limit(1);\n        if (pendingScript.length > 0) {\n            return {\n                ...pendingScript[0],\n                status: 'pending'\n            };\n        }\n        // Check rejected_scripts\n        const rejectedScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedScripts.id, id)).limit(1);\n        if (rejectedScript.length > 0) {\n            return {\n                ...rejectedScript[0],\n                status: 'rejected'\n            };\n        }\n        // Fallback to legacy scripts table\n        const legacyScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.scripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.scripts.id, id)).limit(1);\n        if (legacyScript.length > 0) {\n            return {\n                ...legacyScript[0],\n                status: legacyScript[0].status ?? 'unknown'\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error('Error in getScriptById:', error);\n        return null;\n    }\n}\n// Admin functions for script management\nasync function getPendingScripts(limit) {\n    try {\n        const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.createdAt));\n        const results = await (limit ? base.limit(limit) : base);\n        return results;\n    } catch (error) {\n        console.error('Error fetching pending scripts:', error);\n        throw error;\n    }\n}\n// Admin functions for script management\n// (removed duplicate getPendingScripts)\nasync function getApprovedScripts(limit) {\n    try {\n        const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.createdAt));\n        const results = await (limit ? base.limit(limit) : base);\n        return results;\n    } catch (error) {\n        console.error('Error fetching approved scripts:', error);\n        throw error;\n    }\n}\nasync function getRejectedScripts(limit) {\n    try {\n        const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedScripts).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedScripts.createdAt));\n        const results = await (limit ? base.limit(limit) : base);\n        return results;\n    } catch (error) {\n        console.error('Error fetching rejected scripts:', error);\n        throw error;\n    }\n}\n// (removed duplicate script admin functions; see definitive implementations below)\nasync function approveScript(scriptId, adminId, adminNotes) {\n    try {\n        console.log('approveScript called with:', {\n            scriptId,\n            adminId,\n            adminNotes\n        });\n        // Get the pending script\n        const pendingScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.id, scriptId)).limit(1);\n        if (pendingScript.length === 0) {\n            throw new Error('Script not found in pending scripts');\n        }\n        const script = pendingScript[0];\n        // Insert into approved_scripts table\n        const approvedScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts).values({\n            ...script,\n            approvedAt: new Date(),\n            approvedBy: adminId,\n            adminNotes: adminNotes || null\n        }).returning();\n        // Delete from pending_scripts table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.id, scriptId));\n        console.log('Script approved successfully:', approvedScript[0]);\n        return approvedScript[0];\n    } catch (error) {\n        console.error('Error approving script:', error);\n        throw error;\n    }\n}\nasync function rejectScript(scriptId, adminId, rejectionReason, adminNotes) {\n    try {\n        console.log('rejectScript called with:', {\n            scriptId,\n            adminId,\n            rejectionReason,\n            adminNotes\n        });\n        // Get the pending script\n        const pendingScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.id, scriptId)).limit(1);\n        if (pendingScript.length === 0) {\n            throw new Error('Script not found in pending scripts');\n        }\n        const script = pendingScript[0];\n        // Insert into rejected_scripts table\n        const rejectedScript = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedScripts).values({\n            ...script,\n            rejectedAt: new Date(),\n            rejectedBy: adminId,\n            rejectionReason,\n            adminNotes: adminNotes || null\n        }).returning();\n        // Delete from pending_scripts table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts.id, scriptId));\n        console.log('Script rejected successfully:', rejectedScript[0]);\n        return rejectedScript[0];\n    } catch (error) {\n        console.error('Error rejecting script:', error);\n        throw error;\n    }\n}\n// Legacy function for backward compatibility\nasync function updateScript(id, updateData) {\n    try {\n        console.log('updateScript called with:', {\n            id,\n            updateData\n        });\n        // Map incoming payload keys (may be snake_case) to schema property names\n        const mappedUpdate = {\n            updatedAt: new Date()\n        };\n        const assignIfDefined = (prop, value)=>{\n            if (value !== undefined) mappedUpdate[prop] = value;\n        };\n        // Simple passthrough fields (same casing as schema)\n        assignIfDefined('title', updateData.title);\n        assignIfDefined('description', updateData.description);\n        if (updateData.price !== undefined) assignIfDefined('price', Number(updateData.price));\n        if (updateData.originalPrice !== undefined) assignIfDefined('originalPrice', updateData.originalPrice === null ? null : Number(updateData.originalPrice));\n        // Accept snake_case aliases\n        if (updateData.original_price !== undefined) assignIfDefined('originalPrice', updateData.original_price === null ? null : Number(updateData.original_price));\n        assignIfDefined('category', updateData.category);\n        // Frameworks: accept string or array and validate\n        if (updateData.framework !== undefined) {\n            const arrayValue = Array.isArray(updateData.framework) ? updateData.framework : updateData.framework ? [\n                updateData.framework\n            ] : [];\n            assignIfDefined('framework', (0,_constants__WEBPACK_IMPORTED_MODULE_2__.validateFrameworks)(arrayValue));\n        }\n        assignIfDefined('seller_name', updateData.seller_name);\n        assignIfDefined('seller_email', updateData.seller_email);\n        assignIfDefined('tags', updateData.tags);\n        assignIfDefined('features', updateData.features);\n        assignIfDefined('requirements', updateData.requirements);\n        assignIfDefined('images', updateData.images);\n        assignIfDefined('videos', updateData.videos);\n        assignIfDefined('screenshots', updateData.screenshots);\n        // Media and links with snake_case aliases\n        if (updateData.coverImage !== undefined) assignIfDefined('coverImage', updateData.coverImage);\n        if (updateData.cover_image !== undefined) assignIfDefined('coverImage', updateData.cover_image);\n        if (updateData.demoUrl !== undefined) assignIfDefined('demoUrl', updateData.demoUrl);\n        if (updateData.demo_url !== undefined) assignIfDefined('demoUrl', updateData.demo_url);\n        if (updateData.documentationUrl !== undefined) assignIfDefined('documentationUrl', updateData.documentationUrl);\n        if (updateData.documentation_url !== undefined) assignIfDefined('documentationUrl', updateData.documentation_url);\n        if (updateData.supportUrl !== undefined) assignIfDefined('supportUrl', updateData.supportUrl);\n        if (updateData.support_url !== undefined) assignIfDefined('supportUrl', updateData.support_url);\n        assignIfDefined('version', updateData.version);\n        if (updateData.featured !== undefined) assignIfDefined('featured', Boolean(updateData.featured));\n        console.log('Mapped update object (approved_scripts):', mappedUpdate);\n        // Update only the approved_scripts table as requested\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.update(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts).set(mappedUpdate).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts.id, id)).returning();\n        console.log('Update result (approved_scripts):', result);\n        return result[0] ?? null;\n    } catch (error) {\n        console.error('Error updating script:', error);\n        return null;\n    }\n}\nasync function deleteScript(id) {\n    try {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.scripts).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.scripts.id, id)).returning({\n            id: _schema__WEBPACK_IMPORTED_MODULE_1__.scripts.id\n        });\n        return result.length > 0;\n    } catch (error) {\n        console.error('Error deleting script:', error);\n        return false;\n    }\n}\n// Giveaway functions\nasync function createGiveaway(giveawayData) {\n    console.log('createGiveaway called with:', giveawayData);\n    // Generate a unique ID for Xata Lite compatibility\n    // Use a smaller number that fits PostgreSQL integer limits\n    const timestamp = Math.floor(Date.now() / 1000); // Convert to seconds\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    // Provide default values for required fields\n    const giveawayWithDefaults = {\n        ...giveawayData,\n        id: id,\n        // Map snake_case input to camelCase schema fields\n        totalValue: giveawayData.totalValue || giveawayData.total_value || '0',\n        endDate: giveawayData.endDate || giveawayData.end_date || new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n        creatorName: giveawayData.creatorName || giveawayData.creator_name || 'Unknown Creator',\n        creatorEmail: giveawayData.creatorEmail || giveawayData.creator_email || 'unknown@example.com',\n        creatorId: giveawayData.creatorId || giveawayData.creator_id || 'unknown',\n        status: giveawayData.status || 'active',\n        featured: giveawayData.featured ?? false,\n        entriesCount: giveawayData.entriesCount || giveawayData.entries_count || 0,\n        maxEntries: giveawayData.maxEntries || giveawayData.max_entries || null\n    };\n    console.log('giveawayWithDefaults:', giveawayWithDefaults);\n    // Insert into pending_giveaways table (all new giveaways go here)\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).values(giveawayWithDefaults).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.id\n    });\n    return result[0]?.id;\n}\nasync function createGiveawayRequirement(requirementData) {\n    console.log('createGiveawayRequirement called with:', requirementData);\n    // Generate a unique ID for Xata Lite compatibility\n    // Use a smaller number that fits PostgreSQL integer limits\n    const timestamp = Math.floor(Date.now() / 1000); // Convert to seconds\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    // Map snake_case input to camelCase schema fields\n    const mappedData = {\n        ...requirementData,\n        id: id,\n        giveawayId: requirementData.giveawayId || requirementData.giveaway_id\n    };\n    console.log('mappedData:', mappedData);\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements).values(mappedData).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements.id\n    });\n    return result[0]?.id;\n}\nasync function createGiveawayPrize(prizeData) {\n    console.log('createGiveawayPrize called with:', prizeData);\n    // Generate a unique ID for Xata Lite compatibility\n    // Use a smaller number that fits PostgreSQL integer limits\n    const timestamp = Math.floor(Date.now() / 1000); // Convert to seconds\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    // Map snake_case input to camelCase schema fields\n    const mappedData = {\n        ...prizeData,\n        id: id,\n        giveawayId: prizeData.giveawayId || prizeData.giveaway_id\n    };\n    console.log('mappedData:', mappedData);\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes).values(mappedData).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes.id\n    });\n    return result[0]?.id;\n}\nasync function getGiveaways(filters) {\n    const conditions = [];\n    if (filters?.status && filters.status !== 'all') conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.status, filters.status));\n    if (filters?.featured) conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.featured, true));\n    const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways);\n    const filtered = conditions.length ? base.where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.and)(...conditions)) : base;\n    const ordered = filtered.orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.createdAt));\n    const limited = filters?.limit ? ordered.limit(filters.limit) : ordered;\n    const offseted = filters?.offset ? limited.offset(filters.offset) : limited;\n    return await offseted;\n}\nasync function getGiveawayById(id) {\n    // Search across all giveaway tables to find the giveaway\n    try {\n        let result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.id, id));\n        if (result.length > 0) {\n            const giveaway = result[0];\n            const requirements = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements.giveawayId, id));\n            const prizes = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes.giveawayId, id));\n            return {\n                ...giveaway,\n                requirements,\n                prizes\n            };\n        }\n        result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.id, id));\n        if (result.length > 0) {\n            const giveaway = result[0];\n            const requirements = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements.giveawayId, id));\n            const prizes = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes.giveawayId, id));\n            return {\n                ...giveaway,\n                requirements,\n                prizes\n            };\n        }\n        result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedGiveaways.id, id));\n        if (result.length > 0) {\n            const giveaway = result[0];\n            const requirements = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements.giveawayId, id));\n            const prizes = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes.giveawayId, id));\n            return {\n                ...giveaway,\n                requirements,\n                prizes\n            };\n        }\n        // Fallback to old giveaways table for backward compatibility\n        result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.id, id));\n        if (result.length > 0) {\n            const giveaway = result[0];\n            const requirements = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements.giveawayId, id));\n            const prizes = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes.giveawayId, id));\n            return {\n                ...giveaway,\n                requirements,\n                prizes\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error('Error in getGiveawayById:', error);\n        return null;\n    }\n}\nasync function updateGiveaway(id, updateData) {\n    try {\n        const fields = Object.keys(updateData);\n        if (fields.length === 0) return null;\n        const updateObject = {\n            updatedAt: new Date(),\n            ...updateData\n        };\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.update(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways).set(updateObject).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.id, id)).returning();\n        return result[0] ?? null;\n    } catch (error) {\n        console.error('Error updating giveaway:', error);\n        return null;\n    }\n}\nasync function deleteGiveaway(id) {\n    try {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.id, id)).returning({\n            id: _schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.id\n        });\n        return result.length > 0;\n    } catch (error) {\n        console.error('Error deleting giveaway:', error);\n        return false;\n    }\n}\n// Admin giveaway management functions\nasync function getPendingGiveaways(limit) {\n    const maxRetries = 3;\n    let lastError;\n    for(let attempt = 1; attempt <= maxRetries; attempt++){\n        try {\n            const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.submittedAt));\n            return await (limit ? base.limit(limit) : base);\n        } catch (error) {\n            lastError = error;\n            if (error?.cause?.code === 'XATA_CONCURRENCY_LIMIT' || error?.cause?.code === 'CONNECT_TIMEOUT') {\n                const waitTime = attempt * 500;\n                await new Promise((r)=>setTimeout(r, waitTime));\n                continue;\n            }\n            break;\n        }\n    }\n    console.warn('getPendingGiveaways failed after retries:', lastError);\n    return [];\n}\nasync function getApprovedGiveaways(limit) {\n    const maxRetries = 3;\n    let lastError;\n    for(let attempt = 1; attempt <= maxRetries; attempt++){\n        try {\n            const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.approvedAt));\n            return await (limit ? base.limit(limit) : base);\n        } catch (error) {\n            lastError = error;\n            if (error?.cause?.code === 'XATA_CONCURRENCY_LIMIT' || error?.cause?.code === 'CONNECT_TIMEOUT') {\n                const waitTime = attempt * 200;\n                await new Promise((r)=>setTimeout(r, waitTime));\n                continue;\n            }\n            break;\n        }\n    }\n    console.warn('getApprovedGiveaways failed after retries:', lastError);\n    return [];\n}\nasync function getRejectedGiveaways(limit) {\n    const maxRetries = 3;\n    let lastError;\n    for(let attempt = 1; attempt <= maxRetries; attempt++){\n        try {\n            const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedGiveaways).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedGiveaways.rejectedAt));\n            return await (limit ? base.limit(limit) : base);\n        } catch (error) {\n            lastError = error;\n            if (error?.cause?.code === 'XATA_CONCURRENCY_LIMIT' || error?.cause?.code === 'CONNECT_TIMEOUT') {\n                const waitTime = attempt * 500;\n                await new Promise((r)=>setTimeout(r, waitTime));\n                continue;\n            }\n            break;\n        }\n    }\n    console.warn('getRejectedGiveaways failed after retries:', lastError);\n    return [];\n}\nasync function approveGiveaway(giveawayId, adminId, adminNotes) {\n    try {\n        // Get the pending giveaway\n        const pendingGiveaway = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.id, giveawayId));\n        if (!pendingGiveaway[0]) {\n            throw new Error('Pending giveaway not found');\n        }\n        // Insert into approved_giveaways table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways).values({\n            ...pendingGiveaway[0],\n            approvedBy: adminId,\n            adminNotes: adminNotes || null\n        });\n        // Delete from pending_giveaways table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.id, giveawayId));\n        return true;\n    } catch (error) {\n        console.error('Error approving giveaway:', error);\n        return false;\n    }\n}\nasync function rejectGiveaway(giveawayId, adminId, rejectionReason, adminNotes) {\n    try {\n        // Get the pending giveaway\n        const pendingGiveaway = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.id, giveawayId));\n        if (!pendingGiveaway[0]) {\n            throw new Error('Pending giveaway not found');\n        }\n        // Insert into rejected_giveaways table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedGiveaways).values({\n            ...pendingGiveaway[0],\n            rejectedBy: adminId,\n            rejectionReason: rejectionReason,\n            adminNotes: adminNotes || null\n        });\n        // Delete from pending_giveaways table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways.id, giveawayId));\n        return true;\n    } catch (error) {\n        console.error('Error rejecting giveaway:', error);\n        return false;\n    }\n}\n// Giveaway Entry functions\nasync function createGiveawayEntry(entryData) {\n    try {\n        console.log('createGiveawayEntry called with:', entryData);\n        // Generate a unique ID for Xata Lite compatibility\n        // Use a smaller number that fits PostgreSQL integer limits\n        const timestamp = Math.floor(Date.now() / 1000); // Convert to seconds\n        const randomSuffix = Math.floor(Math.random() * 10000);\n        const id = timestamp + randomSuffix;\n        // Map snake_case input to camelCase schema fields\n        const mappedData = {\n            ...entryData,\n            id: id,\n            giveawayId: entryData.giveawayId || entryData.giveaway_id,\n            userId: entryData.userId || entryData.user_id,\n            userName: entryData.userName ?? entryData.user_name ?? null,\n            userEmail: entryData.userEmail ?? entryData.user_email ?? null,\n            entryDate: entryData.entryDate ?? entryData.entry_date ?? new Date(),\n            pointsEarned: entryData.pointsEarned ?? entryData.points_earned ?? 0,\n            requirementsCompleted: entryData.requirementsCompleted ?? entryData.requirements_completed ?? []\n        };\n        console.log('mappedData:', mappedData);\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries).values(mappedData).returning({\n            id: _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.id\n        });\n        // Update the entries count in the approved_giveaways table\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.update(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways).set({\n            entriesCount: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.sql)`${_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.entriesCount} + 1`,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways.id, mappedData.giveawayId));\n        return result[0]?.id;\n    } catch (error) {\n        console.error('Error creating giveaway entry:', error);\n        throw error;\n    }\n}\nasync function getGiveawayEntries(giveawayId) {\n    return await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.giveawayId, giveawayId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.entryDate));\n}\nasync function getUserGiveawayEntry(giveawayId, userId) {\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.giveawayId, giveawayId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.userId, userId))).limit(1);\n    return result[0] ?? null;\n}\nasync function getUserGiveawayEntries(userId) {\n    return await _db__WEBPACK_IMPORTED_MODULE_0__.db.select({\n        ...(0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.getTableColumns)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries),\n        giveawayTitle: _schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.title,\n        giveawayCover: _schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.coverImage\n    }).from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries).leftJoin(_schema__WEBPACK_IMPORTED_MODULE_1__.giveaways, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.giveawayId, _schema__WEBPACK_IMPORTED_MODULE_1__.giveaways.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.userId, userId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries.entryDate));\n}\n// Review functions\nasync function createGiveawayReview(reviewData) {\n    // Generate a unique ID for Xata Lite compatibility\n    // Use a smaller number that fits PostgreSQL integer limits\n    const timestamp = Math.floor(Date.now() / 1000); // Convert to seconds\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews).values({\n        ...reviewData,\n        id: id\n    }).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews.id\n    });\n    return result[0]?.id;\n}\nasync function getGiveawayReviews(giveawayId) {\n    return await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews.giveawayId, giveawayId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews.createdAt));\n}\nasync function createScriptReview(reviewData) {\n    // Generate a unique ID for Xata Lite compatibility\n    // Use a smaller number that fits PostgreSQL integer limits\n    const timestamp = Math.floor(Date.now() / 1000); // Convert to seconds\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews).values({\n        ...reviewData,\n        id: id\n    }).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews.id\n    });\n    return result[0]?.id;\n}\nasync function getScriptReviews(scriptId) {\n    return await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews.scriptId, scriptId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews.createdAt));\n}\n// Ad functions - using new approval system\n// Create ad (routes to pending or approved based on user role)\nasync function createAd(adData) {\n    const timestamp = Math.floor(Date.now() / 1000);\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    // Map snake_case input to camelCase schema fields and provide defaults\n    const mapped = {\n        id: id,\n        title: adData.title,\n        description: adData.description,\n        imageUrl: adData.imageUrl ?? adData.image_url ?? null,\n        linkUrl: adData.linkUrl ?? adData.link_url ?? null,\n        category: adData.category,\n        priority: adData.priority ?? 1,\n        startDate: adData.startDate ?? adData.start_date ?? new Date(),\n        endDate: adData.endDate ?? adData.end_date ?? null,\n        createdBy: adData.createdBy ?? adData.created_by\n    };\n    // If status is 'active', insert directly into approved_ads\n    if (adData.status === 'active') {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).values({\n            ...mapped,\n            status: 'active',\n            approvedAt: new Date(),\n            approvedBy: mapped.createdBy\n        }).returning({\n            id: _schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.id\n        });\n        return result[0]?.id;\n    } else {\n        // Otherwise, insert into pending_ads\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).values({\n            ...mapped,\n            submittedAt: new Date()\n        }).returning({\n            id: _schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id\n        });\n        return result[0]?.id;\n    }\n}\n// Create pending ad (for user submissions)\nasync function createPendingAd(adData) {\n    // Generate a unique ID for Xata Lite compatibility\n    const timestamp = Math.floor(Date.now() / 1000);\n    const randomSuffix = Math.floor(Math.random() * 10000);\n    const id = timestamp + randomSuffix;\n    // Map snake_case input to camelCase schema fields and provide defaults\n    const mapped = {\n        id: id,\n        title: adData.title,\n        description: adData.description,\n        imageUrl: adData.imageUrl ?? adData.image_url ?? null,\n        linkUrl: adData.linkUrl ?? adData.link_url ?? null,\n        category: adData.category,\n        priority: adData.priority ?? 1,\n        startDate: adData.startDate ?? adData.start_date ?? new Date(),\n        endDate: adData.endDate ?? adData.end_date ?? null,\n        createdBy: adData.createdBy ?? adData.created_by,\n        submittedAt: new Date()\n    };\n    // Insert into pending ads table\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).values(mapped).returning({\n        id: _schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id\n    });\n    return result[0]?.id;\n}\nasync function getAds(filters) {\n    try {\n        // Fetch from approved ads table only\n        const conditions = [];\n        if (filters?.status) conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.status, filters.status));\n        if (filters?.category) conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.category, filters.category));\n        const limitVal = filters?.limit || 50;\n        const query = conditions.length ? _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.and)(...conditions)) : _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds);\n        return await query.orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.priority), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.createdAt)).limit(limitVal);\n    } catch (error) {\n        console.error('Error fetching ads:', error);\n        throw error;\n    }\n}\n// Helper function to get ads for specific page types\nasync function getAdsForPage(pageType, limit) {\n    try {\n        const allAds = await getAds({\n            status: \"active\",\n            limit: 100\n        });\n        let filteredAds;\n        if (pageType === 'scripts') {\n            // Show ads with category \"both\", \"general\", or \"scripts\"\n            filteredAds = allAds.filter((ad)=>ad.category?.toLowerCase() === \"both\" || ad.category?.toLowerCase() === \"general\" || ad.category?.toLowerCase() === \"scripts\");\n        } else if (pageType === 'giveaways') {\n            // Show ads with category \"both\", \"general\", or \"giveaways\"\n            filteredAds = allAds.filter((ad)=>ad.category?.toLowerCase() === \"both\" || ad.category?.toLowerCase() === \"general\" || ad.category?.toLowerCase() === \"giveaways\");\n        } else {\n            filteredAds = [];\n        }\n        // Apply limit\n        const limitVal = limit || 10;\n        return filteredAds.slice(0, limitVal);\n    } catch (error) {\n        console.error(`Error fetching ads for ${pageType}:`, error);\n        throw error;\n    }\n}\n// Old ad functions removed - using new approval system with pending_ads, approved_ads, rejected_ads\n// Admin ad management functions\nasync function getPendingAds(limit) {\n    const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.createdAt));\n    return await (limit ? base.limit(limit) : base);\n}\nasync function getApprovedAds(limit) {\n    // Explicitly select fields to match approved_ads shape\n    const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.approvedAt));\n    return await (limit ? base.limit(limit) : base);\n}\nasync function getRejectedAds(limit) {\n    const base = _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds.rejectedAt));\n    return await (limit ? base.limit(limit) : base);\n}\nasync function approveAd(adId, adminId, adminNotes) {\n    // Move from pending to approved\n    const pending = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, adId)).limit(1);\n    if (pending.length === 0) throw new Error('Pending ad not found');\n    const ad = pending[0];\n    await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).values({\n        ...ad,\n        status: 'active',\n        approvedBy: adminId,\n        adminNotes: adminNotes || null\n    });\n    await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, adId));\n    return true;\n}\nasync function rejectAd(adId, adminId, rejectionReason, adminNotes) {\n    const pending = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, adId)).limit(1);\n    if (pending.length === 0) throw new Error('Pending ad not found');\n    const ad = pending[0];\n    await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds).values({\n        ...ad,\n        rejectedBy: adminId,\n        rejectionReason,\n        adminNotes: adminNotes || null\n    });\n    await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, adId));\n    return true;\n}\n// Ad management functions\nasync function getAdById(id) {\n    try {\n        // Search across all ad tables\n        const approved = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.id, id)).limit(1);\n        if (approved.length > 0) return {\n            ...approved[0],\n            status: 'approved'\n        };\n        const pending = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, id)).limit(1);\n        if (pending.length > 0) return {\n            ...pending[0],\n            status: 'pending'\n        };\n        const rejected = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds.id, id)).limit(1);\n        if (rejected.length > 0) return {\n            ...rejected[0],\n            status: 'rejected'\n        };\n        return null;\n    } catch (error) {\n        console.error('Error fetching ad:', error);\n        return null;\n    }\n}\nasync function updateAd(id, updateData) {\n    try {\n        // Update in approved ads table (most common case)\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.update(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).set({\n            ...updateData,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.id, id)).returning();\n        if (result.length > 0) return result[0];\n        // Try pending ads\n        const pendingResult = await _db__WEBPACK_IMPORTED_MODULE_0__.db.update(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).set({\n            ...updateData,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, id)).returning();\n        return pendingResult[0] || null;\n    } catch (error) {\n        console.error('Error updating ad:', error);\n        return null;\n    }\n}\nasync function deleteAd(id) {\n    try {\n        // Try to delete from all tables\n        const approvedResult = await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds.id, id)).returning();\n        if (approvedResult.length > 0) return true;\n        const pendingResult = await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds.id, id)).returning();\n        if (pendingResult.length > 0) return true;\n        const rejectedResult = await _db__WEBPACK_IMPORTED_MODULE_0__.db.delete(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds.id, id)).returning();\n        return rejectedResult.length > 0;\n    } catch (error) {\n        console.error('Error deleting ad:', error);\n        return false;\n    }\n}\n// Review functions\nasync function getUserScriptReview(scriptId, userId) {\n    return await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews.scriptId, scriptId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews.reviewerEmail, userId))).limit(1);\n}\nasync function getUserGiveawayReview(giveawayId, userId) {\n    return await _db__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews.giveawayId, giveawayId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews.reviewerEmail, userId))).limit(1);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XERlc2t0b3BcXGNydXgtbWFya2V0cGxhY2VcXGNydXgtbWFya2V0cGxhY2VcXGxpYlxcZGF0YWJhc2UtbmV3LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSAnLi9kYic7XG5pbXBvcnQgeyBlcSwgYW5kLCBvciwgbGlrZSwgZ3RlLCBsdGUsIHNxbCwgZGVzYywgZ2V0VGFibGVDb2x1bW5zIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuaW1wb3J0IHsgXG4gIHVzZXJzLCBzY3JpcHRzLCBwZW5kaW5nU2NyaXB0cywgYXBwcm92ZWRTY3JpcHRzLCByZWplY3RlZFNjcmlwdHMsIFxuICBnaXZlYXdheXMsIHBlbmRpbmdHaXZlYXdheXMsIGFwcHJvdmVkR2l2ZWF3YXlzLCByZWplY3RlZEdpdmVhd2F5cywgXG4gIGdpdmVhd2F5RW50cmllcywgZ2l2ZWF3YXlSZXZpZXdzLCBzY3JpcHRSZXZpZXdzLCBcbiAgZ2l2ZWF3YXlSZXF1aXJlbWVudHMsIGdpdmVhd2F5UHJpemVzLCBwZW5kaW5nQWRzLCBhcHByb3ZlZEFkcywgcmVqZWN0ZWRBZHMsXG4gIHR5cGUgU2NyaXB0LCB0eXBlIEdpdmVhd2F5IFxufSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgdHlwZSB7IFxuICBOZXdVc2VyLCBOZXdTY3JpcHQsIE5ld0dpdmVhd2F5LCBOZXdHaXZlYXdheUVudHJ5LCBcbiAgTmV3R2l2ZWF3YXlSZXZpZXcsIE5ld1NjcmlwdFJldmlldywgTmV3QWQsIFxuICBOZXdHaXZlYXdheVJlcXVpcmVtZW50LCBOZXdHaXZlYXdheVByaXplIFxufSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgeyB2YWxpZGF0ZUZyYW1ld29ya3MsIGlzVmFsaWRGcmFtZXdvcmsgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbi8vIFZhbGlkIHJvbGVzIGluIHRoZSBzeXN0ZW1cbmV4cG9ydCBjb25zdCBWQUxJRF9ST0xFUyA9IFsnZm91bmRlcicsICd2ZXJpZmllZF9jcmVhdG9yJywgJ2NyZXcnLCAnYWRtaW4nLCAnbW9kZXJhdG9yJywgJ3VzZXInXSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFZhbGlkUm9sZSA9IHR5cGVvZiBWQUxJRF9ST0xFU1tudW1iZXJdO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdmFsaWRhdGUgcm9sZXNcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJvbGVzKHJvbGVzOiBzdHJpbmdbXSk6IFZhbGlkUm9sZVtdIHtcbiAgcmV0dXJuIHJvbGVzLmZpbHRlcihyb2xlID0+IFZBTElEX1JPTEVTLmluY2x1ZGVzKHJvbGUgYXMgVmFsaWRSb2xlKSkgYXMgVmFsaWRSb2xlW107XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB1c2VyIGhhcyBhIHNwZWNpZmljIHJvbGVcbmV4cG9ydCBmdW5jdGlvbiBoYXNSb2xlKHVzZXJSb2xlczogc3RyaW5nW10sIHJlcXVpcmVkUm9sZTogVmFsaWRSb2xlKTogYm9vbGVhbiB7XG4gIHJldHVybiB1c2VyUm9sZXMuaW5jbHVkZXMocmVxdWlyZWRSb2xlKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHVzZXIgaGFzIGFueSBvZiB0aGUgcmVxdWlyZWQgcm9sZXNcbmV4cG9ydCBmdW5jdGlvbiBoYXNBbnlSb2xlKHVzZXJSb2xlczogc3RyaW5nW10sIHJlcXVpcmVkUm9sZXM6IFZhbGlkUm9sZVtdKTogYm9vbGVhbiB7XG4gIHJldHVybiByZXF1aXJlZFJvbGVzLnNvbWUocm9sZSA9PiB1c2VyUm9sZXMuaW5jbHVkZXMocm9sZSkpO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdXNlciBoYXMgYWxsIHJlcXVpcmVkIHJvbGVzXG5leHBvcnQgZnVuY3Rpb24gaGFzQWxsUm9sZXModXNlclJvbGVzOiBzdHJpbmdbXSwgcmVxdWlyZWRSb2xlczogVmFsaWRSb2xlW10pOiBib29sZWFuIHtcbiAgcmV0dXJuIHJlcXVpcmVkUm9sZXMuZXZlcnkocm9sZSA9PiB1c2VyUm9sZXMuaW5jbHVkZXMocm9sZSkpO1xufVxuXG4vLyBVc2VyIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydFVzZXIodXNlcjoge1xuICBpZDogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgZW1haWw/OiBzdHJpbmcgfCBudWxsO1xuICBpbWFnZT86IHN0cmluZyB8IG51bGw7XG4gIHVzZXJuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgZm9yY2VBZG1pbklmVXNlcm5hbWU/OiBzdHJpbmcgfCBudWxsO1xufSkge1xuICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IGdldFVzZXJCeUlkKHVzZXIuaWQpO1xuICBcbiAgLy8gRGV0ZXJtaW5lIHJvbGVzIGJhc2VkIG9uIHVzZXIgc3RhdHVzXG4gIGxldCB1c2VyUm9sZXM6IHN0cmluZ1tdO1xuICBcbiAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgIC8vIEV4aXN0aW5nIHVzZXI6IEtlZXAgdGhlaXIgY3VycmVudCByb2xlcyAoZG9uJ3Qgb3ZlcndyaXRlKVxuICAgIHVzZXJSb2xlcyA9IHZhbGlkYXRlUm9sZXMoZXhpc3RpbmdVc2VyLnJvbGVzIHx8IFsndXNlciddKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBOZXcgdXNlcjogQXNzaWduIGRlZmF1bHQgcm9sZXNcbiAgICBpZiAodXNlci5mb3JjZUFkbWluSWZVc2VybmFtZSAmJiB1c2VyLnVzZXJuYW1lID09PSB1c2VyLmZvcmNlQWRtaW5JZlVzZXJuYW1lKSB7XG4gICAgICB1c2VyUm9sZXMgPSBbJ2ZvdW5kZXInXTsgLy8gR2l2ZSBmb3VuZGVyIHJvbGUgdG8gc3BlY2lhbCB1c2VyXG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJSb2xlcyA9IFsndXNlciddOyAvLyBEZWZhdWx0IHJvbGUgZm9yIG5ldyB1c2Vyc1xuICAgIH1cbiAgfVxuICBcbiAgYXdhaXQgZGIuaW5zZXJ0KHVzZXJzKS52YWx1ZXMoe1xuICAgIGlkOiB1c2VyLmlkLFxuICAgIG5hbWU6IHVzZXIubmFtZSA/PyBudWxsLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsID8/IG51bGwsXG4gICAgaW1hZ2U6IHVzZXIuaW1hZ2UgPz8gbnVsbCxcbiAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSA/PyBudWxsLFxuICAgIHJvbGVzOiB1c2VyUm9sZXMsXG4gIH0pLm9uQ29uZmxpY3REb1VwZGF0ZSh7XG4gICAgdGFyZ2V0OiB1c2Vycy5pZCxcbiAgICBzZXQ6IHtcbiAgICAgIG5hbWU6IHVzZXIubmFtZSA/PyBudWxsLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwgPz8gbnVsbCxcbiAgICAgIGltYWdlOiB1c2VyLmltYWdlID8/IG51bGwsXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSA/PyBudWxsLFxuICAgICAgLy8gRG9uJ3Qgb3ZlcndyaXRlIHJvbGVzIGZvciBleGlzdGluZyB1c2Vyc1xuICAgICAgcm9sZXM6IGV4aXN0aW5nVXNlciA/IGV4aXN0aW5nVXNlci5yb2xlcyA6IHVzZXJSb2xlcyxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20odXNlcnMpLndoZXJlKGVxKHVzZXJzLmlkLCBpZCkpLmxpbWl0KDEpO1xuICByZXR1cm4gdXNlclswXSA/PyBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVXNlcnMobGltaXQ/OiBudW1iZXIpIHtcbiAgY29uc3QgZGVmYXVsdExpbWl0ID0gbGltaXQgfHwgMTAwO1xuICBjb25zdCB1c2VyTGlzdCA9IGF3YWl0IGRiXG4gICAgLnNlbGVjdCgpXG4gICAgLmZyb20odXNlcnMpXG4gICAgLm9yZGVyQnkoZGVzYyh1c2Vycy5jcmVhdGVkQXQpKVxuICAgIC5saW1pdChkZWZhdWx0TGltaXQpO1xuICBcbiAgcmV0dXJuIHVzZXJMaXN0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclJvbGUodXNlcklkOiBzdHJpbmcsIHJvbGVzOiBzdHJpbmdbXSkge1xuICBjb25zb2xlLmxvZyhgVXBkYXRpbmcgdXNlciAke3VzZXJJZH0gcm9sZXMgdG86YCwgcm9sZXMpO1xuICBcbiAgLy8gVmFsaWRhdGUgYW5kIGZpbHRlciByb2xlcyB0byBvbmx5IGluY2x1ZGUgdmFsaWQgb25lc1xuICBjb25zdCB2YWxpZFJvbGVzID0gdmFsaWRhdGVSb2xlcyhyb2xlcyk7XG4gIFxuICBpZiAodmFsaWRSb2xlcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZhbGlkIHJvbGVzIHByb3ZpZGVkLiBWYWxpZCByb2xlcyBhcmU6ICcgKyBWQUxJRF9ST0xFUy5qb2luKCcsICcpKTtcbiAgfVxuICBcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIudXBkYXRlKHVzZXJzKVxuICAgIC5zZXQoeyByb2xlczogdmFsaWRSb2xlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0pXG4gICAgLndoZXJlKGVxKHVzZXJzLmlkLCB1c2VySWQpKVxuICAgIC5yZXR1cm5pbmcoKTtcbiAgXG4gIGNvbnNvbGUubG9nKGBVc2VyICR7dXNlcklkfSByb2xlcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseTpgLCByZXN1bHRbMF0/LnJvbGVzKTtcbiAgcmV0dXJuIHJlc3VsdFswXSA/PyBudWxsO1xufVxuXG4vLyBTY3JpcHQgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2NyaXB0KHNjcmlwdERhdGE6IE5ld1NjcmlwdCAmIHsgZnJhbWV3b3JrPzogc3RyaW5nIHwgc3RyaW5nW10gfSk6IFByb21pc2U8bnVtYmVyPiB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICBjb25zdCByYW5kb21TdWZmaXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gIGNvbnN0IGlkID0gdGltZXN0YW1wICsgcmFuZG9tU3VmZml4O1xuICBcbiAgY29uc3QgZnJhbWV3b3JrQXJyYXkgPSBBcnJheS5pc0FycmF5KChzY3JpcHREYXRhIGFzIGFueSkuZnJhbWV3b3JrKVxuICAgID8gKChzY3JpcHREYXRhIGFzIGFueSkuZnJhbWV3b3JrIGFzIHN0cmluZ1tdKVxuICAgIDogKHR5cGVvZiAoc2NyaXB0RGF0YSBhcyBhbnkpLmZyYW1ld29yayA9PT0gJ3N0cmluZycgJiYgKHNjcmlwdERhdGEgYXMgYW55KS5mcmFtZXdvcmtcbiAgICAgICAgPyBbU3RyaW5nKChzY3JpcHREYXRhIGFzIGFueSkuZnJhbWV3b3JrKV1cbiAgICAgICAgOiBbXSk7XG5cbiAgLy8gVmFsaWRhdGUgYW5kIGZpbHRlciBmcmFtZXdvcmtzXG4gIGNvbnN0IHZhbGlkYXRlZEZyYW1ld29ya3MgPSB2YWxpZGF0ZUZyYW1ld29ya3MoZnJhbWV3b3JrQXJyYXkpO1xuXG4gIGNvbnN0IHNjcmlwdFdpdGhEZWZhdWx0cyA9IHtcbiAgICAuLi5zY3JpcHREYXRhLFxuICAgIGlkLFxuICAgIHNlbGxlcl9uYW1lOiBzY3JpcHREYXRhLnNlbGxlcl9uYW1lIHx8ICdVbmtub3duIFNlbGxlcicsXG4gICAgc2VsbGVyX2VtYWlsOiBzY3JpcHREYXRhLnNlbGxlcl9lbWFpbCB8fCAndW5rbm93bkBleGFtcGxlLmNvbScsXG4gICAgZmVhdHVyZWQ6IHNjcmlwdERhdGEuZmVhdHVyZWQgPz8gZmFsc2UsXG4gICAgaW1hZ2VzOiBzY3JpcHREYXRhLmltYWdlcyB8fCBbXSxcbiAgICB2aWRlb3M6IHNjcmlwdERhdGEudmlkZW9zIHx8IFtdLFxuICAgIHNjcmVlbnNob3RzOiBzY3JpcHREYXRhLnNjcmVlbnNob3RzIHx8IFtdLFxuICAgIHRhZ3M6IHNjcmlwdERhdGEudGFncyB8fCBbXSxcbiAgICBmZWF0dXJlczogc2NyaXB0RGF0YS5mZWF0dXJlcyB8fCBbXSxcbiAgICByZXF1aXJlbWVudHM6IHNjcmlwdERhdGEucmVxdWlyZW1lbnRzIHx8IFtdLFxuICAgIC8vIE5vcm1hbGl6ZSBmcmFtZXdvcmsgYXMgdGV4dFtdIGZvciBEQiB3aXRoIHZhbGlkYXRpb25cbiAgICBmcmFtZXdvcms6IHZhbGlkYXRlZEZyYW1ld29ya3MsXG4gIH07XG4gIFxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxuICAgIC5pbnNlcnQocGVuZGluZ1NjcmlwdHMpXG4gICAgLnZhbHVlcyhzY3JpcHRXaXRoRGVmYXVsdHMpXG4gICAgLnJldHVybmluZyh7IGlkOiBwZW5kaW5nU2NyaXB0cy5pZCB9KTtcbiAgXG4gIHJldHVybiByZXN1bHRbMF0/LmlkID8/IDA7XG59XG5cbmV4cG9ydCB0eXBlIFNjcmlwdEZpbHRlcnMgPSB7XG4gIGNhdGVnb3J5Pzogc3RyaW5nO1xuICBmcmFtZXdvcms/OiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgc3RhdHVzPzogc3RyaW5nO1xuICBmZWF0dXJlZD86IGJvb2xlYW47XG4gIGxpbWl0PzogbnVtYmVyO1xuICBvZmZzZXQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTY3JpcHRzKGZpbHRlcnM/OiBTY3JpcHRGaWx0ZXJzKSB7XG4gIGNvbnN0IGxpbWl0ID0gZmlsdGVycz8ubGltaXQgfHwgMTAwO1xuICBjb25zdCBvZmZzZXQgPSBmaWx0ZXJzPy5vZmZzZXQgfHwgMDtcbiAgXG4gIHRyeSB7XG4gICAgbGV0IGJhc2VRdWVyeSA9IGRiLnNlbGVjdCgpLmZyb20oYXBwcm92ZWRTY3JpcHRzKTtcbiAgICBcbiAgICAvLyBCdWlsZCBjb25kaXRpb25zIGFycmF5IGZvciBXSEVSRSBjbGF1c2VcbiAgICBjb25zdCBjb25kaXRpb25zOiBhbnlbXSA9IFtdO1xuICAgIFxuICAgIGlmIChmaWx0ZXJzPy5jYXRlZ29yeSkge1xuICAgICAgY29uZGl0aW9ucy5wdXNoKGVxKGFwcHJvdmVkU2NyaXB0cy5jYXRlZ29yeSwgZmlsdGVycy5jYXRlZ29yeSkpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZmlsdGVycz8uZnJhbWV3b3JrKSB7XG4gICAgICBjb25zdCBmcmFtZXdvcmtzID0gQXJyYXkuaXNBcnJheShmaWx0ZXJzLmZyYW1ld29yaykgPyBmaWx0ZXJzLmZyYW1ld29yayA6IFtmaWx0ZXJzLmZyYW1ld29ya11cbiAgICAgIC8vIGFwcHJvdmVkU2NyaXB0cy5mcmFtZXdvcmsgaXMgdGV4dFtdIG5vdzsgdXNlIFNRTCBBTlkvb3ZlcmxhcFxuICAgICAgY29uZGl0aW9ucy5wdXNoKHNxbGAoJHthcHByb3ZlZFNjcmlwdHMuZnJhbWV3b3JrfSkgJiYgJHtmcmFtZXdvcmtzfWAgYXMgYW55KVxuICAgIH1cbiAgICBcbiAgICBpZiAoZmlsdGVycz8uZmVhdHVyZWQpIHtcbiAgICAgIGNvbmRpdGlvbnMucHVzaChlcShhcHByb3ZlZFNjcmlwdHMuZmVhdHVyZWQsIHRydWUpKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcXVlcnkgPSBjb25kaXRpb25zLmxlbmd0aCA+IDBcbiAgICAgID8gYmFzZVF1ZXJ5LndoZXJlKGFuZCguLi5jb25kaXRpb25zKSlcbiAgICAgIDogYmFzZVF1ZXJ5O1xuICAgIFxuICAgIC8vIEV4ZWN1dGUgcXVlcnkgd2l0aCBzb3J0aW5nIGFuZCBwYWdpbmF0aW9uXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHF1ZXJ5XG4gICAgICAub3JkZXJCeShkZXNjKGFwcHJvdmVkU2NyaXB0cy5jcmVhdGVkQXQpKVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgLm9mZnNldChvZmZzZXQpO1xuICAgICAgXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2NyaXB0czonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2NyaXB0QnlJZChpZDogbnVtYmVyKSB7XG4gIHRyeSB7XG4gICAgLy8gRmlyc3QgY2hlY2sgYXBwcm92ZWRfc2NyaXB0cyAobW9zdCBjb21tb24gY2FzZSlcbiAgICBjb25zdCBhcHByb3ZlZFNjcmlwdCA9IGF3YWl0IGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKGFwcHJvdmVkU2NyaXB0cylcbiAgICAgIC53aGVyZShlcShhcHByb3ZlZFNjcmlwdHMuaWQsIGlkKSlcbiAgICAgIC5saW1pdCgxKTtcbiAgICAgIFxuICAgIGlmIChhcHByb3ZlZFNjcmlwdC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4geyAuLi5hcHByb3ZlZFNjcmlwdFswXSwgc3RhdHVzOiAnYXBwcm92ZWQnIGFzIGNvbnN0IH07XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIHBlbmRpbmdfc2NyaXB0c1xuICAgIGNvbnN0IHBlbmRpbmdTY3JpcHQgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShwZW5kaW5nU2NyaXB0cylcbiAgICAgIC53aGVyZShlcShwZW5kaW5nU2NyaXB0cy5pZCwgaWQpKVxuICAgICAgLmxpbWl0KDEpO1xuICAgICAgXG4gICAgaWYgKHBlbmRpbmdTY3JpcHQubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHsgLi4ucGVuZGluZ1NjcmlwdFswXSwgc3RhdHVzOiAncGVuZGluZycgYXMgY29uc3QgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgcmVqZWN0ZWRfc2NyaXB0c1xuICAgIGNvbnN0IHJlamVjdGVkU2NyaXB0ID0gYXdhaXQgZGJcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLmZyb20ocmVqZWN0ZWRTY3JpcHRzKVxuICAgICAgLndoZXJlKGVxKHJlamVjdGVkU2NyaXB0cy5pZCwgaWQpKVxuICAgICAgLmxpbWl0KDEpO1xuICAgICAgXG4gICAgaWYgKHJlamVjdGVkU2NyaXB0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB7IC4uLnJlamVjdGVkU2NyaXB0WzBdLCBzdGF0dXM6ICdyZWplY3RlZCcgYXMgY29uc3QgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmFsbGJhY2sgdG8gbGVnYWN5IHNjcmlwdHMgdGFibGVcbiAgICBjb25zdCBsZWdhY3lTY3JpcHQgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShzY3JpcHRzKVxuICAgICAgLndoZXJlKGVxKHNjcmlwdHMuaWQsIGlkKSlcbiAgICAgIC5saW1pdCgxKTtcbiAgICAgIFxuICAgIGlmIChsZWdhY3lTY3JpcHQubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHsgLi4ubGVnYWN5U2NyaXB0WzBdLCBzdGF0dXM6IGxlZ2FjeVNjcmlwdFswXS5zdGF0dXMgPz8gJ3Vua25vd24nIGFzIGNvbnN0IH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldFNjcmlwdEJ5SWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIEFkbWluIGZ1bmN0aW9ucyBmb3Igc2NyaXB0IG1hbmFnZW1lbnRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQZW5kaW5nU2NyaXB0cyhsaW1pdD86IG51bWJlcikge1xuICB0cnkge1xuICAgIGNvbnN0IGJhc2UgPSBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShwZW5kaW5nU2NyaXB0cylcbiAgICAgIC5vcmRlckJ5KGRlc2MocGVuZGluZ1NjcmlwdHMuY3JlYXRlZEF0KSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IChsaW1pdCA/IGJhc2UubGltaXQobGltaXQpIDogYmFzZSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGVuZGluZyBzY3JpcHRzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBBZG1pbiBmdW5jdGlvbnMgZm9yIHNjcmlwdCBtYW5hZ2VtZW50XG4vLyAocmVtb3ZlZCBkdXBsaWNhdGUgZ2V0UGVuZGluZ1NjcmlwdHMpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHByb3ZlZFNjcmlwdHMobGltaXQ/OiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBiYXNlID0gZGJcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLmZyb20oYXBwcm92ZWRTY3JpcHRzKVxuICAgICAgLm9yZGVyQnkoZGVzYyhhcHByb3ZlZFNjcmlwdHMuY3JlYXRlZEF0KSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IChsaW1pdCA/IGJhc2UubGltaXQobGltaXQpIDogYmFzZSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXBwcm92ZWQgc2NyaXB0czonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlamVjdGVkU2NyaXB0cyhsaW1pdD86IG51bWJlcikge1xuICB0cnkge1xuICAgIGNvbnN0IGJhc2UgPSBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShyZWplY3RlZFNjcmlwdHMpXG4gICAgICAub3JkZXJCeShkZXNjKHJlamVjdGVkU2NyaXB0cy5jcmVhdGVkQXQpKTtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgKGxpbWl0ID8gYmFzZS5saW1pdChsaW1pdCkgOiBiYXNlKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWplY3RlZCBzY3JpcHRzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyAocmVtb3ZlZCBkdXBsaWNhdGUgc2NyaXB0IGFkbWluIGZ1bmN0aW9uczsgc2VlIGRlZmluaXRpdmUgaW1wbGVtZW50YXRpb25zIGJlbG93KVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwcm92ZVNjcmlwdChzY3JpcHRJZDogbnVtYmVyLCBhZG1pbklkOiBzdHJpbmcsIGFkbWluTm90ZXM/OiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnYXBwcm92ZVNjcmlwdCBjYWxsZWQgd2l0aDonLCB7IHNjcmlwdElkLCBhZG1pbklkLCBhZG1pbk5vdGVzIH0pO1xuICAgIFxuICAgIC8vIEdldCB0aGUgcGVuZGluZyBzY3JpcHRcbiAgICBjb25zdCBwZW5kaW5nU2NyaXB0ID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShwZW5kaW5nU2NyaXB0cykud2hlcmUoZXEocGVuZGluZ1NjcmlwdHMuaWQsIHNjcmlwdElkKSkubGltaXQoMSk7XG4gICAgXG4gICAgaWYgKHBlbmRpbmdTY3JpcHQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NjcmlwdCBub3QgZm91bmQgaW4gcGVuZGluZyBzY3JpcHRzJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNjcmlwdCA9IHBlbmRpbmdTY3JpcHRbMF07XG4gICAgXG4gICAgLy8gSW5zZXJ0IGludG8gYXBwcm92ZWRfc2NyaXB0cyB0YWJsZVxuICAgIGNvbnN0IGFwcHJvdmVkU2NyaXB0ID0gYXdhaXQgZGIuaW5zZXJ0KGFwcHJvdmVkU2NyaXB0cykudmFsdWVzKHtcbiAgICAgIC4uLnNjcmlwdCxcbiAgICAgIGFwcHJvdmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBhcHByb3ZlZEJ5OiBhZG1pbklkLFxuICAgICAgYWRtaW5Ob3RlczogYWRtaW5Ob3RlcyB8fCBudWxsXG4gICAgfSkucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgLy8gRGVsZXRlIGZyb20gcGVuZGluZ19zY3JpcHRzIHRhYmxlXG4gICAgYXdhaXQgZGIuZGVsZXRlKHBlbmRpbmdTY3JpcHRzKS53aGVyZShlcShwZW5kaW5nU2NyaXB0cy5pZCwgc2NyaXB0SWQpKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnU2NyaXB0IGFwcHJvdmVkIHN1Y2Nlc3NmdWxseTonLCBhcHByb3ZlZFNjcmlwdFswXSk7XG4gICAgcmV0dXJuIGFwcHJvdmVkU2NyaXB0WzBdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFwcHJvdmluZyBzY3JpcHQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RTY3JpcHQoc2NyaXB0SWQ6IG51bWJlciwgYWRtaW5JZDogc3RyaW5nLCByZWplY3Rpb25SZWFzb246IHN0cmluZywgYWRtaW5Ob3Rlcz86IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdyZWplY3RTY3JpcHQgY2FsbGVkIHdpdGg6JywgeyBzY3JpcHRJZCwgYWRtaW5JZCwgcmVqZWN0aW9uUmVhc29uLCBhZG1pbk5vdGVzIH0pO1xuICAgIFxuICAgIC8vIEdldCB0aGUgcGVuZGluZyBzY3JpcHRcbiAgICBjb25zdCBwZW5kaW5nU2NyaXB0ID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShwZW5kaW5nU2NyaXB0cykud2hlcmUoZXEocGVuZGluZ1NjcmlwdHMuaWQsIHNjcmlwdElkKSkubGltaXQoMSk7XG4gICAgXG4gICAgaWYgKHBlbmRpbmdTY3JpcHQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NjcmlwdCBub3QgZm91bmQgaW4gcGVuZGluZyBzY3JpcHRzJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNjcmlwdCA9IHBlbmRpbmdTY3JpcHRbMF07XG4gICAgXG4gICAgLy8gSW5zZXJ0IGludG8gcmVqZWN0ZWRfc2NyaXB0cyB0YWJsZVxuICAgIGNvbnN0IHJlamVjdGVkU2NyaXB0ID0gYXdhaXQgZGIuaW5zZXJ0KHJlamVjdGVkU2NyaXB0cykudmFsdWVzKHtcbiAgICAgIC4uLnNjcmlwdCxcbiAgICAgIHJlamVjdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICByZWplY3RlZEJ5OiBhZG1pbklkLFxuICAgICAgcmVqZWN0aW9uUmVhc29uLFxuICAgICAgYWRtaW5Ob3RlczogYWRtaW5Ob3RlcyB8fCBudWxsXG4gICAgfSkucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgLy8gRGVsZXRlIGZyb20gcGVuZGluZ19zY3JpcHRzIHRhYmxlXG4gICAgYXdhaXQgZGIuZGVsZXRlKHBlbmRpbmdTY3JpcHRzKS53aGVyZShlcShwZW5kaW5nU2NyaXB0cy5pZCwgc2NyaXB0SWQpKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnU2NyaXB0IHJlamVjdGVkIHN1Y2Nlc3NmdWxseTonLCByZWplY3RlZFNjcmlwdFswXSk7XG4gICAgcmV0dXJuIHJlamVjdGVkU2NyaXB0WzBdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlamVjdGluZyBzY3JpcHQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIExlZ2FjeSBmdW5jdGlvbiBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNjcmlwdChpZDogbnVtYmVyLCB1cGRhdGVEYXRhOiBhbnkpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygndXBkYXRlU2NyaXB0IGNhbGxlZCB3aXRoOicsIHsgaWQsIHVwZGF0ZURhdGEgfSk7XG5cbiAgICAvLyBNYXAgaW5jb21pbmcgcGF5bG9hZCBrZXlzIChtYXkgYmUgc25ha2VfY2FzZSkgdG8gc2NoZW1hIHByb3BlcnR5IG5hbWVzXG4gICAgY29uc3QgbWFwcGVkVXBkYXRlOiBhbnkgPSB7IHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuXG4gICAgY29uc3QgYXNzaWduSWZEZWZpbmVkID0gKHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIG1hcHBlZFVwZGF0ZVtwcm9wXSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBTaW1wbGUgcGFzc3Rocm91Z2ggZmllbGRzIChzYW1lIGNhc2luZyBhcyBzY2hlbWEpXG4gICAgYXNzaWduSWZEZWZpbmVkKCd0aXRsZScsIHVwZGF0ZURhdGEudGl0bGUpO1xuICAgIGFzc2lnbklmRGVmaW5lZCgnZGVzY3JpcHRpb24nLCB1cGRhdGVEYXRhLmRlc2NyaXB0aW9uKTtcbiAgICBpZiAodXBkYXRlRGF0YS5wcmljZSAhPT0gdW5kZWZpbmVkKSBhc3NpZ25JZkRlZmluZWQoJ3ByaWNlJywgTnVtYmVyKHVwZGF0ZURhdGEucHJpY2UpKTtcbiAgICBpZiAodXBkYXRlRGF0YS5vcmlnaW5hbFByaWNlICE9PSB1bmRlZmluZWQpIGFzc2lnbklmRGVmaW5lZCgnb3JpZ2luYWxQcmljZScsIHVwZGF0ZURhdGEub3JpZ2luYWxQcmljZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodXBkYXRlRGF0YS5vcmlnaW5hbFByaWNlKSk7XG4gICAgLy8gQWNjZXB0IHNuYWtlX2Nhc2UgYWxpYXNlc1xuICAgIGlmICh1cGRhdGVEYXRhLm9yaWdpbmFsX3ByaWNlICE9PSB1bmRlZmluZWQpIGFzc2lnbklmRGVmaW5lZCgnb3JpZ2luYWxQcmljZScsIHVwZGF0ZURhdGEub3JpZ2luYWxfcHJpY2UgPT09IG51bGwgPyBudWxsIDogTnVtYmVyKHVwZGF0ZURhdGEub3JpZ2luYWxfcHJpY2UpKTtcbiAgICBhc3NpZ25JZkRlZmluZWQoJ2NhdGVnb3J5JywgdXBkYXRlRGF0YS5jYXRlZ29yeSk7XG4gICAgLy8gRnJhbWV3b3JrczogYWNjZXB0IHN0cmluZyBvciBhcnJheSBhbmQgdmFsaWRhdGVcbiAgICBpZiAodXBkYXRlRGF0YS5mcmFtZXdvcmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IEFycmF5LmlzQXJyYXkodXBkYXRlRGF0YS5mcmFtZXdvcmspID8gdXBkYXRlRGF0YS5mcmFtZXdvcmsgOiAodXBkYXRlRGF0YS5mcmFtZXdvcmsgPyBbdXBkYXRlRGF0YS5mcmFtZXdvcmtdIDogW10pO1xuICAgICAgYXNzaWduSWZEZWZpbmVkKCdmcmFtZXdvcmsnLCB2YWxpZGF0ZUZyYW1ld29ya3MoYXJyYXlWYWx1ZSkpO1xuICAgIH1cbiAgICBhc3NpZ25JZkRlZmluZWQoJ3NlbGxlcl9uYW1lJywgdXBkYXRlRGF0YS5zZWxsZXJfbmFtZSk7XG4gICAgYXNzaWduSWZEZWZpbmVkKCdzZWxsZXJfZW1haWwnLCB1cGRhdGVEYXRhLnNlbGxlcl9lbWFpbCk7XG4gICAgYXNzaWduSWZEZWZpbmVkKCd0YWdzJywgdXBkYXRlRGF0YS50YWdzKTtcbiAgICBhc3NpZ25JZkRlZmluZWQoJ2ZlYXR1cmVzJywgdXBkYXRlRGF0YS5mZWF0dXJlcyk7XG4gICAgYXNzaWduSWZEZWZpbmVkKCdyZXF1aXJlbWVudHMnLCB1cGRhdGVEYXRhLnJlcXVpcmVtZW50cyk7XG4gICAgYXNzaWduSWZEZWZpbmVkKCdpbWFnZXMnLCB1cGRhdGVEYXRhLmltYWdlcyk7XG4gICAgYXNzaWduSWZEZWZpbmVkKCd2aWRlb3MnLCB1cGRhdGVEYXRhLnZpZGVvcyk7XG4gICAgYXNzaWduSWZEZWZpbmVkKCdzY3JlZW5zaG90cycsIHVwZGF0ZURhdGEuc2NyZWVuc2hvdHMpO1xuICAgIC8vIE1lZGlhIGFuZCBsaW5rcyB3aXRoIHNuYWtlX2Nhc2UgYWxpYXNlc1xuICAgIGlmICh1cGRhdGVEYXRhLmNvdmVySW1hZ2UgIT09IHVuZGVmaW5lZCkgYXNzaWduSWZEZWZpbmVkKCdjb3ZlckltYWdlJywgdXBkYXRlRGF0YS5jb3ZlckltYWdlKTtcbiAgICBpZiAodXBkYXRlRGF0YS5jb3Zlcl9pbWFnZSAhPT0gdW5kZWZpbmVkKSBhc3NpZ25JZkRlZmluZWQoJ2NvdmVySW1hZ2UnLCB1cGRhdGVEYXRhLmNvdmVyX2ltYWdlKTtcbiAgICBpZiAodXBkYXRlRGF0YS5kZW1vVXJsICE9PSB1bmRlZmluZWQpIGFzc2lnbklmRGVmaW5lZCgnZGVtb1VybCcsIHVwZGF0ZURhdGEuZGVtb1VybCk7XG4gICAgaWYgKHVwZGF0ZURhdGEuZGVtb191cmwgIT09IHVuZGVmaW5lZCkgYXNzaWduSWZEZWZpbmVkKCdkZW1vVXJsJywgdXBkYXRlRGF0YS5kZW1vX3VybCk7XG4gICAgaWYgKHVwZGF0ZURhdGEuZG9jdW1lbnRhdGlvblVybCAhPT0gdW5kZWZpbmVkKSBhc3NpZ25JZkRlZmluZWQoJ2RvY3VtZW50YXRpb25VcmwnLCB1cGRhdGVEYXRhLmRvY3VtZW50YXRpb25VcmwpO1xuICAgIGlmICh1cGRhdGVEYXRhLmRvY3VtZW50YXRpb25fdXJsICE9PSB1bmRlZmluZWQpIGFzc2lnbklmRGVmaW5lZCgnZG9jdW1lbnRhdGlvblVybCcsIHVwZGF0ZURhdGEuZG9jdW1lbnRhdGlvbl91cmwpO1xuICAgIGlmICh1cGRhdGVEYXRhLnN1cHBvcnRVcmwgIT09IHVuZGVmaW5lZCkgYXNzaWduSWZEZWZpbmVkKCdzdXBwb3J0VXJsJywgdXBkYXRlRGF0YS5zdXBwb3J0VXJsKTtcbiAgICBpZiAodXBkYXRlRGF0YS5zdXBwb3J0X3VybCAhPT0gdW5kZWZpbmVkKSBhc3NpZ25JZkRlZmluZWQoJ3N1cHBvcnRVcmwnLCB1cGRhdGVEYXRhLnN1cHBvcnRfdXJsKTtcbiAgICBhc3NpZ25JZkRlZmluZWQoJ3ZlcnNpb24nLCB1cGRhdGVEYXRhLnZlcnNpb24pO1xuICAgIGlmICh1cGRhdGVEYXRhLmZlYXR1cmVkICE9PSB1bmRlZmluZWQpIGFzc2lnbklmRGVmaW5lZCgnZmVhdHVyZWQnLCBCb29sZWFuKHVwZGF0ZURhdGEuZmVhdHVyZWQpKTtcblxuICAgIGNvbnNvbGUubG9nKCdNYXBwZWQgdXBkYXRlIG9iamVjdCAoYXBwcm92ZWRfc2NyaXB0cyk6JywgbWFwcGVkVXBkYXRlKTtcblxuICAgIC8vIFVwZGF0ZSBvbmx5IHRoZSBhcHByb3ZlZF9zY3JpcHRzIHRhYmxlIGFzIHJlcXVlc3RlZFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnVwZGF0ZShhcHByb3ZlZFNjcmlwdHMpXG4gICAgICAuc2V0KG1hcHBlZFVwZGF0ZSlcbiAgICAgIC53aGVyZShlcShhcHByb3ZlZFNjcmlwdHMuaWQsIGlkKSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcblxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0IChhcHByb3ZlZF9zY3JpcHRzKTonLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHRbMF0gPz8gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzY3JpcHQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTY3JpcHQoaWQ6IG51bWJlcikge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmRlbGV0ZShzY3JpcHRzKS53aGVyZShlcShzY3JpcHRzLmlkLCBpZCkpLnJldHVybmluZyh7IGlkOiBzY3JpcHRzLmlkIH0pO1xuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID4gMDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBzY3JpcHQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBHaXZlYXdheSBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHaXZlYXdheShnaXZlYXdheURhdGE6IE5ld0dpdmVhd2F5KSB7XG4gIGNvbnNvbGUubG9nKCdjcmVhdGVHaXZlYXdheSBjYWxsZWQgd2l0aDonLCBnaXZlYXdheURhdGEpO1xuICBcbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIFhhdGEgTGl0ZSBjb21wYXRpYmlsaXR5XG4gIC8vIFVzZSBhIHNtYWxsZXIgbnVtYmVyIHRoYXQgZml0cyBQb3N0Z3JlU1FMIGludGVnZXIgbGltaXRzXG4gIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgY29uc3QgcmFuZG9tU3VmZml4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICBjb25zdCBpZCA9IHRpbWVzdGFtcCArIHJhbmRvbVN1ZmZpeDtcbiAgXG4gIC8vIFByb3ZpZGUgZGVmYXVsdCB2YWx1ZXMgZm9yIHJlcXVpcmVkIGZpZWxkc1xuICBjb25zdCBnaXZlYXdheVdpdGhEZWZhdWx0cyA9IHtcbiAgICAuLi5naXZlYXdheURhdGEsXG4gICAgaWQ6IGlkLFxuICAgIC8vIE1hcCBzbmFrZV9jYXNlIGlucHV0IHRvIGNhbWVsQ2FzZSBzY2hlbWEgZmllbGRzXG4gICAgdG90YWxWYWx1ZTogZ2l2ZWF3YXlEYXRhLnRvdGFsVmFsdWUgfHwgKGdpdmVhd2F5RGF0YSBhcyBhbnkpLnRvdGFsX3ZhbHVlIHx8ICcwJyxcbiAgICBlbmREYXRlOiBnaXZlYXdheURhdGEuZW5kRGF0ZSB8fCAoZ2l2ZWF3YXlEYXRhIGFzIGFueSkuZW5kX2RhdGUgfHwgbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgIGNyZWF0b3JOYW1lOiBnaXZlYXdheURhdGEuY3JlYXRvck5hbWUgfHwgKGdpdmVhd2F5RGF0YSBhcyBhbnkpLmNyZWF0b3JfbmFtZSB8fCAnVW5rbm93biBDcmVhdG9yJyxcbiAgICBjcmVhdG9yRW1haWw6IGdpdmVhd2F5RGF0YS5jcmVhdG9yRW1haWwgfHwgKGdpdmVhd2F5RGF0YSBhcyBhbnkpLmNyZWF0b3JfZW1haWwgfHwgJ3Vua25vd25AZXhhbXBsZS5jb20nLFxuICAgIGNyZWF0b3JJZDogZ2l2ZWF3YXlEYXRhLmNyZWF0b3JJZCB8fCAoZ2l2ZWF3YXlEYXRhIGFzIGFueSkuY3JlYXRvcl9pZCB8fCAndW5rbm93bicsXG4gICAgc3RhdHVzOiBnaXZlYXdheURhdGEuc3RhdHVzIHx8ICdhY3RpdmUnLFxuICAgIGZlYXR1cmVkOiBnaXZlYXdheURhdGEuZmVhdHVyZWQgPz8gZmFsc2UsXG4gICAgZW50cmllc0NvdW50OiBnaXZlYXdheURhdGEuZW50cmllc0NvdW50IHx8IChnaXZlYXdheURhdGEgYXMgYW55KS5lbnRyaWVzX2NvdW50IHx8IDAsXG4gICAgbWF4RW50cmllczogZ2l2ZWF3YXlEYXRhLm1heEVudHJpZXMgfHwgKGdpdmVhd2F5RGF0YSBhcyBhbnkpLm1heF9lbnRyaWVzIHx8IG51bGxcbiAgfTtcbiAgXG4gIGNvbnNvbGUubG9nKCdnaXZlYXdheVdpdGhEZWZhdWx0czonLCBnaXZlYXdheVdpdGhEZWZhdWx0cyk7XG4gIFxuICAvLyBJbnNlcnQgaW50byBwZW5kaW5nX2dpdmVhd2F5cyB0YWJsZSAoYWxsIG5ldyBnaXZlYXdheXMgZ28gaGVyZSlcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuaW5zZXJ0KHBlbmRpbmdHaXZlYXdheXMpLnZhbHVlcyhnaXZlYXdheVdpdGhEZWZhdWx0cykucmV0dXJuaW5nKHsgaWQ6IHBlbmRpbmdHaXZlYXdheXMuaWQgfSk7XG4gIHJldHVybiByZXN1bHRbMF0/LmlkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR2l2ZWF3YXlSZXF1aXJlbWVudChyZXF1aXJlbWVudERhdGE6IE5ld0dpdmVhd2F5UmVxdWlyZW1lbnQpIHtcbiAgY29uc29sZS5sb2coJ2NyZWF0ZUdpdmVhd2F5UmVxdWlyZW1lbnQgY2FsbGVkIHdpdGg6JywgcmVxdWlyZW1lbnREYXRhKTtcbiAgXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciBYYXRhIExpdGUgY29tcGF0aWJpbGl0eVxuICAvLyBVc2UgYSBzbWFsbGVyIG51bWJlciB0aGF0IGZpdHMgUG9zdGdyZVNRTCBpbnRlZ2VyIGxpbWl0c1xuICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTsgLy8gQ29udmVydCB0byBzZWNvbmRzXG4gIGNvbnN0IHJhbmRvbVN1ZmZpeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgY29uc3QgaWQgPSB0aW1lc3RhbXAgKyByYW5kb21TdWZmaXg7XG4gIFxuICAvLyBNYXAgc25ha2VfY2FzZSBpbnB1dCB0byBjYW1lbENhc2Ugc2NoZW1hIGZpZWxkc1xuICBjb25zdCBtYXBwZWREYXRhID0ge1xuICAgIC4uLnJlcXVpcmVtZW50RGF0YSxcbiAgICBpZDogaWQsXG4gICAgZ2l2ZWF3YXlJZDogcmVxdWlyZW1lbnREYXRhLmdpdmVhd2F5SWQgfHwgKHJlcXVpcmVtZW50RGF0YSBhcyBhbnkpLmdpdmVhd2F5X2lkXG4gIH07XG4gIFxuICBjb25zb2xlLmxvZygnbWFwcGVkRGF0YTonLCBtYXBwZWREYXRhKTtcbiAgXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydChnaXZlYXdheVJlcXVpcmVtZW50cykudmFsdWVzKG1hcHBlZERhdGEpLnJldHVybmluZyh7IGlkOiBnaXZlYXdheVJlcXVpcmVtZW50cy5pZCB9KTtcbiAgcmV0dXJuIHJlc3VsdFswXT8uaWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHaXZlYXdheVByaXplKHByaXplRGF0YTogTmV3R2l2ZWF3YXlQcml6ZSkge1xuICBjb25zb2xlLmxvZygnY3JlYXRlR2l2ZWF3YXlQcml6ZSBjYWxsZWQgd2l0aDonLCBwcml6ZURhdGEpO1xuICBcbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIFhhdGEgTGl0ZSBjb21wYXRpYmlsaXR5XG4gIC8vIFVzZSBhIHNtYWxsZXIgbnVtYmVyIHRoYXQgZml0cyBQb3N0Z3JlU1FMIGludGVnZXIgbGltaXRzXG4gIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgY29uc3QgcmFuZG9tU3VmZml4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICBjb25zdCBpZCA9IHRpbWVzdGFtcCArIHJhbmRvbVN1ZmZpeDtcbiAgXG4gIC8vIE1hcCBzbmFrZV9jYXNlIGlucHV0IHRvIGNhbWVsQ2FzZSBzY2hlbWEgZmllbGRzXG4gIGNvbnN0IG1hcHBlZERhdGEgPSB7XG4gICAgLi4ucHJpemVEYXRhLFxuICAgIGlkOiBpZCxcbiAgICBnaXZlYXdheUlkOiBwcml6ZURhdGEuZ2l2ZWF3YXlJZCB8fCAocHJpemVEYXRhIGFzIGFueSkuZ2l2ZWF3YXlfaWRcbiAgfTtcbiAgXG4gIGNvbnNvbGUubG9nKCdtYXBwZWREYXRhOicsIG1hcHBlZERhdGEpO1xuICBcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuaW5zZXJ0KGdpdmVhd2F5UHJpemVzKS52YWx1ZXMobWFwcGVkRGF0YSkucmV0dXJuaW5nKHsgaWQ6IGdpdmVhd2F5UHJpemVzLmlkIH0pO1xuICByZXR1cm4gcmVzdWx0WzBdPy5pZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdpdmVhd2F5cyhmaWx0ZXJzPzoge1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIGZlYXR1cmVkPzogYm9vbGVhbjtcbiAgbGltaXQ/OiBudW1iZXI7XG4gIG9mZnNldD86IG51bWJlcjtcbn0pIHtcbiAgY29uc3QgY29uZGl0aW9uczogYW55W10gPSBbXTtcbiAgaWYgKGZpbHRlcnM/LnN0YXR1cyAmJiBmaWx0ZXJzLnN0YXR1cyAhPT0gJ2FsbCcpIGNvbmRpdGlvbnMucHVzaChlcShhcHByb3ZlZEdpdmVhd2F5cy5zdGF0dXMsIGZpbHRlcnMuc3RhdHVzIGFzIGFueSkpO1xuICBpZiAoZmlsdGVycz8uZmVhdHVyZWQpIGNvbmRpdGlvbnMucHVzaChlcShhcHByb3ZlZEdpdmVhd2F5cy5mZWF0dXJlZCwgdHJ1ZSkpO1xuICBjb25zdCBiYXNlID0gZGIuc2VsZWN0KCkuZnJvbShhcHByb3ZlZEdpdmVhd2F5cyk7XG4gIGNvbnN0IGZpbHRlcmVkID0gY29uZGl0aW9ucy5sZW5ndGggPyBiYXNlLndoZXJlKGFuZCguLi5jb25kaXRpb25zKSkgOiBiYXNlO1xuICBjb25zdCBvcmRlcmVkID0gZmlsdGVyZWQub3JkZXJCeShkZXNjKGFwcHJvdmVkR2l2ZWF3YXlzLmNyZWF0ZWRBdCkpO1xuICBjb25zdCBsaW1pdGVkID0gZmlsdGVycz8ubGltaXQgPyBvcmRlcmVkLmxpbWl0KGZpbHRlcnMubGltaXQpIDogb3JkZXJlZDtcbiAgY29uc3Qgb2Zmc2V0ZWQgPSBmaWx0ZXJzPy5vZmZzZXQgPyBsaW1pdGVkLm9mZnNldChmaWx0ZXJzLm9mZnNldCkgOiBsaW1pdGVkO1xuICByZXR1cm4gYXdhaXQgKG9mZnNldGVkIGFzIGFueSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHaXZlYXdheUJ5SWQoaWQ6IG51bWJlcikge1xuICAvLyBTZWFyY2ggYWNyb3NzIGFsbCBnaXZlYXdheSB0YWJsZXMgdG8gZmluZCB0aGUgZ2l2ZWF3YXlcbiAgdHJ5IHtcbiAgICBsZXQgcmVzdWx0OiBhbnkgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGFwcHJvdmVkR2l2ZWF3YXlzKS53aGVyZShlcShhcHByb3ZlZEdpdmVhd2F5cy5pZCwgaWQpKTtcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGdpdmVhd2F5ID0gcmVzdWx0WzBdO1xuICAgICAgY29uc3QgcmVxdWlyZW1lbnRzID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShnaXZlYXdheVJlcXVpcmVtZW50cykud2hlcmUoZXEoZ2l2ZWF3YXlSZXF1aXJlbWVudHMuZ2l2ZWF3YXlJZCwgaWQpKTtcbiAgICAgIGNvbnN0IHByaXplcyA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2l2ZWF3YXlQcml6ZXMpLndoZXJlKGVxKGdpdmVhd2F5UHJpemVzLmdpdmVhd2F5SWQsIGlkKSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmdpdmVhd2F5LFxuICAgICAgICByZXF1aXJlbWVudHMsXG4gICAgICAgIHByaXplcyxcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHJlc3VsdCA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20ocGVuZGluZ0dpdmVhd2F5cykud2hlcmUoZXEocGVuZGluZ0dpdmVhd2F5cy5pZCwgaWQpKSBhcyBhbnk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBnaXZlYXdheSA9IHJlc3VsdFswXTtcbiAgICAgIGNvbnN0IHJlcXVpcmVtZW50cyA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2l2ZWF3YXlSZXF1aXJlbWVudHMpLndoZXJlKGVxKGdpdmVhd2F5UmVxdWlyZW1lbnRzLmdpdmVhd2F5SWQsIGlkKSk7XG4gICAgICBjb25zdCBwcml6ZXMgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGdpdmVhd2F5UHJpemVzKS53aGVyZShlcShnaXZlYXdheVByaXplcy5naXZlYXdheUlkLCBpZCkpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5naXZlYXdheSxcbiAgICAgICAgcmVxdWlyZW1lbnRzLFxuICAgICAgICBwcml6ZXMsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXN1bHQgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHJlamVjdGVkR2l2ZWF3YXlzKS53aGVyZShlcShyZWplY3RlZEdpdmVhd2F5cy5pZCwgaWQpKSBhcyBhbnk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBnaXZlYXdheSA9IHJlc3VsdFswXTtcbiAgICAgIGNvbnN0IHJlcXVpcmVtZW50cyA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2l2ZWF3YXlSZXF1aXJlbWVudHMpLndoZXJlKGVxKGdpdmVhd2F5UmVxdWlyZW1lbnRzLmdpdmVhd2F5SWQsIGlkKSk7XG4gICAgICBjb25zdCBwcml6ZXMgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGdpdmVhd2F5UHJpemVzKS53aGVyZShlcShnaXZlYXdheVByaXplcy5naXZlYXdheUlkLCBpZCkpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5naXZlYXdheSxcbiAgICAgICAgcmVxdWlyZW1lbnRzLFxuICAgICAgICBwcml6ZXMsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayB0byBvbGQgZ2l2ZWF3YXlzIHRhYmxlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgcmVzdWx0ID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShnaXZlYXdheXMpLndoZXJlKGVxKGdpdmVhd2F5cy5pZCwgaWQpKSBhcyBhbnk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBnaXZlYXdheSA9IHJlc3VsdFswXTtcbiAgICAgIGNvbnN0IHJlcXVpcmVtZW50cyA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2l2ZWF3YXlSZXF1aXJlbWVudHMpLndoZXJlKGVxKGdpdmVhd2F5UmVxdWlyZW1lbnRzLmdpdmVhd2F5SWQsIGlkKSk7XG4gICAgICBjb25zdCBwcml6ZXMgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGdpdmVhd2F5UHJpemVzKS53aGVyZShlcShnaXZlYXdheVByaXplcy5naXZlYXdheUlkLCBpZCkpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5naXZlYXdheSxcbiAgICAgICAgcmVxdWlyZW1lbnRzLFxuICAgICAgICBwcml6ZXMsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBnZXRHaXZlYXdheUJ5SWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVHaXZlYXdheShpZDogbnVtYmVyLCB1cGRhdGVEYXRhOiBQYXJ0aWFsPE5ld0dpdmVhd2F5Pikge1xuICB0cnkge1xuICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZURhdGEpO1xuICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB1cGRhdGVPYmplY3Q6IGFueSA9IHsgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLCAuLi51cGRhdGVEYXRhIH07XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIudXBkYXRlKGdpdmVhd2F5cykuc2V0KHVwZGF0ZU9iamVjdCkud2hlcmUoZXEoZ2l2ZWF3YXlzLmlkLCBpZCkpLnJldHVybmluZygpO1xuICAgIHJldHVybiByZXN1bHRbMF0gPz8gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBnaXZlYXdheTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUdpdmVhd2F5KGlkOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5kZWxldGUoZ2l2ZWF3YXlzKS53aGVyZShlcShnaXZlYXdheXMuaWQsIGlkKSkucmV0dXJuaW5nKHsgaWQ6IGdpdmVhd2F5cy5pZCB9KTtcbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA+IDA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZ2l2ZWF3YXk6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBBZG1pbiBnaXZlYXdheSBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdHaXZlYXdheXMobGltaXQ/OiBudW1iZXIpOiBQcm9taXNlPGFueVtdPiB7XG4gIGNvbnN0IG1heFJldHJpZXMgPSAzO1xuICBsZXQgbGFzdEVycm9yOiBhbnk7XG4gIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gIGNvbnN0IGJhc2UgPSBkYi5zZWxlY3QoKS5mcm9tKHBlbmRpbmdHaXZlYXdheXMpLm9yZGVyQnkoZGVzYyhwZW5kaW5nR2l2ZWF3YXlzLnN1Ym1pdHRlZEF0KSk7XG4gIHJldHVybiBhd2FpdCAobGltaXQgPyBiYXNlLmxpbWl0KGxpbWl0KSA6IGJhc2UpIGFzIGFueVtdO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xuICAgICAgaWYgKGVycm9yPy5jYXVzZT8uY29kZSA9PT0gJ1hBVEFfQ09OQ1VSUkVOQ1lfTElNSVQnIHx8IGVycm9yPy5jYXVzZT8uY29kZSA9PT0gJ0NPTk5FQ1RfVElNRU9VVCcpIHtcbiAgICAgICAgY29uc3Qgd2FpdFRpbWUgPSBhdHRlbXB0ICogNTAwO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgd2FpdFRpbWUpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgY29uc29sZS53YXJuKCdnZXRQZW5kaW5nR2l2ZWF3YXlzIGZhaWxlZCBhZnRlciByZXRyaWVzOicsIGxhc3RFcnJvcik7XG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcHJvdmVkR2l2ZWF3YXlzKGxpbWl0PzogbnVtYmVyKTogUHJvbWlzZTxhbnlbXT4ge1xuICBjb25zdCBtYXhSZXRyaWVzID0gMztcbiAgbGV0IGxhc3RFcnJvcjogYW55O1xuICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICB0cnkge1xuICBjb25zdCBiYXNlID0gZGIuc2VsZWN0KCkuZnJvbShhcHByb3ZlZEdpdmVhd2F5cykub3JkZXJCeShkZXNjKGFwcHJvdmVkR2l2ZWF3YXlzLmFwcHJvdmVkQXQpKTtcbiAgcmV0dXJuIGF3YWl0IChsaW1pdCA/IGJhc2UubGltaXQobGltaXQpIDogYmFzZSkgYXMgYW55W107XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgbGFzdEVycm9yID0gZXJyb3I7XG4gICAgICBpZiAoZXJyb3I/LmNhdXNlPy5jb2RlID09PSAnWEFUQV9DT05DVVJSRU5DWV9MSU1JVCcgfHwgZXJyb3I/LmNhdXNlPy5jb2RlID09PSAnQ09OTkVDVF9USU1FT1VUJykge1xuICAgICAgICBjb25zdCB3YWl0VGltZSA9IGF0dGVtcHQgKiAyMDA7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCB3YWl0VGltZSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLndhcm4oJ2dldEFwcHJvdmVkR2l2ZWF3YXlzIGZhaWxlZCBhZnRlciByZXRyaWVzOicsIGxhc3RFcnJvcik7XG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlamVjdGVkR2l2ZWF3YXlzKGxpbWl0PzogbnVtYmVyKTogUHJvbWlzZTxhbnlbXT4ge1xuICBjb25zdCBtYXhSZXRyaWVzID0gMztcbiAgbGV0IGxhc3RFcnJvcjogYW55O1xuICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICB0cnkge1xuICBjb25zdCBiYXNlID0gZGIuc2VsZWN0KCkuZnJvbShyZWplY3RlZEdpdmVhd2F5cykub3JkZXJCeShkZXNjKHJlamVjdGVkR2l2ZWF3YXlzLnJlamVjdGVkQXQpKTtcbiAgcmV0dXJuIGF3YWl0IChsaW1pdCA/IGJhc2UubGltaXQobGltaXQpIDogYmFzZSkgYXMgYW55W107XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgbGFzdEVycm9yID0gZXJyb3I7XG4gICAgICBpZiAoZXJyb3I/LmNhdXNlPy5jb2RlID09PSAnWEFUQV9DT05DVVJSRU5DWV9MSU1JVCcgfHwgZXJyb3I/LmNhdXNlPy5jb2RlID09PSAnQ09OTkVDVF9USU1FT1VUJykge1xuICAgICAgICBjb25zdCB3YWl0VGltZSA9IGF0dGVtcHQgKiA1MDA7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCB3YWl0VGltZSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLndhcm4oJ2dldFJlamVjdGVkR2l2ZWF3YXlzIGZhaWxlZCBhZnRlciByZXRyaWVzOicsIGxhc3RFcnJvcik7XG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcHJvdmVHaXZlYXdheShnaXZlYXdheUlkOiBudW1iZXIsIGFkbWluSWQ6IHN0cmluZywgYWRtaW5Ob3Rlcz86IHN0cmluZykge1xuICB0cnkge1xuICAgIC8vIEdldCB0aGUgcGVuZGluZyBnaXZlYXdheVxuICAgIGNvbnN0IHBlbmRpbmdHaXZlYXdheSA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20ocGVuZGluZ0dpdmVhd2F5cykud2hlcmUoZXEocGVuZGluZ0dpdmVhd2F5cy5pZCwgZ2l2ZWF3YXlJZCkpO1xuICAgIGlmICghcGVuZGluZ0dpdmVhd2F5WzBdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BlbmRpbmcgZ2l2ZWF3YXkgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IGludG8gYXBwcm92ZWRfZ2l2ZWF3YXlzIHRhYmxlXG4gICAgYXdhaXQgZGIuaW5zZXJ0KGFwcHJvdmVkR2l2ZWF3YXlzKS52YWx1ZXMoe1xuICAgICAgLi4ucGVuZGluZ0dpdmVhd2F5WzBdLFxuICAgICAgYXBwcm92ZWRCeTogYWRtaW5JZCxcbiAgICAgIGFkbWluTm90ZXM6IGFkbWluTm90ZXMgfHwgbnVsbCxcbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBmcm9tIHBlbmRpbmdfZ2l2ZWF3YXlzIHRhYmxlXG4gICAgYXdhaXQgZGIuZGVsZXRlKHBlbmRpbmdHaXZlYXdheXMpLndoZXJlKGVxKHBlbmRpbmdHaXZlYXdheXMuaWQsIGdpdmVhd2F5SWQpKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFwcHJvdmluZyBnaXZlYXdheTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RHaXZlYXdheShnaXZlYXdheUlkOiBudW1iZXIsIGFkbWluSWQ6IHN0cmluZywgcmVqZWN0aW9uUmVhc29uOiBzdHJpbmcsIGFkbWluTm90ZXM/OiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIHBlbmRpbmcgZ2l2ZWF3YXlcbiAgICBjb25zdCBwZW5kaW5nR2l2ZWF3YXkgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHBlbmRpbmdHaXZlYXdheXMpLndoZXJlKGVxKHBlbmRpbmdHaXZlYXdheXMuaWQsIGdpdmVhd2F5SWQpKTtcbiAgICBpZiAoIXBlbmRpbmdHaXZlYXdheVswXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQZW5kaW5nIGdpdmVhd2F5IG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIC8vIEluc2VydCBpbnRvIHJlamVjdGVkX2dpdmVhd2F5cyB0YWJsZVxuICAgIGF3YWl0IGRiLmluc2VydChyZWplY3RlZEdpdmVhd2F5cykudmFsdWVzKHtcbiAgICAgIC4uLnBlbmRpbmdHaXZlYXdheVswXSxcbiAgICAgIHJlamVjdGVkQnk6IGFkbWluSWQsXG4gICAgICByZWplY3Rpb25SZWFzb246IHJlamVjdGlvblJlYXNvbixcbiAgICAgIGFkbWluTm90ZXM6IGFkbWluTm90ZXMgfHwgbnVsbCxcbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBmcm9tIHBlbmRpbmdfZ2l2ZWF3YXlzIHRhYmxlXG4gICAgYXdhaXQgZGIuZGVsZXRlKHBlbmRpbmdHaXZlYXdheXMpLndoZXJlKGVxKHBlbmRpbmdHaXZlYXdheXMuaWQsIGdpdmVhd2F5SWQpKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlamVjdGluZyBnaXZlYXdheTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIEdpdmVhd2F5IEVudHJ5IGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUdpdmVhd2F5RW50cnkoZW50cnlEYXRhOiBOZXdHaXZlYXdheUVudHJ5KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ2NyZWF0ZUdpdmVhd2F5RW50cnkgY2FsbGVkIHdpdGg6JywgZW50cnlEYXRhKTtcbiAgICBcbiAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgWGF0YSBMaXRlIGNvbXBhdGliaWxpdHlcbiAgICAvLyBVc2UgYSBzbWFsbGVyIG51bWJlciB0aGF0IGZpdHMgUG9zdGdyZVNRTCBpbnRlZ2VyIGxpbWl0c1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgICBjb25zdCByYW5kb21TdWZmaXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgY29uc3QgaWQgPSB0aW1lc3RhbXAgKyByYW5kb21TdWZmaXg7XG4gICAgXG4gICAgLy8gTWFwIHNuYWtlX2Nhc2UgaW5wdXQgdG8gY2FtZWxDYXNlIHNjaGVtYSBmaWVsZHNcbiAgICBjb25zdCBtYXBwZWREYXRhID0ge1xuICAgICAgLi4uZW50cnlEYXRhLFxuICAgICAgaWQ6IGlkLFxuICAgICAgZ2l2ZWF3YXlJZDogZW50cnlEYXRhLmdpdmVhd2F5SWQgfHwgKGVudHJ5RGF0YSBhcyBhbnkpLmdpdmVhd2F5X2lkLFxuICAgICAgdXNlcklkOiBlbnRyeURhdGEudXNlcklkIHx8IChlbnRyeURhdGEgYXMgYW55KS51c2VyX2lkLFxuICAgICAgdXNlck5hbWU6IChlbnRyeURhdGEgYXMgYW55KS51c2VyTmFtZSA/PyAoZW50cnlEYXRhIGFzIGFueSkudXNlcl9uYW1lID8/IG51bGwsXG4gICAgICB1c2VyRW1haWw6IChlbnRyeURhdGEgYXMgYW55KS51c2VyRW1haWwgPz8gKGVudHJ5RGF0YSBhcyBhbnkpLnVzZXJfZW1haWwgPz8gbnVsbCxcbiAgICAgIGVudHJ5RGF0ZTogKGVudHJ5RGF0YSBhcyBhbnkpLmVudHJ5RGF0ZSA/PyAoZW50cnlEYXRhIGFzIGFueSkuZW50cnlfZGF0ZSA/PyBuZXcgRGF0ZSgpLFxuICAgICAgcG9pbnRzRWFybmVkOiAoZW50cnlEYXRhIGFzIGFueSkucG9pbnRzRWFybmVkID8/IChlbnRyeURhdGEgYXMgYW55KS5wb2ludHNfZWFybmVkID8/IDAsXG4gICAgICByZXF1aXJlbWVudHNDb21wbGV0ZWQ6IChlbnRyeURhdGEgYXMgYW55KS5yZXF1aXJlbWVudHNDb21wbGV0ZWQgPz8gKGVudHJ5RGF0YSBhcyBhbnkpLnJlcXVpcmVtZW50c19jb21wbGV0ZWQgPz8gW11cbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdtYXBwZWREYXRhOicsIG1hcHBlZERhdGEpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydChnaXZlYXdheUVudHJpZXMpLnZhbHVlcyhtYXBwZWREYXRhKS5yZXR1cm5pbmcoeyBpZDogZ2l2ZWF3YXlFbnRyaWVzLmlkIH0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSB0aGUgZW50cmllcyBjb3VudCBpbiB0aGUgYXBwcm92ZWRfZ2l2ZWF3YXlzIHRhYmxlXG4gICAgYXdhaXQgZGIudXBkYXRlKGFwcHJvdmVkR2l2ZWF3YXlzKVxuICAgICAgLnNldCh7IFxuICAgICAgICBlbnRyaWVzQ291bnQ6IHNxbGAke2FwcHJvdmVkR2l2ZWF3YXlzLmVudHJpZXNDb3VudH0gKyAxYCwgXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSBcbiAgICAgIH0pXG4gICAgICAud2hlcmUoZXEoYXBwcm92ZWRHaXZlYXdheXMuaWQsIG1hcHBlZERhdGEuZ2l2ZWF3YXlJZCkpO1xuICAgIFxuICAgIHJldHVybiByZXN1bHRbMF0/LmlkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGdpdmVhd2F5IGVudHJ5OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R2l2ZWF3YXlFbnRyaWVzKGdpdmVhd2F5SWQ6IG51bWJlcikge1xuICByZXR1cm4gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShnaXZlYXdheUVudHJpZXMpXG4gICAgLndoZXJlKGVxKGdpdmVhd2F5RW50cmllcy5naXZlYXdheUlkLCBnaXZlYXdheUlkKSlcbiAgICAub3JkZXJCeShkZXNjKGdpdmVhd2F5RW50cmllcy5lbnRyeURhdGUpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJHaXZlYXdheUVudHJ5KGdpdmVhd2F5SWQ6IG51bWJlciwgdXNlcklkOiBzdHJpbmcpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShnaXZlYXdheUVudHJpZXMpXG4gICAgLndoZXJlKGFuZChcbiAgICAgIGVxKGdpdmVhd2F5RW50cmllcy5naXZlYXdheUlkLCBnaXZlYXdheUlkKSxcbiAgICAgIGVxKGdpdmVhd2F5RW50cmllcy51c2VySWQsIHVzZXJJZClcbiAgICApKVxuICAgIC5saW1pdCgxKTtcbiAgcmV0dXJuIHJlc3VsdFswXSA/PyBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckdpdmVhd2F5RW50cmllcyh1c2VySWQ6IHN0cmluZykge1xuICByZXR1cm4gYXdhaXQgZGIuc2VsZWN0KHtcbiAgICAuLi5nZXRUYWJsZUNvbHVtbnMoZ2l2ZWF3YXlFbnRyaWVzKSxcbiAgICBnaXZlYXdheVRpdGxlOiBnaXZlYXdheXMudGl0bGUsXG4gICAgZ2l2ZWF3YXlDb3ZlcjogZ2l2ZWF3YXlzLmNvdmVySW1hZ2UsXG4gIH0pXG4gIC5mcm9tKGdpdmVhd2F5RW50cmllcylcbiAgLmxlZnRKb2luKGdpdmVhd2F5cywgZXEoZ2l2ZWF3YXlFbnRyaWVzLmdpdmVhd2F5SWQsIGdpdmVhd2F5cy5pZCkpXG4gIC53aGVyZShlcShnaXZlYXdheUVudHJpZXMudXNlcklkLCB1c2VySWQpKVxuICAub3JkZXJCeShkZXNjKGdpdmVhd2F5RW50cmllcy5lbnRyeURhdGUpKTtcbn1cblxuLy8gUmV2aWV3IGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUdpdmVhd2F5UmV2aWV3KHJldmlld0RhdGE6IE5ld0dpdmVhd2F5UmV2aWV3KSB7XG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciBYYXRhIExpdGUgY29tcGF0aWJpbGl0eVxuICAvLyBVc2UgYSBzbWFsbGVyIG51bWJlciB0aGF0IGZpdHMgUG9zdGdyZVNRTCBpbnRlZ2VyIGxpbWl0c1xuICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTsgLy8gQ29udmVydCB0byBzZWNvbmRzXG4gIGNvbnN0IHJhbmRvbVN1ZmZpeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgY29uc3QgaWQgPSB0aW1lc3RhbXAgKyByYW5kb21TdWZmaXg7XG4gIFxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5pbnNlcnQoZ2l2ZWF3YXlSZXZpZXdzKS52YWx1ZXMoe1xuICAgIC4uLnJldmlld0RhdGEsXG4gICAgaWQ6IGlkXG4gIH0pLnJldHVybmluZyh7IGlkOiBnaXZlYXdheVJldmlld3MuaWQgfSk7XG4gIHJldHVybiByZXN1bHRbMF0/LmlkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R2l2ZWF3YXlSZXZpZXdzKGdpdmVhd2F5SWQ6IG51bWJlcikge1xuICByZXR1cm4gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShnaXZlYXdheVJldmlld3MpXG4gICAgLndoZXJlKGVxKGdpdmVhd2F5UmV2aWV3cy5naXZlYXdheUlkLCBnaXZlYXdheUlkKSlcbiAgICAub3JkZXJCeShkZXNjKGdpdmVhd2F5UmV2aWV3cy5jcmVhdGVkQXQpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNjcmlwdFJldmlldyhyZXZpZXdEYXRhOiBOZXdTY3JpcHRSZXZpZXcpIHtcbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIFhhdGEgTGl0ZSBjb21wYXRpYmlsaXR5XG4gIC8vIFVzZSBhIHNtYWxsZXIgbnVtYmVyIHRoYXQgZml0cyBQb3N0Z3JlU1FMIGludGVnZXIgbGltaXRzXG4gIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgY29uc3QgcmFuZG9tU3VmZml4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICBjb25zdCBpZCA9IHRpbWVzdGFtcCArIHJhbmRvbVN1ZmZpeDtcbiAgXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydChzY3JpcHRSZXZpZXdzKS52YWx1ZXMoe1xuICAgIC4uLnJldmlld0RhdGEsXG4gICAgaWQ6IGlkXG4gIH0pLnJldHVybmluZyh7IGlkOiBzY3JpcHRSZXZpZXdzLmlkIH0pO1xuICByZXR1cm4gcmVzdWx0WzBdPy5pZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNjcmlwdFJldmlld3Moc2NyaXB0SWQ6IG51bWJlcikge1xuICByZXR1cm4gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShzY3JpcHRSZXZpZXdzKVxuICAgIC53aGVyZShlcShzY3JpcHRSZXZpZXdzLnNjcmlwdElkLCBzY3JpcHRJZCkpXG4gICAgLm9yZGVyQnkoZGVzYyhzY3JpcHRSZXZpZXdzLmNyZWF0ZWRBdCkpO1xufVxuXG4vLyBBZCBmdW5jdGlvbnMgLSB1c2luZyBuZXcgYXBwcm92YWwgc3lzdGVtXG5cbi8vIENyZWF0ZSBhZCAocm91dGVzIHRvIHBlbmRpbmcgb3IgYXBwcm92ZWQgYmFzZWQgb24gdXNlciByb2xlKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFkKGFkRGF0YTogTmV3QWQgJiB7IHN0YXR1cz86IHN0cmluZyB9KSB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICBjb25zdCByYW5kb21TdWZmaXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gIGNvbnN0IGlkID0gdGltZXN0YW1wICsgcmFuZG9tU3VmZml4O1xuXG4gIC8vIE1hcCBzbmFrZV9jYXNlIGlucHV0IHRvIGNhbWVsQ2FzZSBzY2hlbWEgZmllbGRzIGFuZCBwcm92aWRlIGRlZmF1bHRzXG4gIGNvbnN0IG1hcHBlZCA9IHtcbiAgICBpZDogaWQsXG4gICAgdGl0bGU6IChhZERhdGEgYXMgYW55KS50aXRsZSxcbiAgICBkZXNjcmlwdGlvbjogKGFkRGF0YSBhcyBhbnkpLmRlc2NyaXB0aW9uLFxuICAgIGltYWdlVXJsOiAoYWREYXRhIGFzIGFueSkuaW1hZ2VVcmwgPz8gKGFkRGF0YSBhcyBhbnkpLmltYWdlX3VybCA/PyBudWxsLFxuICAgIGxpbmtVcmw6IChhZERhdGEgYXMgYW55KS5saW5rVXJsID8/IChhZERhdGEgYXMgYW55KS5saW5rX3VybCA/PyBudWxsLFxuICAgIGNhdGVnb3J5OiAoYWREYXRhIGFzIGFueSkuY2F0ZWdvcnksXG4gICAgcHJpb3JpdHk6IChhZERhdGEgYXMgYW55KS5wcmlvcml0eSA/PyAxLFxuICAgIHN0YXJ0RGF0ZTogKGFkRGF0YSBhcyBhbnkpLnN0YXJ0RGF0ZSA/PyAoYWREYXRhIGFzIGFueSkuc3RhcnRfZGF0ZSA/PyBuZXcgRGF0ZSgpLFxuICAgIGVuZERhdGU6IChhZERhdGEgYXMgYW55KS5lbmREYXRlID8/IChhZERhdGEgYXMgYW55KS5lbmRfZGF0ZSA/PyBudWxsLFxuICAgIGNyZWF0ZWRCeTogKGFkRGF0YSBhcyBhbnkpLmNyZWF0ZWRCeSA/PyAoYWREYXRhIGFzIGFueSkuY3JlYXRlZF9ieSxcbiAgfTtcblxuICAvLyBJZiBzdGF0dXMgaXMgJ2FjdGl2ZScsIGluc2VydCBkaXJlY3RseSBpbnRvIGFwcHJvdmVkX2Fkc1xuICBpZiAoYWREYXRhLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5pbnNlcnQoYXBwcm92ZWRBZHMpLnZhbHVlcyh7XG4gICAgICAuLi5tYXBwZWQsXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGFueSxcbiAgICAgIGFwcHJvdmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBhcHByb3ZlZEJ5OiBtYXBwZWQuY3JlYXRlZEJ5LFxuICAgIH0gYXMgYW55KS5yZXR1cm5pbmcoeyBpZDogYXBwcm92ZWRBZHMuaWQgfSk7XG4gICAgcmV0dXJuIHJlc3VsdFswXT8uaWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlLCBpbnNlcnQgaW50byBwZW5kaW5nX2Fkc1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydChwZW5kaW5nQWRzKS52YWx1ZXMoe1xuICAgICAgLi4ubWFwcGVkLFxuICAgICAgc3VibWl0dGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfSBhcyBhbnkpLnJldHVybmluZyh7IGlkOiBwZW5kaW5nQWRzLmlkIH0pO1xuICAgIHJldHVybiByZXN1bHRbMF0/LmlkO1xuICB9XG59XG5cbi8vIENyZWF0ZSBwZW5kaW5nIGFkIChmb3IgdXNlciBzdWJtaXNzaW9ucylcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQZW5kaW5nQWQoYWREYXRhOiBOZXdBZCkge1xuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgWGF0YSBMaXRlIGNvbXBhdGliaWxpdHlcbiAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gIGNvbnN0IHJhbmRvbVN1ZmZpeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgY29uc3QgaWQgPSB0aW1lc3RhbXAgKyByYW5kb21TdWZmaXg7XG5cbiAgLy8gTWFwIHNuYWtlX2Nhc2UgaW5wdXQgdG8gY2FtZWxDYXNlIHNjaGVtYSBmaWVsZHMgYW5kIHByb3ZpZGUgZGVmYXVsdHNcbiAgY29uc3QgbWFwcGVkID0ge1xuICAgIGlkOiBpZCxcbiAgICB0aXRsZTogKGFkRGF0YSBhcyBhbnkpLnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uOiAoYWREYXRhIGFzIGFueSkuZGVzY3JpcHRpb24sXG4gICAgaW1hZ2VVcmw6IChhZERhdGEgYXMgYW55KS5pbWFnZVVybCA/PyAoYWREYXRhIGFzIGFueSkuaW1hZ2VfdXJsID8/IG51bGwsXG4gICAgbGlua1VybDogKGFkRGF0YSBhcyBhbnkpLmxpbmtVcmwgPz8gKGFkRGF0YSBhcyBhbnkpLmxpbmtfdXJsID8/IG51bGwsXG4gICAgY2F0ZWdvcnk6IChhZERhdGEgYXMgYW55KS5jYXRlZ29yeSxcbiAgICBwcmlvcml0eTogKGFkRGF0YSBhcyBhbnkpLnByaW9yaXR5ID8/IDEsXG4gICAgc3RhcnREYXRlOiAoYWREYXRhIGFzIGFueSkuc3RhcnREYXRlID8/IChhZERhdGEgYXMgYW55KS5zdGFydF9kYXRlID8/IG5ldyBEYXRlKCksXG4gICAgZW5kRGF0ZTogKGFkRGF0YSBhcyBhbnkpLmVuZERhdGUgPz8gKGFkRGF0YSBhcyBhbnkpLmVuZF9kYXRlID8/IG51bGwsXG4gICAgY3JlYXRlZEJ5OiAoYWREYXRhIGFzIGFueSkuY3JlYXRlZEJ5ID8/IChhZERhdGEgYXMgYW55KS5jcmVhdGVkX2J5LFxuICAgIHN1Ym1pdHRlZEF0OiBuZXcgRGF0ZSgpLFxuICB9O1xuXG4gIC8vIEluc2VydCBpbnRvIHBlbmRpbmcgYWRzIHRhYmxlXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydChwZW5kaW5nQWRzKS52YWx1ZXMobWFwcGVkIGFzIGFueSkucmV0dXJuaW5nKHsgaWQ6IHBlbmRpbmdBZHMuaWQgfSk7XG4gIHJldHVybiByZXN1bHRbMF0/LmlkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWRzKGZpbHRlcnM/OiB7XG4gIHN0YXR1cz86IHN0cmluZztcbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIGxpbWl0PzogbnVtYmVyO1xufSkge1xuICB0cnkge1xuICAgIC8vIEZldGNoIGZyb20gYXBwcm92ZWQgYWRzIHRhYmxlIG9ubHlcbiAgICBjb25zdCBjb25kaXRpb25zOiBhbnlbXSA9IFtdO1xuICAgIGlmIChmaWx0ZXJzPy5zdGF0dXMpIGNvbmRpdGlvbnMucHVzaChlcShhcHByb3ZlZEFkcy5zdGF0dXMsIGZpbHRlcnMuc3RhdHVzIGFzIGFueSkpO1xuICAgIGlmIChmaWx0ZXJzPy5jYXRlZ29yeSkgY29uZGl0aW9ucy5wdXNoKGVxKGFwcHJvdmVkQWRzLmNhdGVnb3J5LCBmaWx0ZXJzLmNhdGVnb3J5KSk7XG4gICAgXG4gICAgY29uc3QgbGltaXRWYWwgPSBmaWx0ZXJzPy5saW1pdCB8fCA1MDtcbiAgICBcbiAgICBjb25zdCBxdWVyeSA9IGNvbmRpdGlvbnMubGVuZ3RoXG4gICAgICA/IGRiLnNlbGVjdCgpLmZyb20oYXBwcm92ZWRBZHMpLndoZXJlKGFuZCguLi5jb25kaXRpb25zKSlcbiAgICAgIDogZGIuc2VsZWN0KCkuZnJvbShhcHByb3ZlZEFkcyk7XG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IHF1ZXJ5XG4gICAgICAub3JkZXJCeShkZXNjKGFwcHJvdmVkQWRzLnByaW9yaXR5KSwgZGVzYyhhcHByb3ZlZEFkcy5jcmVhdGVkQXQpKVxuICAgICAgLmxpbWl0KGxpbWl0VmFsKSBhcyBhbnk7XG4gICAgICBcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFkczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBhZHMgZm9yIHNwZWNpZmljIHBhZ2UgdHlwZXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBZHNGb3JQYWdlKHBhZ2VUeXBlOiAnc2NyaXB0cycgfCAnZ2l2ZWF3YXlzJywgbGltaXQ/OiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhbGxBZHMgPSBhd2FpdCBnZXRBZHMoeyBzdGF0dXM6IFwiYWN0aXZlXCIsIGxpbWl0OiAxMDAgfSk7XG4gICAgXG4gICAgbGV0IGZpbHRlcmVkQWRzO1xuICAgIGlmIChwYWdlVHlwZSA9PT0gJ3NjcmlwdHMnKSB7XG4gICAgICAvLyBTaG93IGFkcyB3aXRoIGNhdGVnb3J5IFwiYm90aFwiLCBcImdlbmVyYWxcIiwgb3IgXCJzY3JpcHRzXCJcbiAgICAgIGZpbHRlcmVkQWRzID0gYWxsQWRzLmZpbHRlcigoYWQ6IGFueSkgPT4gXG4gICAgICAgIGFkLmNhdGVnb3J5Py50b0xvd2VyQ2FzZSgpID09PSBcImJvdGhcIiB8fCBcbiAgICAgICAgYWQuY2F0ZWdvcnk/LnRvTG93ZXJDYXNlKCkgPT09IFwiZ2VuZXJhbFwiIHx8XG4gICAgICAgIGFkLmNhdGVnb3J5Py50b0xvd2VyQ2FzZSgpID09PSBcInNjcmlwdHNcIlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBhZ2VUeXBlID09PSAnZ2l2ZWF3YXlzJykge1xuICAgICAgLy8gU2hvdyBhZHMgd2l0aCBjYXRlZ29yeSBcImJvdGhcIiwgXCJnZW5lcmFsXCIsIG9yIFwiZ2l2ZWF3YXlzXCJcbiAgICAgIGZpbHRlcmVkQWRzID0gYWxsQWRzLmZpbHRlcigoYWQ6IGFueSkgPT4gXG4gICAgICAgIGFkLmNhdGVnb3J5Py50b0xvd2VyQ2FzZSgpID09PSBcImJvdGhcIiB8fCBcbiAgICAgICAgYWQuY2F0ZWdvcnk/LnRvTG93ZXJDYXNlKCkgPT09IFwiZ2VuZXJhbFwiIHx8XG4gICAgICAgIGFkLmNhdGVnb3J5Py50b0xvd2VyQ2FzZSgpID09PSBcImdpdmVhd2F5c1wiXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWx0ZXJlZEFkcyA9IFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyBBcHBseSBsaW1pdFxuICAgIGNvbnN0IGxpbWl0VmFsID0gbGltaXQgfHwgMTA7XG4gICAgcmV0dXJuIGZpbHRlcmVkQWRzLnNsaWNlKDAsIGxpbWl0VmFsKTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGFkcyBmb3IgJHtwYWdlVHlwZX06YCwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIE9sZCBhZCBmdW5jdGlvbnMgcmVtb3ZlZCAtIHVzaW5nIG5ldyBhcHByb3ZhbCBzeXN0ZW0gd2l0aCBwZW5kaW5nX2FkcywgYXBwcm92ZWRfYWRzLCByZWplY3RlZF9hZHNcblxuLy8gQWRtaW4gYWQgbWFuYWdlbWVudCBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQZW5kaW5nQWRzKGxpbWl0PzogbnVtYmVyKTogUHJvbWlzZTxhbnlbXT4ge1xuICBjb25zdCBiYXNlID0gZGIuc2VsZWN0KCkuZnJvbShwZW5kaW5nQWRzKS5vcmRlckJ5KGRlc2MocGVuZGluZ0Fkcy5jcmVhdGVkQXQpKTtcbiAgcmV0dXJuIGF3YWl0IChsaW1pdCA/IGJhc2UubGltaXQobGltaXQpIDogYmFzZSkgYXMgYW55W107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHByb3ZlZEFkcyhsaW1pdD86IG51bWJlcik6IFByb21pc2U8YW55W10+IHtcbiAgLy8gRXhwbGljaXRseSBzZWxlY3QgZmllbGRzIHRvIG1hdGNoIGFwcHJvdmVkX2FkcyBzaGFwZVxuICBjb25zdCBiYXNlID0gZGJcbiAgICAuc2VsZWN0KClcbiAgICAuZnJvbShhcHByb3ZlZEFkcylcbiAgICAub3JkZXJCeShkZXNjKGFwcHJvdmVkQWRzLmFwcHJvdmVkQXQpKTtcbiAgcmV0dXJuIGF3YWl0IChsaW1pdCA/IGJhc2UubGltaXQobGltaXQpIDogYmFzZSkgYXMgYW55W107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZWplY3RlZEFkcyhsaW1pdD86IG51bWJlcik6IFByb21pc2U8YW55W10+IHtcbiAgY29uc3QgYmFzZSA9IGRiXG4gICAgLnNlbGVjdCgpXG4gICAgLmZyb20ocmVqZWN0ZWRBZHMpXG4gICAgLm9yZGVyQnkoZGVzYyhyZWplY3RlZEFkcy5yZWplY3RlZEF0KSk7XG4gIHJldHVybiBhd2FpdCAobGltaXQgPyBiYXNlLmxpbWl0KGxpbWl0KSA6IGJhc2UpIGFzIGFueVtdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwcm92ZUFkKGFkSWQ6IG51bWJlciwgYWRtaW5JZDogc3RyaW5nLCBhZG1pbk5vdGVzPzogc3RyaW5nKSB7XG4gIC8vIE1vdmUgZnJvbSBwZW5kaW5nIHRvIGFwcHJvdmVkXG4gIGNvbnN0IHBlbmRpbmcgPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHBlbmRpbmdBZHMpLndoZXJlKGVxKHBlbmRpbmdBZHMuaWQsIGFkSWQpKS5saW1pdCgxKTtcbiAgaWYgKHBlbmRpbmcubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ1BlbmRpbmcgYWQgbm90IGZvdW5kJyk7XG4gIGNvbnN0IGFkID0gcGVuZGluZ1swXTtcbiAgYXdhaXQgZGIuaW5zZXJ0KGFwcHJvdmVkQWRzKS52YWx1ZXMoe1xuICAgIC4uLmFkLFxuICAgIHN0YXR1czogJ2FjdGl2ZScgYXMgYW55LFxuICAgIGFwcHJvdmVkQnk6IGFkbWluSWQsXG4gICAgYWRtaW5Ob3RlczogYWRtaW5Ob3RlcyB8fCBudWxsLFxuICB9KTtcbiAgYXdhaXQgZGIuZGVsZXRlKHBlbmRpbmdBZHMpLndoZXJlKGVxKHBlbmRpbmdBZHMuaWQsIGFkSWQpKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RBZChhZElkOiBudW1iZXIsIGFkbWluSWQ6IHN0cmluZywgcmVqZWN0aW9uUmVhc29uOiBzdHJpbmcsIGFkbWluTm90ZXM/OiBzdHJpbmcpIHtcbiAgY29uc3QgcGVuZGluZyA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20ocGVuZGluZ0Fkcykud2hlcmUoZXEocGVuZGluZ0Fkcy5pZCwgYWRJZCkpLmxpbWl0KDEpO1xuICBpZiAocGVuZGluZy5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcignUGVuZGluZyBhZCBub3QgZm91bmQnKTtcbiAgY29uc3QgYWQgPSBwZW5kaW5nWzBdO1xuICBhd2FpdCBkYi5pbnNlcnQocmVqZWN0ZWRBZHMpLnZhbHVlcyh7XG4gICAgLi4uYWQsXG4gICAgcmVqZWN0ZWRCeTogYWRtaW5JZCxcbiAgICByZWplY3Rpb25SZWFzb24sXG4gICAgYWRtaW5Ob3RlczogYWRtaW5Ob3RlcyB8fCBudWxsLFxuICB9KTtcbiAgYXdhaXQgZGIuZGVsZXRlKHBlbmRpbmdBZHMpLndoZXJlKGVxKHBlbmRpbmdBZHMuaWQsIGFkSWQpKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIEFkIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWRCeUlkKGlkOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICAvLyBTZWFyY2ggYWNyb3NzIGFsbCBhZCB0YWJsZXNcbiAgICBjb25zdCBhcHByb3ZlZCA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oYXBwcm92ZWRBZHMpLndoZXJlKGVxKGFwcHJvdmVkQWRzLmlkLCBpZCkpLmxpbWl0KDEpO1xuICAgIGlmIChhcHByb3ZlZC5sZW5ndGggPiAwKSByZXR1cm4geyAuLi5hcHByb3ZlZFswXSwgc3RhdHVzOiAnYXBwcm92ZWQnIH07XG4gICAgXG4gICAgY29uc3QgcGVuZGluZyA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20ocGVuZGluZ0Fkcykud2hlcmUoZXEocGVuZGluZ0Fkcy5pZCwgaWQpKS5saW1pdCgxKTtcbiAgICBpZiAocGVuZGluZy5sZW5ndGggPiAwKSByZXR1cm4geyAuLi5wZW5kaW5nWzBdLCBzdGF0dXM6ICdwZW5kaW5nJyB9O1xuICAgIFxuICAgIGNvbnN0IHJlamVjdGVkID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShyZWplY3RlZEFkcykud2hlcmUoZXEocmVqZWN0ZWRBZHMuaWQsIGlkKSkubGltaXQoMSk7XG4gICAgaWYgKHJlamVjdGVkLmxlbmd0aCA+IDApIHJldHVybiB7IC4uLnJlamVjdGVkWzBdLCBzdGF0dXM6ICdyZWplY3RlZCcgfTtcbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFkKGlkOiBudW1iZXIsIHVwZGF0ZURhdGE6IGFueSkge1xuICB0cnkge1xuICAgIC8vIFVwZGF0ZSBpbiBhcHByb3ZlZCBhZHMgdGFibGUgKG1vc3QgY29tbW9uIGNhc2UpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIudXBkYXRlKGFwcHJvdmVkQWRzKVxuICAgICAgLnNldCh7IC4uLnVwZGF0ZURhdGEsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9KVxuICAgICAgLndoZXJlKGVxKGFwcHJvdmVkQWRzLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSByZXR1cm4gcmVzdWx0WzBdO1xuICAgIFxuICAgIC8vIFRyeSBwZW5kaW5nIGFkc1xuICAgIGNvbnN0IHBlbmRpbmdSZXN1bHQgPSBhd2FpdCBkYi51cGRhdGUocGVuZGluZ0FkcylcbiAgICAgIC5zZXQoeyAuLi51cGRhdGVEYXRhLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSlcbiAgICAgIC53aGVyZShlcShwZW5kaW5nQWRzLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgcmV0dXJuIHBlbmRpbmdSZXN1bHRbMF0gfHwgbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBhZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFkKGlkOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICAvLyBUcnkgdG8gZGVsZXRlIGZyb20gYWxsIHRhYmxlc1xuICAgIGNvbnN0IGFwcHJvdmVkUmVzdWx0ID0gYXdhaXQgZGIuZGVsZXRlKGFwcHJvdmVkQWRzKS53aGVyZShlcShhcHByb3ZlZEFkcy5pZCwgaWQpKS5yZXR1cm5pbmcoKTtcbiAgICBpZiAoYXBwcm92ZWRSZXN1bHQubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgY29uc3QgcGVuZGluZ1Jlc3VsdCA9IGF3YWl0IGRiLmRlbGV0ZShwZW5kaW5nQWRzKS53aGVyZShlcShwZW5kaW5nQWRzLmlkLCBpZCkpLnJldHVybmluZygpO1xuICAgIGlmIChwZW5kaW5nUmVzdWx0Lmxlbmd0aCA+IDApIHJldHVybiB0cnVlO1xuICAgIFxuICAgIGNvbnN0IHJlamVjdGVkUmVzdWx0ID0gYXdhaXQgZGIuZGVsZXRlKHJlamVjdGVkQWRzKS53aGVyZShlcShyZWplY3RlZEFkcy5pZCwgaWQpKS5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gcmVqZWN0ZWRSZXN1bHQubGVuZ3RoID4gMDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBhZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIFJldmlldyBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyU2NyaXB0UmV2aWV3KHNjcmlwdElkOiBudW1iZXIsIHVzZXJJZDogc3RyaW5nKSB7XG4gIHJldHVybiBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHNjcmlwdFJldmlld3MpXG4gICAgLndoZXJlKGFuZChlcShzY3JpcHRSZXZpZXdzLnNjcmlwdElkLCBzY3JpcHRJZCksIGVxKHNjcmlwdFJldmlld3MucmV2aWV3ZXJFbWFpbCwgdXNlcklkKSkpXG4gICAgLmxpbWl0KDEpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckdpdmVhd2F5UmV2aWV3KGdpdmVhd2F5SWQ6IG51bWJlciwgdXNlcklkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2l2ZWF3YXlSZXZpZXdzKVxuICAgIC53aGVyZShhbmQoZXEoZ2l2ZWF3YXlSZXZpZXdzLmdpdmVhd2F5SWQsIGdpdmVhd2F5SWQpLCBlcShnaXZlYXdheVJldmlld3MucmV2aWV3ZXJFbWFpbCwgdXNlcklkKSkpXG4gICAgLmxpbWl0KDEpO1xufVxuIl0sIm5hbWVzIjpbImRiIiwiZXEiLCJhbmQiLCJzcWwiLCJkZXNjIiwiZ2V0VGFibGVDb2x1bW5zIiwidXNlcnMiLCJzY3JpcHRzIiwicGVuZGluZ1NjcmlwdHMiLCJhcHByb3ZlZFNjcmlwdHMiLCJyZWplY3RlZFNjcmlwdHMiLCJnaXZlYXdheXMiLCJwZW5kaW5nR2l2ZWF3YXlzIiwiYXBwcm92ZWRHaXZlYXdheXMiLCJyZWplY3RlZEdpdmVhd2F5cyIsImdpdmVhd2F5RW50cmllcyIsImdpdmVhd2F5UmV2aWV3cyIsInNjcmlwdFJldmlld3MiLCJnaXZlYXdheVJlcXVpcmVtZW50cyIsImdpdmVhd2F5UHJpemVzIiwicGVuZGluZ0FkcyIsImFwcHJvdmVkQWRzIiwicmVqZWN0ZWRBZHMiLCJ2YWxpZGF0ZUZyYW1ld29ya3MiLCJWQUxJRF9ST0xFUyIsInZhbGlkYXRlUm9sZXMiLCJyb2xlcyIsImZpbHRlciIsInJvbGUiLCJpbmNsdWRlcyIsImhhc1JvbGUiLCJ1c2VyUm9sZXMiLCJyZXF1aXJlZFJvbGUiLCJoYXNBbnlSb2xlIiwicmVxdWlyZWRSb2xlcyIsInNvbWUiLCJoYXNBbGxSb2xlcyIsImV2ZXJ5IiwidXBzZXJ0VXNlciIsInVzZXIiLCJleGlzdGluZ1VzZXIiLCJnZXRVc2VyQnlJZCIsImlkIiwiZm9yY2VBZG1pbklmVXNlcm5hbWUiLCJ1c2VybmFtZSIsImluc2VydCIsInZhbHVlcyIsIm5hbWUiLCJlbWFpbCIsImltYWdlIiwib25Db25mbGljdERvVXBkYXRlIiwidGFyZ2V0Iiwic2V0IiwidXBkYXRlZEF0IiwiRGF0ZSIsInNlbGVjdCIsImZyb20iLCJ3aGVyZSIsImxpbWl0IiwiZ2V0QWxsVXNlcnMiLCJkZWZhdWx0TGltaXQiLCJ1c2VyTGlzdCIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJ1cGRhdGVVc2VyUm9sZSIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJ2YWxpZFJvbGVzIiwibGVuZ3RoIiwiRXJyb3IiLCJqb2luIiwicmVzdWx0IiwidXBkYXRlIiwicmV0dXJuaW5nIiwiY3JlYXRlU2NyaXB0Iiwic2NyaXB0RGF0YSIsInRpbWVzdGFtcCIsIk1hdGgiLCJmbG9vciIsIm5vdyIsInJhbmRvbVN1ZmZpeCIsInJhbmRvbSIsImZyYW1ld29ya0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiZnJhbWV3b3JrIiwiU3RyaW5nIiwidmFsaWRhdGVkRnJhbWV3b3JrcyIsInNjcmlwdFdpdGhEZWZhdWx0cyIsInNlbGxlcl9uYW1lIiwic2VsbGVyX2VtYWlsIiwiZmVhdHVyZWQiLCJpbWFnZXMiLCJ2aWRlb3MiLCJzY3JlZW5zaG90cyIsInRhZ3MiLCJmZWF0dXJlcyIsInJlcXVpcmVtZW50cyIsImdldFNjcmlwdHMiLCJmaWx0ZXJzIiwib2Zmc2V0IiwiYmFzZVF1ZXJ5IiwiY29uZGl0aW9ucyIsImNhdGVnb3J5IiwicHVzaCIsImZyYW1ld29ya3MiLCJxdWVyeSIsInJlc3VsdHMiLCJlcnJvciIsImdldFNjcmlwdEJ5SWQiLCJhcHByb3ZlZFNjcmlwdCIsInN0YXR1cyIsInBlbmRpbmdTY3JpcHQiLCJyZWplY3RlZFNjcmlwdCIsImxlZ2FjeVNjcmlwdCIsImdldFBlbmRpbmdTY3JpcHRzIiwiYmFzZSIsImdldEFwcHJvdmVkU2NyaXB0cyIsImdldFJlamVjdGVkU2NyaXB0cyIsImFwcHJvdmVTY3JpcHQiLCJzY3JpcHRJZCIsImFkbWluSWQiLCJhZG1pbk5vdGVzIiwic2NyaXB0IiwiYXBwcm92ZWRBdCIsImFwcHJvdmVkQnkiLCJkZWxldGUiLCJyZWplY3RTY3JpcHQiLCJyZWplY3Rpb25SZWFzb24iLCJyZWplY3RlZEF0IiwicmVqZWN0ZWRCeSIsInVwZGF0ZVNjcmlwdCIsInVwZGF0ZURhdGEiLCJtYXBwZWRVcGRhdGUiLCJhc3NpZ25JZkRlZmluZWQiLCJwcm9wIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJvcmlnaW5hbFByaWNlIiwib3JpZ2luYWxfcHJpY2UiLCJhcnJheVZhbHVlIiwiY292ZXJJbWFnZSIsImNvdmVyX2ltYWdlIiwiZGVtb1VybCIsImRlbW9fdXJsIiwiZG9jdW1lbnRhdGlvblVybCIsImRvY3VtZW50YXRpb25fdXJsIiwic3VwcG9ydFVybCIsInN1cHBvcnRfdXJsIiwidmVyc2lvbiIsIkJvb2xlYW4iLCJkZWxldGVTY3JpcHQiLCJjcmVhdGVHaXZlYXdheSIsImdpdmVhd2F5RGF0YSIsImdpdmVhd2F5V2l0aERlZmF1bHRzIiwidG90YWxWYWx1ZSIsInRvdGFsX3ZhbHVlIiwiZW5kRGF0ZSIsImVuZF9kYXRlIiwidG9JU09TdHJpbmciLCJjcmVhdG9yTmFtZSIsImNyZWF0b3JfbmFtZSIsImNyZWF0b3JFbWFpbCIsImNyZWF0b3JfZW1haWwiLCJjcmVhdG9ySWQiLCJjcmVhdG9yX2lkIiwiZW50cmllc0NvdW50IiwiZW50cmllc19jb3VudCIsIm1heEVudHJpZXMiLCJtYXhfZW50cmllcyIsImNyZWF0ZUdpdmVhd2F5UmVxdWlyZW1lbnQiLCJyZXF1aXJlbWVudERhdGEiLCJtYXBwZWREYXRhIiwiZ2l2ZWF3YXlJZCIsImdpdmVhd2F5X2lkIiwiY3JlYXRlR2l2ZWF3YXlQcml6ZSIsInByaXplRGF0YSIsImdldEdpdmVhd2F5cyIsImZpbHRlcmVkIiwib3JkZXJlZCIsImxpbWl0ZWQiLCJvZmZzZXRlZCIsImdldEdpdmVhd2F5QnlJZCIsImdpdmVhd2F5IiwicHJpemVzIiwidXBkYXRlR2l2ZWF3YXkiLCJmaWVsZHMiLCJPYmplY3QiLCJrZXlzIiwidXBkYXRlT2JqZWN0IiwiZGVsZXRlR2l2ZWF3YXkiLCJnZXRQZW5kaW5nR2l2ZWF3YXlzIiwibWF4UmV0cmllcyIsImxhc3RFcnJvciIsImF0dGVtcHQiLCJzdWJtaXR0ZWRBdCIsImNhdXNlIiwiY29kZSIsIndhaXRUaW1lIiwiUHJvbWlzZSIsInIiLCJzZXRUaW1lb3V0Iiwid2FybiIsImdldEFwcHJvdmVkR2l2ZWF3YXlzIiwiZ2V0UmVqZWN0ZWRHaXZlYXdheXMiLCJhcHByb3ZlR2l2ZWF3YXkiLCJwZW5kaW5nR2l2ZWF3YXkiLCJyZWplY3RHaXZlYXdheSIsImNyZWF0ZUdpdmVhd2F5RW50cnkiLCJlbnRyeURhdGEiLCJ1c2VyX2lkIiwidXNlck5hbWUiLCJ1c2VyX25hbWUiLCJ1c2VyRW1haWwiLCJ1c2VyX2VtYWlsIiwiZW50cnlEYXRlIiwiZW50cnlfZGF0ZSIsInBvaW50c0Vhcm5lZCIsInBvaW50c19lYXJuZWQiLCJyZXF1aXJlbWVudHNDb21wbGV0ZWQiLCJyZXF1aXJlbWVudHNfY29tcGxldGVkIiwiZ2V0R2l2ZWF3YXlFbnRyaWVzIiwiZ2V0VXNlckdpdmVhd2F5RW50cnkiLCJnZXRVc2VyR2l2ZWF3YXlFbnRyaWVzIiwiZ2l2ZWF3YXlUaXRsZSIsImdpdmVhd2F5Q292ZXIiLCJsZWZ0Sm9pbiIsImNyZWF0ZUdpdmVhd2F5UmV2aWV3IiwicmV2aWV3RGF0YSIsImdldEdpdmVhd2F5UmV2aWV3cyIsImNyZWF0ZVNjcmlwdFJldmlldyIsImdldFNjcmlwdFJldmlld3MiLCJjcmVhdGVBZCIsImFkRGF0YSIsIm1hcHBlZCIsImltYWdlVXJsIiwiaW1hZ2VfdXJsIiwibGlua1VybCIsImxpbmtfdXJsIiwicHJpb3JpdHkiLCJzdGFydERhdGUiLCJzdGFydF9kYXRlIiwiY3JlYXRlZEJ5IiwiY3JlYXRlZF9ieSIsImNyZWF0ZVBlbmRpbmdBZCIsImdldEFkcyIsImxpbWl0VmFsIiwiZ2V0QWRzRm9yUGFnZSIsInBhZ2VUeXBlIiwiYWxsQWRzIiwiZmlsdGVyZWRBZHMiLCJhZCIsInRvTG93ZXJDYXNlIiwic2xpY2UiLCJnZXRQZW5kaW5nQWRzIiwiZ2V0QXBwcm92ZWRBZHMiLCJnZXRSZWplY3RlZEFkcyIsImFwcHJvdmVBZCIsImFkSWQiLCJwZW5kaW5nIiwicmVqZWN0QWQiLCJnZXRBZEJ5SWQiLCJhcHByb3ZlZCIsInJlamVjdGVkIiwidXBkYXRlQWQiLCJwZW5kaW5nUmVzdWx0IiwiZGVsZXRlQWQiLCJhcHByb3ZlZFJlc3VsdCIsInJlamVjdGVkUmVzdWx0IiwiZ2V0VXNlclNjcmlwdFJldmlldyIsInJldmlld2VyRW1haWwiLCJnZXRVc2VyR2l2ZWF3YXlSZXZpZXciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/database-new.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   approvedAds: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.approvedAds),\n/* harmony export */   approvedGiveaways: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.approvedGiveaways),\n/* harmony export */   approvedScripts: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.approvedScripts),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   giveawayEntries: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntries),\n/* harmony export */   giveawayEntriesRelations: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayEntriesRelations),\n/* harmony export */   giveawayPrizes: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayPrizes),\n/* harmony export */   giveawayRequirements: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayRequirements),\n/* harmony export */   giveawayReviews: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviews),\n/* harmony export */   giveawayReviewsRelations: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawayReviewsRelations),\n/* harmony export */   giveaways: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveaways),\n/* harmony export */   giveawaysRelations: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.giveawaysRelations),\n/* harmony export */   pendingAds: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.pendingAds),\n/* harmony export */   pendingGiveaways: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.pendingGiveaways),\n/* harmony export */   pendingScripts: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.pendingScripts),\n/* harmony export */   rejectedAds: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.rejectedAds),\n/* harmony export */   rejectedGiveaways: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.rejectedGiveaways),\n/* harmony export */   rejectedScripts: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.rejectedScripts),\n/* harmony export */   scriptReviews: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviews),\n/* harmony export */   scriptReviewsRelations: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.scriptReviewsRelations),\n/* harmony export */   scripts: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.scripts),\n/* harmony export */   scriptsRelations: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.scriptsRelations),\n/* harmony export */   users: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.users),\n/* harmony export */   usersRelations: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.usersRelations)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/postgres-js */ \"(rsc)/./node_modules/drizzle-orm/postgres-js/driver.js\");\n/* harmony import */ var postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postgres */ \"(rsc)/./node_modules/postgres/src/index.js\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./lib/schema.ts\");\n\n\n\n// Create the connection with connection pooling and limits\nconst connectionString = process.env.DATABASE_URL;\nconst client = (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(connectionString, {\n    max: 5,\n    idle_timeout: 20,\n    connect_timeout: 10,\n    max_lifetime: 60 * 30\n});\nconst db = (0,drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__.drizzle)(client, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n// Log successful connection\nconsole.log('Database connection initialized with connection pooling');\n// Export schema for use in other files\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQ2xCO0FBQ0c7QUFFbkMsMkRBQTJEO0FBQzNELE1BQU1HLG1CQUFtQkMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBQ2pELE1BQU1DLFNBQVNOLG9EQUFRQSxDQUFDRSxrQkFBa0I7SUFDeENLLEtBQUs7SUFDTEMsY0FBYztJQUNkQyxpQkFBaUI7SUFDakJDLGNBQWMsS0FBSztBQUNyQjtBQUVPLE1BQU1DLEtBQUtaLGdFQUFPQSxDQUFDTyxRQUFRO0lBQUVMLE1BQU1BLHNDQUFBQTtBQUFDLEdBQUc7QUFFOUMsNEJBQTRCO0FBQzVCVyxRQUFRQyxHQUFHLENBQUM7QUFFWix1Q0FBdUM7QUFDZCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxEZWxsXFxEZXNrdG9wXFxjcnV4LW1hcmtldHBsYWNlXFxjcnV4LW1hcmtldHBsYWNlXFxsaWJcXGRiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyaXp6bGUgfSBmcm9tICdkcml6emxlLW9ybS9wb3N0Z3Jlcy1qcyc7XHJcbmltcG9ydCBwb3N0Z3JlcyBmcm9tICdwb3N0Z3Jlcyc7XHJcbmltcG9ydCAqIGFzIHNjaGVtYSBmcm9tICcuL3NjaGVtYSc7XHJcblxyXG4vLyBDcmVhdGUgdGhlIGNvbm5lY3Rpb24gd2l0aCBjb25uZWN0aW9uIHBvb2xpbmcgYW5kIGxpbWl0c1xyXG5jb25zdCBjb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMITtcclxuY29uc3QgY2xpZW50ID0gcG9zdGdyZXMoY29ubmVjdGlvblN0cmluZywge1xyXG4gIG1heDogNSwgLy8gTWF4aW11bSBudW1iZXIgb2YgY29ubmVjdGlvbnNcclxuICBpZGxlX3RpbWVvdXQ6IDIwLCAvLyBDbG9zZSBpZGxlIGNvbm5lY3Rpb25zIGFmdGVyIDIwIHNlY29uZHNcclxuICBjb25uZWN0X3RpbWVvdXQ6IDEwLCAvLyBDb25uZWN0aW9uIHRpbWVvdXRcclxuICBtYXhfbGlmZXRpbWU6IDYwICogMzAsIC8vIENsb3NlIGNvbm5lY3Rpb25zIGFmdGVyIDMwIG1pbnV0ZXNcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgZGIgPSBkcml6emxlKGNsaWVudCwgeyBzY2hlbWEgfSk7XHJcblxyXG4vLyBMb2cgc3VjY2Vzc2Z1bCBjb25uZWN0aW9uXHJcbmNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIGluaXRpYWxpemVkIHdpdGggY29ubmVjdGlvbiBwb29saW5nJyk7XHJcblxyXG4vLyBFeHBvcnQgc2NoZW1hIGZvciB1c2UgaW4gb3RoZXIgZmlsZXNcclxuZXhwb3J0ICogZnJvbSAnLi9zY2hlbWEnO1xyXG4iXSwibmFtZXMiOlsiZHJpenpsZSIsInBvc3RncmVzIiwic2NoZW1hIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJjbGllbnQiLCJtYXgiLCJpZGxlX3RpbWVvdXQiLCJjb25uZWN0X3RpbWVvdXQiLCJtYXhfbGlmZXRpbWUiLCJkYiIsImNvbnNvbGUiLCJsb2ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/schema.ts":
/*!***********************!*\
  !*** ./lib/schema.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   approvedAds: () => (/* binding */ approvedAds),\n/* harmony export */   approvedGiveaways: () => (/* binding */ approvedGiveaways),\n/* harmony export */   approvedScripts: () => (/* binding */ approvedScripts),\n/* harmony export */   giveawayEntries: () => (/* binding */ giveawayEntries),\n/* harmony export */   giveawayEntriesRelations: () => (/* binding */ giveawayEntriesRelations),\n/* harmony export */   giveawayPrizes: () => (/* binding */ giveawayPrizes),\n/* harmony export */   giveawayRequirements: () => (/* binding */ giveawayRequirements),\n/* harmony export */   giveawayReviews: () => (/* binding */ giveawayReviews),\n/* harmony export */   giveawayReviewsRelations: () => (/* binding */ giveawayReviewsRelations),\n/* harmony export */   giveaways: () => (/* binding */ giveaways),\n/* harmony export */   giveawaysRelations: () => (/* binding */ giveawaysRelations),\n/* harmony export */   pendingAds: () => (/* binding */ pendingAds),\n/* harmony export */   pendingGiveaways: () => (/* binding */ pendingGiveaways),\n/* harmony export */   pendingScripts: () => (/* binding */ pendingScripts),\n/* harmony export */   rejectedAds: () => (/* binding */ rejectedAds),\n/* harmony export */   rejectedGiveaways: () => (/* binding */ rejectedGiveaways),\n/* harmony export */   rejectedScripts: () => (/* binding */ rejectedScripts),\n/* harmony export */   scriptReviews: () => (/* binding */ scriptReviews),\n/* harmony export */   scriptReviewsRelations: () => (/* binding */ scriptReviewsRelations),\n/* harmony export */   scripts: () => (/* binding */ scripts),\n/* harmony export */   scriptsRelations: () => (/* binding */ scriptsRelations),\n/* harmony export */   users: () => (/* binding */ users),\n/* harmony export */   usersRelations: () => (/* binding */ usersRelations)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n\n\n// Enums - temporarily disabled to avoid migration issues\n// export const userRoleEnum = pgEnum('user_role', ['founder', 'verified_creator', 'crew', 'admin', 'moderator', 'user']);\n// export const scriptStatusEnum = pgEnum('script_status', ['pending', 'approved', 'rejected']);\n// export const giveawayDifficultyEnum = pgEnum('giveaway_difficulty', ['Easy', 'Medium', 'Hard']);\n// export const giveawayStatusEnum = pgEnum('giveaway_status', ['active', 'ended', 'cancelled']);\n// export const entryStatusEnum = pgEnum('entry_status', ['active', 'disqualified', 'winner']);\n// export const adStatusEnum = pgEnum('ad_status', ['active', 'inactive', 'expired']);\n// Users table\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('users', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('id').primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('name'),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('email'),\n    image: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('image'),\n    username: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('username'),\n    roles: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('roles').array().default([\n        'user'\n    ]),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n});\n// Base script fields (common to all script types)\nconst baseScriptFields = {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('title').notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('description').notNull(),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.numeric)('price').notNull(),\n    originalPrice: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.numeric)('original_price'),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('category').notNull(),\n    framework: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('framework').array().default([]),\n    seller_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('seller_name').notNull(),\n    seller_email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('seller_email').notNull(),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('tags').array().default([]),\n    features: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('features').array().default([]),\n    requirements: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('requirements').array().default([]),\n    images: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('images').array().default([]),\n    videos: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('videos').array().default([]),\n    screenshots: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('screenshots').array().default([]),\n    coverImage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('cover_image'),\n    demoUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('demo_url'),\n    documentationUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('documentation_url'),\n    supportUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('support_url'),\n    version: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('version').default('1.0.0'),\n    featured: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('featured').default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n};\n// Pending scripts table (new submissions)\nconst pendingScripts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('pending_scripts', {\n    ...baseScriptFields,\n    submittedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('submitted_at').defaultNow(),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Approved scripts table (live scripts)\nconst approvedScripts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('approved_scripts', {\n    ...baseScriptFields,\n    approvedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('approved_at').defaultNow(),\n    approvedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('approved_by'),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Rejected scripts table\nconst rejectedScripts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('rejected_scripts', {\n    ...baseScriptFields,\n    rejectedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('rejected_at').defaultNow(),\n    rejectedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rejected_by'),\n    rejectionReason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rejection_reason').notNull(),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Legacy scripts table (for backward compatibility)\nconst scripts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('scripts', {\n    ...baseScriptFields,\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('status').default('pending')\n});\n// Base giveaway fields (common to all giveaway types)\nconst baseGiveawayFields = {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('title').notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('description').notNull(),\n    totalValue: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('total_value').notNull(),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('category').notNull(),\n    endDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('end_date').notNull(),\n    maxEntries: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('max_entries'),\n    difficulty: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('difficulty').notNull(),\n    featured: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('featured').default(false),\n    autoAnnounce: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('auto_announce').default(false),\n    creatorName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('creator_name').notNull(),\n    creatorEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('creator_email').notNull(),\n    creatorId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('creator_id'),\n    images: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('images').array().default([]),\n    videos: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('videos').array().default([]),\n    coverImage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('cover_image'),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('tags').array().default([]),\n    rules: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rules').array().default([]),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('status').default('active'),\n    entriesCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('entries_count').default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n};\n// Pending giveaways table (new submissions)\nconst pendingGiveaways = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('pending_giveaways', {\n    ...baseGiveawayFields,\n    submittedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('submitted_at').defaultNow(),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Approved giveaways table (live giveaways)\nconst approvedGiveaways = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('approved_giveaways', {\n    ...baseGiveawayFields,\n    approvedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('approved_at').defaultNow(),\n    approvedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('approved_by'),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Rejected giveaways table\nconst rejectedGiveaways = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('rejected_giveaways', {\n    ...baseGiveawayFields,\n    rejectedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('rejected_at').defaultNow(),\n    rejectedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rejected_by'),\n    rejectionReason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rejection_reason').notNull(),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Legacy giveaways table (for backward compatibility)\nconst giveaways = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('giveaways', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('title').notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('description').notNull(),\n    totalValue: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('total_value').notNull(),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('category').notNull(),\n    endDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('end_date').notNull(),\n    maxEntries: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('max_entries'),\n    difficulty: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('difficulty').notNull(),\n    featured: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('featured').default(false),\n    autoAnnounce: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('auto_announce').default(false),\n    creatorName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('creator_name').notNull(),\n    creatorEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('creator_email').notNull(),\n    creatorId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('creator_id'),\n    images: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('images').array().default([]),\n    videos: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('videos').array().default([]),\n    coverImage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('cover_image'),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('tags').array().default([]),\n    rules: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rules').array().default([]),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('status').default('active'),\n    entriesCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('entries_count').default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n});\n// Giveaway requirements table\nconst giveawayRequirements = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('giveaway_requirements', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    giveawayId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('giveaway_id').notNull().references(()=>giveaways.id, {\n        onDelete: 'cascade'\n    }),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('type').notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('description').notNull(),\n    points: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('points').notNull(),\n    required: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('required').default(true),\n    link: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('link')\n});\n// Giveaway prizes table\nconst giveawayPrizes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('giveaway_prizes', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    giveawayId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('giveaway_id').notNull().references(()=>giveaways.id, {\n        onDelete: 'cascade'\n    }),\n    position: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('position').notNull(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('name').notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('description'),\n    value: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('value').notNull(),\n    winnerName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('winner_name'),\n    winnerEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('winner_email'),\n    claimed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('claimed').default(false)\n});\n// Giveaway entries table\nconst giveawayEntries = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('giveaway_entries', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    giveawayId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('giveaway_id').notNull().references(()=>giveaways.id, {\n        onDelete: 'cascade'\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('user_id').notNull(),\n    userName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('user_name'),\n    userEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('user_email'),\n    entryDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('entry_date').defaultNow(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('status').default('active'),\n    pointsEarned: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('points_earned').default(0),\n    requirementsCompleted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('requirements_completed').array().default([]),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n});\n// Giveaway reviews table\nconst giveawayReviews = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('giveaway_reviews', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    giveawayId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('giveaway_id').notNull().references(()=>giveaways.id, {\n        onDelete: 'cascade'\n    }),\n    reviewerName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('reviewer_name').notNull(),\n    reviewerEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('reviewer_email').notNull(),\n    reviewerId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('reviewer_id'),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('rating').notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('title'),\n    comment: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('comment'),\n    verifiedParticipant: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('verified_participant').default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n});\n// Script reviews table\nconst scriptReviews = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('script_reviews', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    scriptId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('script_id').notNull().references(()=>scripts.id, {\n        onDelete: 'cascade'\n    }),\n    reviewerName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('reviewer_name').notNull(),\n    reviewerEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('reviewer_email').notNull(),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('rating').notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('title'),\n    comment: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('comment'),\n    verifiedPurchase: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)('verified_purchase').default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n});\n// Old ads table removed - using new approval system with pending_ads, approved_ads, rejected_ads\n// Base ad fields for approval system\nconst baseAdFields = {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('id').primaryKey().notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('title').notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('description').notNull(),\n    imageUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('image_url'),\n    linkUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('link_url'),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('category').notNull(),\n    priority: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('priority').default(1),\n    startDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('start_date').defaultNow(),\n    endDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('end_date'),\n    createdBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('created_by').notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('created_at').defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('updated_at').defaultNow()\n};\n// Pending ads (submissions waiting for review)\nconst pendingAds = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('pending_ads', {\n    ...baseAdFields,\n    submittedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('submitted_at').defaultNow(),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Approved ads (live)\nconst approvedAds = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('approved_ads', {\n    ...baseAdFields,\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('status').default('active'),\n    approvedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('approved_at').defaultNow(),\n    approvedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('approved_by'),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Rejected ads\nconst rejectedAds = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('rejected_ads', {\n    ...baseAdFields,\n    rejectedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)('rejected_at').defaultNow(),\n    rejectedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rejected_by'),\n    rejectionReason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('rejection_reason').notNull(),\n    adminNotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)('admin_notes')\n});\n// Relations\nconst usersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.relations)(users, ({ many })=>({\n        giveawayEntries: many(giveawayEntries),\n        giveawayReviews: many(giveawayReviews),\n        scriptReviews: many(scriptReviews)\n    }));\nconst scriptsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.relations)(scripts, ({ many })=>({\n        reviews: many(scriptReviews)\n    }));\nconst giveawaysRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.relations)(giveaways, ({ many })=>({\n        entries: many(giveawayEntries),\n        reviews: many(giveawayReviews),\n        requirements: many(giveawayRequirements),\n        prizes: many(giveawayPrizes)\n    }));\nconst giveawayEntriesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.relations)(giveawayEntries, ({ one })=>({\n        giveaway: one(giveaways, {\n            fields: [\n                giveawayEntries.giveawayId\n            ],\n            references: [\n                giveaways.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                giveawayEntries.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst giveawayReviewsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.relations)(giveawayReviews, ({ one })=>({\n        giveaway: one(giveaways, {\n            fields: [\n                giveawayReviews.giveawayId\n            ],\n            references: [\n                giveaways.id\n            ]\n        })\n    }));\nconst scriptReviewsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.relations)(scriptReviews, ({ one })=>({\n        script: one(scripts, {\n            fields: [\n                scriptReviews.scriptId\n            ],\n            references: [\n                scripts.id\n            ]\n        })\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRO2dCQUFDN0IsZ0JBQWdCcEIsVUFBVTthQUFDO1lBQ3BDQyxZQUFZO2dCQUFDSCxVQUFVNUQsRUFBRTthQUFDO1FBQzVCO0lBQ0YsSUFBSTtBQUVHLE1BQU1rSCx5QkFBeUJwSCxzREFBU0EsQ0FBQzJGLGVBQWUsQ0FBQyxFQUFFb0IsR0FBRyxFQUFFLEdBQU07UUFDM0VNLFFBQVFOLElBQUlqRSxTQUFTO1lBQ25CbUUsUUFBUTtnQkFBQ3RCLGNBQWNDLFFBQVE7YUFBQztZQUNoQzNCLFlBQVk7Z0JBQUNuQixRQUFRNUMsRUFBRTthQUFDO1FBQzFCO0lBQ0YsSUFBSSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxEZWxsXFxEZXNrdG9wXFxjcnV4LW1hcmtldHBsYWNlXFxjcnV4LW1hcmtldHBsYWNlXFxsaWJcXHNjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCB0ZXh0LCB0aW1lc3RhbXAsIGJvb2xlYW4sIGludGVnZXIsIG51bWVyaWMsIHBnRW51bSB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuaW1wb3J0IHsgcmVsYXRpb25zIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xuXG4vLyBFbnVtcyAtIHRlbXBvcmFyaWx5IGRpc2FibGVkIHRvIGF2b2lkIG1pZ3JhdGlvbiBpc3N1ZXNcbi8vIGV4cG9ydCBjb25zdCB1c2VyUm9sZUVudW0gPSBwZ0VudW0oJ3VzZXJfcm9sZScsIFsnZm91bmRlcicsICd2ZXJpZmllZF9jcmVhdG9yJywgJ2NyZXcnLCAnYWRtaW4nLCAnbW9kZXJhdG9yJywgJ3VzZXInXSk7XG4vLyBleHBvcnQgY29uc3Qgc2NyaXB0U3RhdHVzRW51bSA9IHBnRW51bSgnc2NyaXB0X3N0YXR1cycsIFsncGVuZGluZycsICdhcHByb3ZlZCcsICdyZWplY3RlZCddKTtcbi8vIGV4cG9ydCBjb25zdCBnaXZlYXdheURpZmZpY3VsdHlFbnVtID0gcGdFbnVtKCdnaXZlYXdheV9kaWZmaWN1bHR5JywgWydFYXN5JywgJ01lZGl1bScsICdIYXJkJ10pO1xuLy8gZXhwb3J0IGNvbnN0IGdpdmVhd2F5U3RhdHVzRW51bSA9IHBnRW51bSgnZ2l2ZWF3YXlfc3RhdHVzJywgWydhY3RpdmUnLCAnZW5kZWQnLCAnY2FuY2VsbGVkJ10pO1xuLy8gZXhwb3J0IGNvbnN0IGVudHJ5U3RhdHVzRW51bSA9IHBnRW51bSgnZW50cnlfc3RhdHVzJywgWydhY3RpdmUnLCAnZGlzcXVhbGlmaWVkJywgJ3dpbm5lciddKTtcbi8vIGV4cG9ydCBjb25zdCBhZFN0YXR1c0VudW0gPSBwZ0VudW0oJ2FkX3N0YXR1cycsIFsnYWN0aXZlJywgJ2luYWN0aXZlJywgJ2V4cGlyZWQnXSk7XG5cbi8vIFVzZXJzIHRhYmxlXG5leHBvcnQgY29uc3QgdXNlcnMgPSBwZ1RhYmxlKCd1c2VycycsIHtcbiAgaWQ6IHRleHQoJ2lkJykucHJpbWFyeUtleSgpLFxuICBuYW1lOiB0ZXh0KCduYW1lJyksXG4gIGVtYWlsOiB0ZXh0KCdlbWFpbCcpLFxuICBpbWFnZTogdGV4dCgnaW1hZ2UnKSxcbiAgdXNlcm5hbWU6IHRleHQoJ3VzZXJuYW1lJyksXG4gIHJvbGVzOiB0ZXh0KCdyb2xlcycpLmFycmF5KCkuZGVmYXVsdChbJ3VzZXInXSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBCYXNlIHNjcmlwdCBmaWVsZHMgKGNvbW1vbiB0byBhbGwgc2NyaXB0IHR5cGVzKVxuY29uc3QgYmFzZVNjcmlwdEZpZWxkcyA9IHtcbiAgaWQ6IGludGVnZXIoJ2lkJykucHJpbWFyeUtleSgpLm5vdE51bGwoKSxcbiAgdGl0bGU6IHRleHQoJ3RpdGxlJykubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKS5ub3ROdWxsKCksXG4gIHByaWNlOiBudW1lcmljKCdwcmljZScpLm5vdE51bGwoKSxcbiAgb3JpZ2luYWxQcmljZTogbnVtZXJpYygnb3JpZ2luYWxfcHJpY2UnKSxcbiAgY2F0ZWdvcnk6IHRleHQoJ2NhdGVnb3J5Jykubm90TnVsbCgpLFxuICBmcmFtZXdvcms6IHRleHQoJ2ZyYW1ld29yaycpLmFycmF5KCkuZGVmYXVsdChbXSksXG4gIHNlbGxlcl9uYW1lOiB0ZXh0KCdzZWxsZXJfbmFtZScpLm5vdE51bGwoKSxcbiAgc2VsbGVyX2VtYWlsOiB0ZXh0KCdzZWxsZXJfZW1haWwnKS5ub3ROdWxsKCksXG4gIHRhZ3M6IHRleHQoJ3RhZ3MnKS5hcnJheSgpLmRlZmF1bHQoW10pLFxuICBmZWF0dXJlczogdGV4dCgnZmVhdHVyZXMnKS5hcnJheSgpLmRlZmF1bHQoW10pLFxuICByZXF1aXJlbWVudHM6IHRleHQoJ3JlcXVpcmVtZW50cycpLmFycmF5KCkuZGVmYXVsdChbXSksXG4gIGltYWdlczogdGV4dCgnaW1hZ2VzJykuYXJyYXkoKS5kZWZhdWx0KFtdKSxcbiAgdmlkZW9zOiB0ZXh0KCd2aWRlb3MnKS5hcnJheSgpLmRlZmF1bHQoW10pLFxuICBzY3JlZW5zaG90czogdGV4dCgnc2NyZWVuc2hvdHMnKS5hcnJheSgpLmRlZmF1bHQoW10pLFxuICBjb3ZlckltYWdlOiB0ZXh0KCdjb3Zlcl9pbWFnZScpLFxuICBkZW1vVXJsOiB0ZXh0KCdkZW1vX3VybCcpLFxuICBkb2N1bWVudGF0aW9uVXJsOiB0ZXh0KCdkb2N1bWVudGF0aW9uX3VybCcpLFxuICBzdXBwb3J0VXJsOiB0ZXh0KCdzdXBwb3J0X3VybCcpLFxuICB2ZXJzaW9uOiB0ZXh0KCd2ZXJzaW9uJykuZGVmYXVsdCgnMS4wLjAnKSxcbiAgZmVhdHVyZWQ6IGJvb2xlYW4oJ2ZlYXR1cmVkJykuZGVmYXVsdChmYWxzZSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn1cblxuLy8gUGVuZGluZyBzY3JpcHRzIHRhYmxlIChuZXcgc3VibWlzc2lvbnMpXG5leHBvcnQgY29uc3QgcGVuZGluZ1NjcmlwdHMgPSBwZ1RhYmxlKCdwZW5kaW5nX3NjcmlwdHMnLCB7XG4gIC4uLmJhc2VTY3JpcHRGaWVsZHMsXG4gIHN1Ym1pdHRlZEF0OiB0aW1lc3RhbXAoJ3N1Ym1pdHRlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgYWRtaW5Ob3RlczogdGV4dCgnYWRtaW5fbm90ZXMnKSxcbn0pO1xuXG4vLyBBcHByb3ZlZCBzY3JpcHRzIHRhYmxlIChsaXZlIHNjcmlwdHMpXG5leHBvcnQgY29uc3QgYXBwcm92ZWRTY3JpcHRzID0gcGdUYWJsZSgnYXBwcm92ZWRfc2NyaXB0cycsIHtcbiAgLi4uYmFzZVNjcmlwdEZpZWxkcyxcbiAgYXBwcm92ZWRBdDogdGltZXN0YW1wKCdhcHByb3ZlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgYXBwcm92ZWRCeTogdGV4dCgnYXBwcm92ZWRfYnknKSxcbiAgYWRtaW5Ob3RlczogdGV4dCgnYWRtaW5fbm90ZXMnKSxcbn0pO1xuXG4vLyBSZWplY3RlZCBzY3JpcHRzIHRhYmxlXG5leHBvcnQgY29uc3QgcmVqZWN0ZWRTY3JpcHRzID0gcGdUYWJsZSgncmVqZWN0ZWRfc2NyaXB0cycsIHtcbiAgLi4uYmFzZVNjcmlwdEZpZWxkcyxcbiAgcmVqZWN0ZWRBdDogdGltZXN0YW1wKCdyZWplY3RlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgcmVqZWN0ZWRCeTogdGV4dCgncmVqZWN0ZWRfYnknKSxcbiAgcmVqZWN0aW9uUmVhc29uOiB0ZXh0KCdyZWplY3Rpb25fcmVhc29uJykubm90TnVsbCgpLFxuICBhZG1pbk5vdGVzOiB0ZXh0KCdhZG1pbl9ub3RlcycpLFxufSk7XG5cbi8vIExlZ2FjeSBzY3JpcHRzIHRhYmxlIChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbmV4cG9ydCBjb25zdCBzY3JpcHRzID0gcGdUYWJsZSgnc2NyaXB0cycsIHtcbiAgLi4uYmFzZVNjcmlwdEZpZWxkcyxcbiAgc3RhdHVzOiB0ZXh0KCdzdGF0dXMnKS5kZWZhdWx0KCdwZW5kaW5nJyksXG59KTtcblxuLy8gQmFzZSBnaXZlYXdheSBmaWVsZHMgKGNvbW1vbiB0byBhbGwgZ2l2ZWF3YXkgdHlwZXMpXG5jb25zdCBiYXNlR2l2ZWF3YXlGaWVsZHMgPSB7XG4gIGlkOiBpbnRlZ2VyKCdpZCcpLnByaW1hcnlLZXkoKS5ub3ROdWxsKCksXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJykubm90TnVsbCgpLFxuICB0b3RhbFZhbHVlOiB0ZXh0KCd0b3RhbF92YWx1ZScpLm5vdE51bGwoKSxcbiAgY2F0ZWdvcnk6IHRleHQoJ2NhdGVnb3J5Jykubm90TnVsbCgpLFxuICBlbmREYXRlOiB0ZXh0KCdlbmRfZGF0ZScpLm5vdE51bGwoKSxcbiAgbWF4RW50cmllczogaW50ZWdlcignbWF4X2VudHJpZXMnKSxcbiAgZGlmZmljdWx0eTogdGV4dCgnZGlmZmljdWx0eScpLm5vdE51bGwoKSxcbiAgZmVhdHVyZWQ6IGJvb2xlYW4oJ2ZlYXR1cmVkJykuZGVmYXVsdChmYWxzZSksXG4gIGF1dG9Bbm5vdW5jZTogYm9vbGVhbignYXV0b19hbm5vdW5jZScpLmRlZmF1bHQoZmFsc2UpLFxuICBjcmVhdG9yTmFtZTogdGV4dCgnY3JlYXRvcl9uYW1lJykubm90TnVsbCgpLFxuICBjcmVhdG9yRW1haWw6IHRleHQoJ2NyZWF0b3JfZW1haWwnKS5ub3ROdWxsKCksXG4gIGNyZWF0b3JJZDogdGV4dCgnY3JlYXRvcl9pZCcpLFxuICBpbWFnZXM6IHRleHQoJ2ltYWdlcycpLmFycmF5KCkuZGVmYXVsdChbXSksXG4gIHZpZGVvczogdGV4dCgndmlkZW9zJykuYXJyYXkoKS5kZWZhdWx0KFtdKSxcbiAgY292ZXJJbWFnZTogdGV4dCgnY292ZXJfaW1hZ2UnKSxcbiAgdGFnczogdGV4dCgndGFncycpLmFycmF5KCkuZGVmYXVsdChbXSksXG4gIHJ1bGVzOiB0ZXh0KCdydWxlcycpLmFycmF5KCkuZGVmYXVsdChbXSksXG4gIHN0YXR1czogdGV4dCgnc3RhdHVzJykuZGVmYXVsdCgnYWN0aXZlJyksXG4gIGVudHJpZXNDb3VudDogaW50ZWdlcignZW50cmllc19jb3VudCcpLmRlZmF1bHQoMCksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn07XG5cbi8vIFBlbmRpbmcgZ2l2ZWF3YXlzIHRhYmxlIChuZXcgc3VibWlzc2lvbnMpXG5leHBvcnQgY29uc3QgcGVuZGluZ0dpdmVhd2F5cyA9IHBnVGFibGUoJ3BlbmRpbmdfZ2l2ZWF3YXlzJywge1xuICAuLi5iYXNlR2l2ZWF3YXlGaWVsZHMsXG4gIHN1Ym1pdHRlZEF0OiB0aW1lc3RhbXAoJ3N1Ym1pdHRlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgYWRtaW5Ob3RlczogdGV4dCgnYWRtaW5fbm90ZXMnKSxcbn0pO1xuXG4vLyBBcHByb3ZlZCBnaXZlYXdheXMgdGFibGUgKGxpdmUgZ2l2ZWF3YXlzKVxuZXhwb3J0IGNvbnN0IGFwcHJvdmVkR2l2ZWF3YXlzID0gcGdUYWJsZSgnYXBwcm92ZWRfZ2l2ZWF3YXlzJywge1xuICAuLi5iYXNlR2l2ZWF3YXlGaWVsZHMsXG4gIGFwcHJvdmVkQXQ6IHRpbWVzdGFtcCgnYXBwcm92ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG4gIGFwcHJvdmVkQnk6IHRleHQoJ2FwcHJvdmVkX2J5JyksXG4gIGFkbWluTm90ZXM6IHRleHQoJ2FkbWluX25vdGVzJyksXG59KTtcblxuLy8gUmVqZWN0ZWQgZ2l2ZWF3YXlzIHRhYmxlXG5leHBvcnQgY29uc3QgcmVqZWN0ZWRHaXZlYXdheXMgPSBwZ1RhYmxlKCdyZWplY3RlZF9naXZlYXdheXMnLCB7XG4gIC4uLmJhc2VHaXZlYXdheUZpZWxkcyxcbiAgcmVqZWN0ZWRBdDogdGltZXN0YW1wKCdyZWplY3RlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgcmVqZWN0ZWRCeTogdGV4dCgncmVqZWN0ZWRfYnknKSxcbiAgcmVqZWN0aW9uUmVhc29uOiB0ZXh0KCdyZWplY3Rpb25fcmVhc29uJykubm90TnVsbCgpLFxuICBhZG1pbk5vdGVzOiB0ZXh0KCdhZG1pbl9ub3RlcycpLFxufSk7XG5cbi8vIExlZ2FjeSBnaXZlYXdheXMgdGFibGUgKGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuZXhwb3J0IGNvbnN0IGdpdmVhd2F5cyA9IHBnVGFibGUoJ2dpdmVhd2F5cycsIHtcbiAgaWQ6IGludGVnZXIoJ2lkJykucHJpbWFyeUtleSgpLm5vdE51bGwoKSxcbiAgdGl0bGU6IHRleHQoJ3RpdGxlJykubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKS5ub3ROdWxsKCksXG4gIHRvdGFsVmFsdWU6IHRleHQoJ3RvdGFsX3ZhbHVlJykubm90TnVsbCgpLFxuICBjYXRlZ29yeTogdGV4dCgnY2F0ZWdvcnknKS5ub3ROdWxsKCksXG4gIGVuZERhdGU6IHRleHQoJ2VuZF9kYXRlJykubm90TnVsbCgpLFxuICBtYXhFbnRyaWVzOiBpbnRlZ2VyKCdtYXhfZW50cmllcycpLFxuICBkaWZmaWN1bHR5OiB0ZXh0KCdkaWZmaWN1bHR5Jykubm90TnVsbCgpLFxuICBmZWF0dXJlZDogYm9vbGVhbignZmVhdHVyZWQnKS5kZWZhdWx0KGZhbHNlKSxcbiAgYXV0b0Fubm91bmNlOiBib29sZWFuKCdhdXRvX2Fubm91bmNlJykuZGVmYXVsdChmYWxzZSksXG4gIGNyZWF0b3JOYW1lOiB0ZXh0KCdjcmVhdG9yX25hbWUnKS5ub3ROdWxsKCksXG4gIGNyZWF0b3JFbWFpbDogdGV4dCgnY3JlYXRvcl9lbWFpbCcpLm5vdE51bGwoKSxcbiAgY3JlYXRvcklkOiB0ZXh0KCdjcmVhdG9yX2lkJyksXG4gIGltYWdlczogdGV4dCgnaW1hZ2VzJykuYXJyYXkoKS5kZWZhdWx0KFtdKSxcbiAgdmlkZW9zOiB0ZXh0KCd2aWRlb3MnKS5hcnJheSgpLmRlZmF1bHQoW10pLFxuICBjb3ZlckltYWdlOiB0ZXh0KCdjb3Zlcl9pbWFnZScpLFxuICB0YWdzOiB0ZXh0KCd0YWdzJykuYXJyYXkoKS5kZWZhdWx0KFtdKSxcbiAgcnVsZXM6IHRleHQoJ3J1bGVzJykuYXJyYXkoKS5kZWZhdWx0KFtdKSxcbiAgc3RhdHVzOiB0ZXh0KCdzdGF0dXMnKS5kZWZhdWx0KCdhY3RpdmUnKSxcbiAgZW50cmllc0NvdW50OiBpbnRlZ2VyKCdlbnRyaWVzX2NvdW50JykuZGVmYXVsdCgwKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEdpdmVhd2F5IHJlcXVpcmVtZW50cyB0YWJsZVxuZXhwb3J0IGNvbnN0IGdpdmVhd2F5UmVxdWlyZW1lbnRzID0gcGdUYWJsZSgnZ2l2ZWF3YXlfcmVxdWlyZW1lbnRzJywge1xuICBpZDogaW50ZWdlcignaWQnKS5wcmltYXJ5S2V5KCkubm90TnVsbCgpLFxuICBnaXZlYXdheUlkOiBpbnRlZ2VyKCdnaXZlYXdheV9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGdpdmVhd2F5cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxuICB0eXBlOiB0ZXh0KCd0eXBlJykubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKS5ub3ROdWxsKCksXG4gIHBvaW50czogaW50ZWdlcigncG9pbnRzJykubm90TnVsbCgpLFxuICByZXF1aXJlZDogYm9vbGVhbigncmVxdWlyZWQnKS5kZWZhdWx0KHRydWUpLFxuICBsaW5rOiB0ZXh0KCdsaW5rJyksXG59KTtcblxuLy8gR2l2ZWF3YXkgcHJpemVzIHRhYmxlXG5leHBvcnQgY29uc3QgZ2l2ZWF3YXlQcml6ZXMgPSBwZ1RhYmxlKCdnaXZlYXdheV9wcml6ZXMnLCB7XG4gIGlkOiBpbnRlZ2VyKCdpZCcpLnByaW1hcnlLZXkoKS5ub3ROdWxsKCksXG4gIGdpdmVhd2F5SWQ6IGludGVnZXIoJ2dpdmVhd2F5X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gZ2l2ZWF3YXlzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXG4gIHBvc2l0aW9uOiBpbnRlZ2VyKCdwb3NpdGlvbicpLm5vdE51bGwoKSxcbiAgbmFtZTogdGV4dCgnbmFtZScpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXG4gIHZhbHVlOiB0ZXh0KCd2YWx1ZScpLm5vdE51bGwoKSxcbiAgd2lubmVyTmFtZTogdGV4dCgnd2lubmVyX25hbWUnKSxcbiAgd2lubmVyRW1haWw6IHRleHQoJ3dpbm5lcl9lbWFpbCcpLFxuICBjbGFpbWVkOiBib29sZWFuKCdjbGFpbWVkJykuZGVmYXVsdChmYWxzZSksXG59KTtcblxuLy8gR2l2ZWF3YXkgZW50cmllcyB0YWJsZVxuZXhwb3J0IGNvbnN0IGdpdmVhd2F5RW50cmllcyA9IHBnVGFibGUoJ2dpdmVhd2F5X2VudHJpZXMnLCB7XG4gIGlkOiBpbnRlZ2VyKCdpZCcpLnByaW1hcnlLZXkoKS5ub3ROdWxsKCksXG4gIGdpdmVhd2F5SWQ6IGludGVnZXIoJ2dpdmVhd2F5X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gZ2l2ZWF3YXlzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXG4gIHVzZXJJZDogdGV4dCgndXNlcl9pZCcpLm5vdE51bGwoKSxcbiAgdXNlck5hbWU6IHRleHQoJ3VzZXJfbmFtZScpLFxuICB1c2VyRW1haWw6IHRleHQoJ3VzZXJfZW1haWwnKSxcbiAgZW50cnlEYXRlOiB0aW1lc3RhbXAoJ2VudHJ5X2RhdGUnKS5kZWZhdWx0Tm93KCksXG4gIHN0YXR1czogdGV4dCgnc3RhdHVzJykuZGVmYXVsdCgnYWN0aXZlJyksXG4gIHBvaW50c0Vhcm5lZDogaW50ZWdlcigncG9pbnRzX2Vhcm5lZCcpLmRlZmF1bHQoMCksXG4gIHJlcXVpcmVtZW50c0NvbXBsZXRlZDogdGV4dCgncmVxdWlyZW1lbnRzX2NvbXBsZXRlZCcpLmFycmF5KCkuZGVmYXVsdChbXSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBHaXZlYXdheSByZXZpZXdzIHRhYmxlXG5leHBvcnQgY29uc3QgZ2l2ZWF3YXlSZXZpZXdzID0gcGdUYWJsZSgnZ2l2ZWF3YXlfcmV2aWV3cycsIHtcbiAgaWQ6IGludGVnZXIoJ2lkJykucHJpbWFyeUtleSgpLm5vdE51bGwoKSxcbiAgZ2l2ZWF3YXlJZDogaW50ZWdlcignZ2l2ZWF3YXlfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBnaXZlYXdheXMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcbiAgcmV2aWV3ZXJOYW1lOiB0ZXh0KCdyZXZpZXdlcl9uYW1lJykubm90TnVsbCgpLFxuICByZXZpZXdlckVtYWlsOiB0ZXh0KCdyZXZpZXdlcl9lbWFpbCcpLm5vdE51bGwoKSxcbiAgcmV2aWV3ZXJJZDogdGV4dCgncmV2aWV3ZXJfaWQnKSxcbiAgcmF0aW5nOiBpbnRlZ2VyKCdyYXRpbmcnKS5ub3ROdWxsKCksXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLFxuICBjb21tZW50OiB0ZXh0KCdjb21tZW50JyksXG4gIHZlcmlmaWVkUGFydGljaXBhbnQ6IGJvb2xlYW4oJ3ZlcmlmaWVkX3BhcnRpY2lwYW50JykuZGVmYXVsdChmYWxzZSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBTY3JpcHQgcmV2aWV3cyB0YWJsZVxuZXhwb3J0IGNvbnN0IHNjcmlwdFJldmlld3MgPSBwZ1RhYmxlKCdzY3JpcHRfcmV2aWV3cycsIHtcbiAgaWQ6IGludGVnZXIoJ2lkJykucHJpbWFyeUtleSgpLm5vdE51bGwoKSxcbiAgc2NyaXB0SWQ6IGludGVnZXIoJ3NjcmlwdF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHNjcmlwdHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcbiAgcmV2aWV3ZXJOYW1lOiB0ZXh0KCdyZXZpZXdlcl9uYW1lJykubm90TnVsbCgpLFxuICByZXZpZXdlckVtYWlsOiB0ZXh0KCdyZXZpZXdlcl9lbWFpbCcpLm5vdE51bGwoKSxcbiAgcmF0aW5nOiBpbnRlZ2VyKCdyYXRpbmcnKS5ub3ROdWxsKCksXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLFxuICBjb21tZW50OiB0ZXh0KCdjb21tZW50JyksXG4gIHZlcmlmaWVkUHVyY2hhc2U6IGJvb2xlYW4oJ3ZlcmlmaWVkX3B1cmNoYXNlJykuZGVmYXVsdChmYWxzZSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBPbGQgYWRzIHRhYmxlIHJlbW92ZWQgLSB1c2luZyBuZXcgYXBwcm92YWwgc3lzdGVtIHdpdGggcGVuZGluZ19hZHMsIGFwcHJvdmVkX2FkcywgcmVqZWN0ZWRfYWRzXG5cbi8vIEJhc2UgYWQgZmllbGRzIGZvciBhcHByb3ZhbCBzeXN0ZW1cbmNvbnN0IGJhc2VBZEZpZWxkcyA9IHtcbiAgaWQ6IGludGVnZXIoJ2lkJykucHJpbWFyeUtleSgpLm5vdE51bGwoKSxcbiAgdGl0bGU6IHRleHQoJ3RpdGxlJykubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKS5ub3ROdWxsKCksXG4gIGltYWdlVXJsOiB0ZXh0KCdpbWFnZV91cmwnKSxcbiAgbGlua1VybDogdGV4dCgnbGlua191cmwnKSxcbiAgY2F0ZWdvcnk6IHRleHQoJ2NhdGVnb3J5Jykubm90TnVsbCgpLFxuICBwcmlvcml0eTogaW50ZWdlcigncHJpb3JpdHknKS5kZWZhdWx0KDEpLFxuICBzdGFydERhdGU6IHRpbWVzdGFtcCgnc3RhcnRfZGF0ZScpLmRlZmF1bHROb3coKSxcbiAgZW5kRGF0ZTogdGltZXN0YW1wKCdlbmRfZGF0ZScpLFxuICBjcmVhdGVkQnk6IHRleHQoJ2NyZWF0ZWRfYnknKS5ub3ROdWxsKCksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0gYXMgY29uc3Q7XG5cbi8vIFBlbmRpbmcgYWRzIChzdWJtaXNzaW9ucyB3YWl0aW5nIGZvciByZXZpZXcpXG5leHBvcnQgY29uc3QgcGVuZGluZ0FkcyA9IHBnVGFibGUoJ3BlbmRpbmdfYWRzJywge1xuICAuLi5iYXNlQWRGaWVsZHMsXG4gIHN1Ym1pdHRlZEF0OiB0aW1lc3RhbXAoJ3N1Ym1pdHRlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgYWRtaW5Ob3RlczogdGV4dCgnYWRtaW5fbm90ZXMnKSxcbn0pO1xuXG4vLyBBcHByb3ZlZCBhZHMgKGxpdmUpXG5leHBvcnQgY29uc3QgYXBwcm92ZWRBZHMgPSBwZ1RhYmxlKCdhcHByb3ZlZF9hZHMnLCB7XG4gIC4uLmJhc2VBZEZpZWxkcyxcbiAgc3RhdHVzOiB0ZXh0KCdzdGF0dXMnKS5kZWZhdWx0KCdhY3RpdmUnKSxcbiAgYXBwcm92ZWRBdDogdGltZXN0YW1wKCdhcHByb3ZlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgYXBwcm92ZWRCeTogdGV4dCgnYXBwcm92ZWRfYnknKSxcbiAgYWRtaW5Ob3RlczogdGV4dCgnYWRtaW5fbm90ZXMnKSxcbn0pO1xuXG4vLyBSZWplY3RlZCBhZHNcbmV4cG9ydCBjb25zdCByZWplY3RlZEFkcyA9IHBnVGFibGUoJ3JlamVjdGVkX2FkcycsIHtcbiAgLi4uYmFzZUFkRmllbGRzLFxuICByZWplY3RlZEF0OiB0aW1lc3RhbXAoJ3JlamVjdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICByZWplY3RlZEJ5OiB0ZXh0KCdyZWplY3RlZF9ieScpLFxuICByZWplY3Rpb25SZWFzb246IHRleHQoJ3JlamVjdGlvbl9yZWFzb24nKS5ub3ROdWxsKCksXG4gIGFkbWluTm90ZXM6IHRleHQoJ2FkbWluX25vdGVzJyksXG59KTtcblxuLy8gUmVsYXRpb25zXG5leHBvcnQgY29uc3QgdXNlcnNSZWxhdGlvbnMgPSByZWxhdGlvbnModXNlcnMsICh7IG1hbnkgfSkgPT4gKHtcbiAgZ2l2ZWF3YXlFbnRyaWVzOiBtYW55KGdpdmVhd2F5RW50cmllcyksXG4gIGdpdmVhd2F5UmV2aWV3czogbWFueShnaXZlYXdheVJldmlld3MpLFxuICBzY3JpcHRSZXZpZXdzOiBtYW55KHNjcmlwdFJldmlld3MpLFxufSkpO1xuXG5leHBvcnQgY29uc3Qgc2NyaXB0c1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhzY3JpcHRzLCAoeyBtYW55IH0pID0+ICh7XG4gIHJldmlld3M6IG1hbnkoc2NyaXB0UmV2aWV3cyksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBnaXZlYXdheXNSZWxhdGlvbnMgPSByZWxhdGlvbnMoZ2l2ZWF3YXlzLCAoeyBtYW55IH0pID0+ICh7XG4gIGVudHJpZXM6IG1hbnkoZ2l2ZWF3YXlFbnRyaWVzKSxcbiAgcmV2aWV3czogbWFueShnaXZlYXdheVJldmlld3MpLFxuICByZXF1aXJlbWVudHM6IG1hbnkoZ2l2ZWF3YXlSZXF1aXJlbWVudHMpLFxuICBwcml6ZXM6IG1hbnkoZ2l2ZWF3YXlQcml6ZXMpLFxufSkpO1xuXG5leHBvcnQgY29uc3QgZ2l2ZWF3YXlFbnRyaWVzUmVsYXRpb25zID0gcmVsYXRpb25zKGdpdmVhd2F5RW50cmllcywgKHsgb25lIH0pID0+ICh7XG4gIGdpdmVhd2F5OiBvbmUoZ2l2ZWF3YXlzLCB7XG4gICAgZmllbGRzOiBbZ2l2ZWF3YXlFbnRyaWVzLmdpdmVhd2F5SWRdLFxuICAgIHJlZmVyZW5jZXM6IFtnaXZlYXdheXMuaWRdLFxuICB9KSxcbiAgdXNlcjogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbZ2l2ZWF3YXlFbnRyaWVzLnVzZXJJZF0sXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcbiAgfSksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBnaXZlYXdheVJldmlld3NSZWxhdGlvbnMgPSByZWxhdGlvbnMoZ2l2ZWF3YXlSZXZpZXdzLCAoeyBvbmUgfSkgPT4gKHtcbiAgZ2l2ZWF3YXk6IG9uZShnaXZlYXdheXMsIHtcbiAgICBmaWVsZHM6IFtnaXZlYXdheVJldmlld3MuZ2l2ZWF3YXlJZF0sXG4gICAgcmVmZXJlbmNlczogW2dpdmVhd2F5cy5pZF0sXG4gIH0pLFxufSkpO1xuXG5leHBvcnQgY29uc3Qgc2NyaXB0UmV2aWV3c1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhzY3JpcHRSZXZpZXdzLCAoeyBvbmUgfSkgPT4gKHtcbiAgc2NyaXB0OiBvbmUoc2NyaXB0cywge1xuICAgIGZpZWxkczogW3NjcmlwdFJldmlld3Muc2NyaXB0SWRdLFxuICAgIHJlZmVyZW5jZXM6IFtzY3JpcHRzLmlkXSxcbiAgfSksXG59KSk7XG5cbi8vIFR5cGUgZXhwb3J0c1xuZXhwb3J0IHR5cGUgVXNlciA9IHR5cGVvZiB1c2Vycy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBOZXdVc2VyID0gdHlwZW9mIHVzZXJzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIFNjcmlwdCA9IHR5cGVvZiBzY3JpcHRzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIE5ld1NjcmlwdCA9IHR5cGVvZiBzY3JpcHRzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIEdpdmVhd2F5ID0gdHlwZW9mIGdpdmVhd2F5cy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBOZXdHaXZlYXdheSA9IHR5cGVvZiBnaXZlYXdheXMuJGluZmVySW5zZXJ0O1xuZXhwb3J0IHR5cGUgR2l2ZWF3YXlSZXF1aXJlbWVudCA9IHR5cGVvZiBnaXZlYXdheVJlcXVpcmVtZW50cy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBOZXdHaXZlYXdheVJlcXVpcmVtZW50ID0gdHlwZW9mIGdpdmVhd2F5UmVxdWlyZW1lbnRzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIEdpdmVhd2F5UHJpemUgPSB0eXBlb2YgZ2l2ZWF3YXlQcml6ZXMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgTmV3R2l2ZWF3YXlQcml6ZSA9IHR5cGVvZiBnaXZlYXdheVByaXplcy4kaW5mZXJJbnNlcnQ7XG5leHBvcnQgdHlwZSBHaXZlYXdheUVudHJ5ID0gdHlwZW9mIGdpdmVhd2F5RW50cmllcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBOZXdHaXZlYXdheUVudHJ5ID0gdHlwZW9mIGdpdmVhd2F5RW50cmllcy4kaW5mZXJJbnNlcnQ7XG5leHBvcnQgdHlwZSBHaXZlYXdheVJldmlldyA9IHR5cGVvZiBnaXZlYXdheVJldmlld3MuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgTmV3R2l2ZWF3YXlSZXZpZXcgPSB0eXBlb2YgZ2l2ZWF3YXlSZXZpZXdzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIFNjcmlwdFJldmlldyA9IHR5cGVvZiBzY3JpcHRSZXZpZXdzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIE5ld1NjcmlwdFJldmlldyA9IHR5cGVvZiBzY3JpcHRSZXZpZXdzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIEFkID0gdHlwZW9mIGFwcHJvdmVkQWRzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIE5ld0FkID0gdHlwZW9mIGFwcHJvdmVkQWRzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIFBlbmRpbmdBZCA9IHR5cGVvZiBwZW5kaW5nQWRzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIE5ld1BlbmRpbmdBZCA9IHR5cGVvZiBwZW5kaW5nQWRzLiRpbmZlckluc2VydDtcbiJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidGV4dCIsInRpbWVzdGFtcCIsImJvb2xlYW4iLCJpbnRlZ2VyIiwibnVtZXJpYyIsInJlbGF0aW9ucyIsInVzZXJzIiwiaWQiLCJwcmltYXJ5S2V5IiwibmFtZSIsImVtYWlsIiwiaW1hZ2UiLCJ1c2VybmFtZSIsInJvbGVzIiwiYXJyYXkiLCJkZWZhdWx0IiwiY3JlYXRlZEF0IiwiZGVmYXVsdE5vdyIsInVwZGF0ZWRBdCIsImJhc2VTY3JpcHRGaWVsZHMiLCJub3ROdWxsIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwib3JpZ2luYWxQcmljZSIsImNhdGVnb3J5IiwiZnJhbWV3b3JrIiwic2VsbGVyX25hbWUiLCJzZWxsZXJfZW1haWwiLCJ0YWdzIiwiZmVhdHVyZXMiLCJyZXF1aXJlbWVudHMiLCJpbWFnZXMiLCJ2aWRlb3MiLCJzY3JlZW5zaG90cyIsImNvdmVySW1hZ2UiLCJkZW1vVXJsIiwiZG9jdW1lbnRhdGlvblVybCIsInN1cHBvcnRVcmwiLCJ2ZXJzaW9uIiwiZmVhdHVyZWQiLCJwZW5kaW5nU2NyaXB0cyIsInN1Ym1pdHRlZEF0IiwiYWRtaW5Ob3RlcyIsImFwcHJvdmVkU2NyaXB0cyIsImFwcHJvdmVkQXQiLCJhcHByb3ZlZEJ5IiwicmVqZWN0ZWRTY3JpcHRzIiwicmVqZWN0ZWRBdCIsInJlamVjdGVkQnkiLCJyZWplY3Rpb25SZWFzb24iLCJzY3JpcHRzIiwic3RhdHVzIiwiYmFzZUdpdmVhd2F5RmllbGRzIiwidG90YWxWYWx1ZSIsImVuZERhdGUiLCJtYXhFbnRyaWVzIiwiZGlmZmljdWx0eSIsImF1dG9Bbm5vdW5jZSIsImNyZWF0b3JOYW1lIiwiY3JlYXRvckVtYWlsIiwiY3JlYXRvcklkIiwicnVsZXMiLCJlbnRyaWVzQ291bnQiLCJwZW5kaW5nR2l2ZWF3YXlzIiwiYXBwcm92ZWRHaXZlYXdheXMiLCJyZWplY3RlZEdpdmVhd2F5cyIsImdpdmVhd2F5cyIsImdpdmVhd2F5UmVxdWlyZW1lbnRzIiwiZ2l2ZWF3YXlJZCIsInJlZmVyZW5jZXMiLCJvbkRlbGV0ZSIsInR5cGUiLCJwb2ludHMiLCJyZXF1aXJlZCIsImxpbmsiLCJnaXZlYXdheVByaXplcyIsInBvc2l0aW9uIiwidmFsdWUiLCJ3aW5uZXJOYW1lIiwid2lubmVyRW1haWwiLCJjbGFpbWVkIiwiZ2l2ZWF3YXlFbnRyaWVzIiwidXNlcklkIiwidXNlck5hbWUiLCJ1c2VyRW1haWwiLCJlbnRyeURhdGUiLCJwb2ludHNFYXJuZWQiLCJyZXF1aXJlbWVudHNDb21wbGV0ZWQiLCJnaXZlYXdheVJldmlld3MiLCJyZXZpZXdlck5hbWUiLCJyZXZpZXdlckVtYWlsIiwicmV2aWV3ZXJJZCIsInJhdGluZyIsImNvbW1lbnQiLCJ2ZXJpZmllZFBhcnRpY2lwYW50Iiwic2NyaXB0UmV2aWV3cyIsInNjcmlwdElkIiwidmVyaWZpZWRQdXJjaGFzZSIsImJhc2VBZEZpZWxkcyIsImltYWdlVXJsIiwibGlua1VybCIsInByaW9yaXR5Iiwic3RhcnREYXRlIiwiY3JlYXRlZEJ5IiwicGVuZGluZ0FkcyIsImFwcHJvdmVkQWRzIiwicmVqZWN0ZWRBZHMiLCJ1c2Vyc1JlbGF0aW9ucyIsIm1hbnkiLCJzY3JpcHRzUmVsYXRpb25zIiwicmV2aWV3cyIsImdpdmVhd2F5c1JlbGF0aW9ucyIsImVudHJpZXMiLCJwcml6ZXMiLCJnaXZlYXdheUVudHJpZXNSZWxhdGlvbnMiLCJvbmUiLCJnaXZlYXdheSIsImZpZWxkcyIsInVzZXIiLCJnaXZlYXdheVJldmlld3NSZWxhdGlvbnMiLCJzY3JpcHRSZXZpZXdzUmVsYXRpb25zIiwic2NyaXB0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/schema.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fuser%2Fscripts%2Froute&page=%2Fapi%2Fuser%2Fscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fscripts%2Froute.ts&appDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fuser%2Fscripts%2Froute&page=%2Fapi%2Fuser%2Fscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fscripts%2Froute.ts&appDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Dell_Desktop_crux_marketplace_crux_marketplace_app_api_user_scripts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/user/scripts/route.ts */ \"(rsc)/./app/api/user/scripts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/user/scripts/route\",\n        pathname: \"/api/user/scripts\",\n        filename: \"route\",\n        bundlePath: \"app/api/user/scripts/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Dell\\\\Desktop\\\\crux-marketplace\\\\crux-marketplace\\\\app\\\\api\\\\user\\\\scripts\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Dell_Desktop_crux_marketplace_crux_marketplace_app_api_user_scripts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VyJTJGc2NyaXB0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXNlciUyRnNjcmlwdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1c2VyJTJGc2NyaXB0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNEZWxsJTVDRGVza3RvcCU1Q2NydXgtbWFya2V0cGxhY2UlNUNjcnV4LW1hcmtldHBsYWNlJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNEZWxsJTVDRGVza3RvcCU1Q2NydXgtbWFya2V0cGxhY2UlNUNjcnV4LW1hcmtldHBsYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUMrQztBQUM1SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcRGVsbFxcXFxEZXNrdG9wXFxcXGNydXgtbWFya2V0cGxhY2VcXFxcY3J1eC1tYXJrZXRwbGFjZVxcXFxhcHBcXFxcYXBpXFxcXHVzZXJcXFxcc2NyaXB0c1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXNlci9zY3JpcHRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlci9zY3JpcHRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS91c2VyL3NjcmlwdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxEZWxsXFxcXERlc2t0b3BcXFxcY3J1eC1tYXJrZXRwbGFjZVxcXFxjcnV4LW1hcmtldHBsYWNlXFxcXGFwcFxcXFxhcGlcXFxcdXNlclxcXFxzY3JpcHRzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fuser%2Fscripts%2Froute&page=%2Fapi%2Fuser%2Fscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fscripts%2Froute.ts&appDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/drizzle-orm","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/postgres","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/@panva","vendor-chunks/oidc-token-hash"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fuser%2Fscripts%2Froute&page=%2Fapi%2Fuser%2Fscripts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fscripts%2Froute.ts&appDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDell%5CDesktop%5Ccrux-marketplace%5Ccrux-marketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();